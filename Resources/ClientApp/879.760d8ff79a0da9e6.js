(self.webpackChunkapp_studio_enterprise_system_designer=self.webpackChunkapp_studio_enterprise_system_designer||[]).push([[879],{21879:(S,tt,s)=>{"use strict";s.r(tt),s.d(tt,{EnvironmentManagementModule:()=>B});var nt=s(84911),v=s(88692),H=s(35732),e=s(64537),m=s(20092),z=s(83331),it=s(79510),Qe=s(15756),ot=s(95236),rt=s(74817),at=s(93254),g=s(75378),f=s(26522),Z=s(33177),fe=s(69403),I=s(85686),Q=s(30362),T=s(41795),N=s(80542),ne=s(86200),M=s(36619);const vt=JSON.parse('{"EnvironmentManagement":{"PageTitle":"Creatio","WaitPageTitle":"Try Creatio"},"EnvironmentToolbar":{"Applications":"Application Hub","Users":"Users","Subscriptions":"Subscriptions"},"EnvironmentListItem":{"SelectEnvironment":"Select environment","Site":"Site:","Action":{"ManageApplications":"Manage applications","ManageEnvironment":"Manage environment","OpenConfiguration":"Open configuration","Restart":{"ProcessResponseSuccess":"Restart process successfully started","ProcessResponseFailure":"Restart process failed"}},"SiteIsNotRegisteredCaption":"The site is not registered on the portal, contact technical support."},"EnvironmentErrorPage":{"HaveNotActiveSites":"You have no active sites","GetFreeTrial":"Get a free trial","TrialExpiredCaption":"Your trial environment has expired","CreateNewCaption":"New environment","Oops":"Ooops...","Description":"There was an error while trying to connect to the site:","Proposition":"You can try to","RestartSite":"Restart","ContactSupport":"Contact Creatio support","TryLaterMessage":"At the moment, all free trials are taken, please, try again in a few minutes."},"EnvironmentsExceeded":{"Header":"The {0} product trials are waiting for you in the Application Hub","Description":"You have reached the trial limit.\\nYou will be able to order a new trial after an active trial expires.","ButtonCaption":"Go to Application Hub"},"AppDeploymentDialogComponent":{"DialogTitle":"Deploy app","DestinationEnvironmentTitle":"Destination site","DestinationEnvironmentPlaceholder":"Choose an environment for app deploy","NoDestinationEnvironmentsAvailablePlaceholder":"Unable to find any websites ready for deployment","NoDestinationEnvironmentsAvailableTooltip":"More than one active website is required to deploy the app","DeployButtonCaption":"Deploy","CancelButtonCaption":"Cancel","HealthCheckErrorMessage":"{0} destination website is currently unavailable. Try again later","AttentionText":"Make sure that the app is compatible with the version and product of the destination website. Apps based on the Studio product are compatible with all Creatio products. We recommend installing apps based on Marketing, Sales, or Service products into websites that contain the corresponding product."},"AppDeploymentStatus":{"DeploymentCaption":{"Line11":"Deploying","Line12":"","Line13":"app","From":"from ","To":"to "}},"Subscriptions":{"NoPermissionMessage":"Insufficient permissions to open the section. Contact the administrator of your organization."}}'),ft=JSON.parse('{"EnvironmentManagement":{"PageTitle":"Creatio","WaitPageTitle":"\u041E\u0446\u0435\u043D\u0438\u0442\u0435 \u043F\u0440\u043E\u0434\u0443\u043A\u0442\u044B Creatio"},"EnvironmentToolbar":{"Applications":"\u0426\u0435\u043D\u0442\u0440 \u043F\u0440\u0438\u043B\u043E\u0436\u0435\u043D\u0438\u0439","Users":"\u041F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u0438","Subscriptions":"\u041F\u043E\u0434\u043F\u0438\u0441\u043A\u0438"},"EnvironmentListItem":{"SelectEnvironment":"\u0412\u044B\u0431\u0435\u0440\u0438\u0442\u0435 \u0441\u0440\u0435\u0434\u0443","Site":"\u0421\u0430\u0439\u0442:","Action":{"ManageApplications":"\u0423\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u0438\u0435 \u043F\u0440\u0438\u043B\u043E\u0436\u0435\u043D\u0438\u044F\u043C\u0438","ManageEnvironment":"\u0423\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u0438\u0435 \u0441\u0440\u0435\u0434\u043E\u0439","OpenConfiguration":"\u041E\u0442\u043A\u0440\u044B\u0442\u044C \u043A\u043E\u043D\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044E","Restart":{"ProcessResponseSuccess":"\u041F\u0440\u043E\u0446\u0435\u0441\u0441 \u043F\u0435\u0440\u0435\u0437\u0430\u043F\u0443\u0441\u043A\u0430 \u0441\u0430\u0439\u0442\u0430 \u0443\u0441\u043F\u0435\u0448\u043D\u043E \u0437\u0430\u043F\u0443\u0449\u0435\u043D","ProcessResponseFailure":"\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0435\u0440\u0435\u0437\u0430\u043F\u0443\u0441\u043A\u0430 \u0441\u0430\u0439\u0442\u0430"}},"SiteIsNotRegisteredCaption":"\u0421\u0430\u0439\u0442 \u043D\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043E\u0432\u0430\u043D \u043D\u0430 \u043F\u043E\u0440\u0442\u0430\u043B\u0435, \u043E\u0431\u0440\u0430\u0442\u0438\u0442\u0435\u0441\u044C \u0432 \u0442\u0435\u0445\u043D\u0438\u0447\u0435\u0441\u043A\u0443\u044E \u043F\u043E\u0434\u0434\u0435\u0440\u0436\u043A\u0443."},"EnvironmentErrorPage":{"HaveNotActiveSites":"\u0423 \u0432\u0430\u0441 \u043D\u0435\u0442 \u0430\u043A\u0442\u0438\u0432\u043D\u044B\u0445 \u0441\u0430\u0439\u0442\u043E\u0432 Creatio","GetFreeTrial":"\u0422\u0435\u0441\u0442-\u0434\u0440\u0430\u0439\u0432","TrialExpiredCaption":"\u0421\u0440\u043E\u043A \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044F \u0432\u0430\u0448\u0435\u0439 \u043F\u0440\u043E\u0431\u043D\u043E\u0439 \u0441\u0440\u0435\u0434\u044B \u0438\u0441\u0442\u0435\u043A","CreateNewCaption":"\u041D\u043E\u0432\u0430\u044F \u0441\u0440\u0435\u0434\u0430","Oops":"\u041E\u043E\u043E\u0439...","Description":"\u041F\u0440\u043E\u0438\u0437\u043E\u0448\u043B\u0430 \u043E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u043F\u043E\u043F\u044B\u0442\u043A\u0435 \u043F\u043E\u0434\u043A\u043B\u044E\u0447\u0435\u043D\u0438\u044F \u043A \u0441\u0430\u0439\u0442\u0443:","Proposition":"\u0412\u044B \u043C\u043E\u0436\u0435\u0442\u0435 \u043F\u043E\u043F\u0440\u043E\u0431\u043E\u0432\u0430\u0442\u044C","RestartSite":"\u041F\u0435\u0440\u0435\u0437\u0430\u043F\u0443\u0441\u0442\u0438\u0442\u044C","ContactSupport":"\u0421\u0432\u044F\u0437\u0430\u0442\u044C\u0441\u044F \u0441 \u0442\u0435\u0445. \u043F\u043E\u0434\u0434\u0435\u0440\u0436\u043A\u043E\u0439 Creatio","TryLaterMessage":"\u0412 \u0434\u0430\u043D\u043D\u044B\u0439 \u043C\u043E\u043C\u0435\u043D\u0442 \u0441\u0432\u043E\u0431\u043E\u0434\u043D\u044B\u0435 \u0442\u0440\u0438\u0430\u043B\u044B \u043D\u0435\u0434\u043E\u0441\u0442\u0443\u043F\u043D\u044B, \u043F\u043E\u0432\u0442\u043E\u0440\u0438\u0442\u0435 \u043F\u043E\u043F\u044B\u0442\u043A\u0443 \u0447\u0435\u0440\u0435\u0437 \u043D\u0435\u0441\u043A\u043E\u043B\u044C\u043A\u043E \u043C\u0438\u043D\u0443\u0442."},"EnvironmentsExceeded":{"Header":"\u0410\u043A\u0442\u0438\u0432\u043D\u044B\u0435 \u043F\u0440\u0438\u043B\u043E\u0436\u0435\u043D\u0438\u044F \u043F\u0440\u043E\u0434\u0443\u043A\u0442\u0430 {0} \u043E\u0436\u0438\u0434\u0430\u044E\u0442 \u0432\u0430\u0441 \u0432 \u0426\u0435\u043D\u0442\u0440\u0435 \u041F\u0440\u0438\u043B\u043E\u0436\u0435\u043D\u0438\u0439","Description":"\u0412\u044B \u0434\u043E\u0441\u0442\u0438\u0433\u043B\u0438 \u043B\u0438\u043C\u0438\u0442\u0430 \u043F\u043E \u043A\u043E\u043B\u0438\u0447\u0435\u0441\u0442\u0432\u0443 \u044D\u043A\u0437\u0435\u043C\u043F\u043B\u044F\u0440\u043E\u0432 \u043F\u0440\u0438\u043B\u043E\u0436\u0435\u043D\u0438\u0439.\\n\u0417\u0430\u043A\u0430\u0437\u0430\u0442\u044C \u043D\u043E\u0432\u043E\u0435 \u043F\u0440\u0438\u043B\u043E\u0436\u0435\u043D\u0438\u0435 \u0432\u044B \u0441\u043C\u043E\u0436\u0435\u0442\u0435 \u043F\u043E \u0438\u0441\u0442\u0435\u0447\u0435\u043D\u0438\u0438 \u0441\u0440\u043E\u043A\u0430 \u0438\u0441\u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u043D\u0438\u044F \u0445\u043E\u0442\u044F \u0431\u044B \u043E\u0434\u043D\u043E\u0433\u043E \u0438\u0437 \u0440\u0430\u043D\u0435\u0435 \u0437\u0430\u043A\u0430\u0437\u0430\u043D\u043D\u044B\u0445 \u044D\u043A\u0437\u0435\u043C\u043F\u043B\u044F\u0440\u043E\u0432.","ButtonCaption":"\u041F\u0435\u0440\u0435\u0439\u0442\u0438 \u0432 \u0426\u0435\u043D\u0442\u0440 \u041F\u0440\u0438\u043B\u043E\u0436\u0435\u043D\u0438\u0439"},"AppDeploymentDialogComponent":{"DialogTitle":"\u041F\u043E\u0441\u0442\u0430\u0432\u043A\u0430 \u043F\u0440\u0438\u043B\u043E\u0436\u0435\u043D\u0438\u044F","DestinationEnvironmentTitle":"\u0421\u0430\u0439\u0442 \u043D\u0430\u0437\u043D\u0430\u0447\u0435\u043D\u0438\u044F","DestinationEnvironmentPlaceholder":"\u0412\u044B\u0431\u0435\u0440\u0438\u0442\u0435 \u0441\u0440\u0435\u0434\u0443 \u0434\u043B\u044F \u043F\u043E\u0441\u0442\u0430\u0432\u043A\u0438 \u043F\u0440\u0438\u043B\u043E\u0436\u0435\u043D\u0438\u044F","NoDestinationEnvironmentsAvailablePlaceholder":"\u041D\u0435\u0442 \u0434\u043E\u0441\u0442\u0443\u043F\u043D\u044B\u0445 \u0434\u043B\u044F \u043F\u043E\u0441\u0442\u0430\u0432\u043A\u0438 \u0441\u0430\u0439\u0442\u043E\u0432","NoDestinationEnvironmentsAvailableTooltip":"\u0414\u043B\u044F \u043F\u0435\u0440\u0435\u043D\u043E\u0441\u0430 \u043F\u0440\u0438\u043B\u043E\u0436\u0435\u043D\u0438\u044F \u043D\u0435\u043E\u0431\u0445\u043E\u0434\u0438\u043C, \u043A\u0430\u043A \u043C\u0438\u043D\u0438\u043C\u0443\u043C, \u043E\u0434\u0438\u043D \u0430\u043A\u0442\u0438\u0432\u043D\u044B\u0439 \u0441\u0430\u0439\u0442","DeployButtonCaption":"\u041F\u043E\u0441\u0442\u0430\u0432\u0438\u0442\u044C","CancelButtonCaption":"\u041E\u0442\u043C\u0435\u043D\u0430","HealthCheckErrorMessage":"\u0421\u0430\u0439\u0442 \u043D\u0430\u0437\u043D\u0430\u0447\u0435\u043D\u0438\u044F {0} \u0432 \u0434\u0430\u043D\u043D\u044B\u0439 \u043C\u043E\u043C\u0435\u043D\u0442 \u043D\u0435\u0434\u043E\u0441\u0442\u0443\u043F\u0435\u043D. \u041F\u043E\u043F\u0440\u043E\u0431\u0443\u0439\u0442\u0435 \u043F\u043E\u0437\u0436\u0435","AttentionText":"\u0423\u0431\u0435\u0434\u0438\u0442\u0435\u0441\u044C, \u0447\u0442\u043E \u043F\u043E\u0441\u0442\u0430\u0432\u043B\u044F\u0435\u043C\u043E\u0435 \u043F\u0440\u0438\u043B\u043E\u0436\u0435\u043D\u0438\u0435 \u0441\u043E\u0432\u043C\u0435\u0441\u0442\u0438\u043C\u043E \u0441 \u0432\u0435\u0440\u0441\u0438\u0435\u0439 \u0438 \u043F\u0440\u043E\u0434\u0443\u043A\u0442\u043E\u043C \u0446\u0435\u043B\u043E\u0432\u043E\u0433\u043E \u0441\u0430\u0439\u0442\u0430. \u041F\u0440\u0438\u043B\u043E\u0436\u0435\u043D\u0438\u044F, \u0440\u0430\u0437\u0440\u0430\u0431\u043E\u0442\u0430\u043D\u043D\u044B\u0435 \u043D\u0430 \u043E\u0441\u043D\u043E\u0432\u0435 \u043F\u0440\u043E\u0434\u0443\u043A\u0442\u0430 Studio, \u0441\u043E\u0432\u043C\u0435\u0441\u0442\u0438\u043C\u044B \u0441 \u043B\u044E\u0431\u044B\u043C \u0434\u0440\u0443\u0433\u0438\u043C \u043F\u0440\u043E\u0434\u0443\u043A\u0442\u043E\u043C Creatio. \u041F\u0440\u0438\u043B\u043E\u0436\u0435\u043D\u0438\u044F, \u0440\u0430\u0437\u0440\u0430\u0431\u043E\u0442\u0430\u043D\u043D\u044B\u0435 \u043D\u0430 \u043F\u0440\u043E\u0434\u0443\u043A\u0442\u0430\u0445 Marketing, Sales \u0438\u043B\u0438 Service, \u0440\u0435\u043A\u043E\u043C\u0435\u043D\u0434\u0443\u0435\u043C \u0443\u0441\u0442\u0430\u043D\u0430\u0432\u043B\u0438\u0432\u0430\u0442\u044C \u043D\u0430 \u0441\u0430\u0439\u0442\u044B, \u0441\u043E\u0434\u0435\u0440\u0436\u0430\u0449\u0438\u0435 \u0434\u0430\u043D\u043D\u044B\u0439 \u043F\u0440\u043E\u0434\u0443\u043A\u0442."},"AppDeploymentStatus":{"DeploymentCaption":{"Line11":"\u041F\u043E\u0441\u0442\u0430\u0432\u043B\u044F\u0435\u043C","Line12":"\u043F\u0440\u0438\u043B\u043E\u0436\u0435\u043D\u0438\u0435","Line13":"","From":"\u0438\u0437","To":"\u043D\u0430"}},"Subscriptions":{"NoPermissionMessage":"\u041D\u0435\u0434\u043E\u0441\u0442\u0430\u0442\u043E\u0447\u043D\u043E \u043F\u0440\u0430\u0432 \u0434\u043B\u044F \u043F\u0435\u0440\u0435\u0445\u043E\u0434\u0430 \u0432 \u0434\u0430\u043D\u043D\u044B\u0439 \u0440\u0430\u0437\u0434\u0435\u043B. \u041E\u0431\u0440\u0430\u0442\u0438\u0442\u0435\u0441\u044C \u043A \u0430\u0434\u043C\u0438\u043D\u0438\u0441\u0442\u0440\u0430\u0442\u043E\u0440\u0443 \u0432\u0430\u0448\u0435\u0439 \u043E\u0440\u0433\u0430\u043D\u0438\u0437\u0430\u0446\u0438\u0438."}}'),Ct=JSON.parse(`{"EnvironmentManagement":{"PageTitle":"Creatio","WaitPageTitle":"\u041E\u0446\u0456\u043D\u0456\u0442\u044C \u043F\u0440\u043E\u0434\u0443\u043A\u0442\u0438 Creatio"},"EnvironmentToolbar":{"Applications":"\u0426\u0435\u043D\u0442\u0440 \u0437\u0430\u0441\u0442\u043E\u0441\u0443\u043D\u043A\u0456\u0432","Users":"\u041A\u043E\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0456"},"EnvironmentListItem":{"SelectEnvironment":"\u0412\u0438\u0431\u0435\u0440\u0456\u0442\u044C \u0441\u0435\u0440\u0435\u0434\u043E\u0432\u0438\u0449\u0435","Site":"\u0421\u0430\u0439\u0442:","Action":{"ManageApplications":"\u041A\u0435\u0440\u0443\u0432\u0430\u043D\u043D\u044F \u0437\u0430\u0441\u0442\u043E\u0441\u0443\u043D\u043A\u0430\u043C\u0438","ManageEnvironment":"\u041A\u0435\u0440\u0443\u0432\u0430\u043D\u043D\u044F \u0441\u0435\u0440\u0435\u0434\u043E\u0432\u0438\u0449\u0435\u043C","OpenConfiguration":"\u0412\u0456\u0434\u043A\u0440\u0438\u0442\u0438 \u043A\u043E\u043D\u0444\u0456\u0433\u0443\u0440\u0430\u0446\u0456\u044E","Restart":{"ProcessResponseSuccess":"\u041F\u0440\u043E\u0446\u0435\u0441 \u043F\u0435\u0440\u0435\u0437\u0430\u043F\u0443\u0441\u043A\u0443 \u0441\u0430\u0439\u0442\u0443 \u0443\u0441\u043F\u0456\u0448\u043D\u043E \u0437\u0430\u043F\u0443\u0449\u0435\u043D\u043E","ProcessResponseFailure":"\u041F\u043E\u043C\u0438\u043B\u043A\u0430 \u043F\u0435\u0440\u0435\u0437\u0430\u043F\u0443\u0441\u043A\u0443 \u0441\u0430\u0439\u0442\u0443"}},"SiteIsNotRegisteredCaption":"\u0421\u0430\u0439\u0442 \u043D\u0435 \u0437\u0430\u0440\u0435\u0454\u0441\u0442\u0440\u043E\u0432\u0430\u043D\u0438\u0439 \u043D\u0430 \u043F\u043E\u0440\u0442\u0430\u043B\u0456, \u0437\u0432\u0435\u0440\u043D\u0456\u0442\u044C\u0441\u044F \u0434\u043E \u0442\u0435\u0445\u043D\u0456\u0447\u043D\u043E\u0457 \u043F\u0456\u0434\u0442\u0440\u0438\u043C\u043A\u0438."},"EnvironmentErrorPage":{"HaveNotActiveSites":"\u0423 \u0432\u0430\u0441 \u043D\u0435\u043C\u0430\u0454 \u0430\u043A\u0442\u0438\u0432\u043D\u0438\u0445 \u0441\u0430\u0439\u0442\u0456\u0432 Creatio","GetFreeTrial":"\u0422\u0435\u0441\u0442-\u0434\u0440\u0430\u0439\u0432","TrialExpiredCaption":"\u0422\u0435\u0440\u043C\u0456\u043D \u0434\u0456\u0457 \u0432\u0430\u0448\u043E\u0433\u043E \u043F\u0440\u043E\u0431\u043D\u043E\u0433\u043E \u0441\u0435\u0440\u0435\u0434\u043E\u0432\u0438\u0449\u0430 \u0437\u0430\u0432\u0435\u0440\u0448\u0438\u0432\u0441\u044F","CreateNewCaption":"\u041D\u043E\u0432\u0435 \u0441\u0435\u0440\u0435\u0434\u043E\u0432\u0438\u0449\u0435","Oops":"\u041E\u043E\u043E\u0439...","Description":"\u0412\u0438\u043D\u0438\u043A\u043B\u0430 \u043F\u043E\u043C\u0438\u043B\u043A\u0430 \u043F\u0440\u0438 \u0441\u043F\u0440\u043E\u0431\u0456 \u043F\u0456\u0434\u043A\u043B\u044E\u0447\u0435\u043D\u043D\u044F \u0434\u043E \u0441\u0430\u0439\u0442\u0443:","Proposition":"\u0412\u0438 \u043C\u043E\u0436\u0435\u0442\u0435 \u0441\u043F\u0440\u043E\u0431\u0443\u0432\u0430\u0442\u0438","RestartSite":"\u041F\u0435\u0440\u0435\u0437\u0430\u0432\u0430\u043D\u0442\u0430\u0436\u0438\u0442\u0438","ContactSupport":"\u0417\u0432'\u044F\u0437\u0430\u0442\u0438\u0441\u044F \u0437 \u0442\u0435\u0445. \u043F\u0456\u0434\u0442\u0440\u0438\u043C\u043A\u043E\u044E Creatio","TryLaterMessage":"\u041D\u0430\u0440\u0430\u0437\u0456 \u0432\u0456\u043B\u044C\u043D\u0438\u0445 \u0442\u0440\u0456\u0430\u043B\u0456\u0432 \u043D\u0435\u043C\u0430\u0454, \u0441\u043F\u0440\u043E\u0431\u0443\u0439\u0442\u0435 \u0449\u0435 \u0440\u0430\u0437 \u0437\u0430 \u043A\u0456\u043B\u044C\u043A\u0430 \u0445\u0432\u0438\u043B\u0438\u043D."},"EnvironmentsExceeded":{"Header":"\u0410\u043A\u0442\u0438\u0432\u043D\u0456 \u0437\u0430\u0441\u0442\u043E\u0441\u0443\u043D\u043A\u0438 \u043F\u0440\u043E\u0434\u0443\u043A\u0442\u0430 {0} \u043E\u0447\u0456\u043A\u0443\u044E\u0442\u044C \u043D\u0430 \u0432\u0430\u0441 \u0443 \u0426\u0435\u043D\u0442\u0440\u0456 \u0417\u0430\u0441\u0442\u043E\u0441\u0443\u043D\u043A\u0456\u0432","Description":"\u0412\u0438 \u0434\u043E\u0441\u044F\u0433\u043B\u0438 \u043B\u0456\u043C\u0456\u0442\u0443 \u043F\u043E \u043A\u0456\u043B\u044C\u043A\u043E\u0441\u0442\u0456 \u0435\u043A\u0437\u0435\u043C\u043F\u043B\u044F\u0440\u0456\u0432 \u0437\u0430\u0441\u0442\u043E\u0441\u0443\u043D\u043A\u0456\u0432.\\n\u0417\u0430\u043C\u043E\u0432\u0438\u0442\u0438 \u043D\u043E\u0432\u0438\u0439 \u0437\u0430\u0441\u0442\u043E\u0441\u0443\u043D\u043E\u043A \u0432\u0438 \u0437\u043C\u043E\u0436\u0435\u0442\u0435 \u043F\u0456\u0441\u043B\u044F \u0442\u043E\u0433\u043E, \u044F\u043A \u0441\u043F\u043B\u0438\u0432\u0435 \u0441\u0442\u0440\u043E\u043A \u0432\u0438\u043A\u043E\u0440\u0438\u0441\u0442\u0430\u043D\u043D\u044F \u043F\u0440\u0438\u043D\u0430\u0439\u043C\u043D\u0456 \u043E\u0434\u043D\u043E\u0433\u043E \u0456\u0437 \u0437\u0430\u043C\u043E\u0432\u043B\u0435\u043D\u0438\u0445 \u0435\u043A\u0437\u0435\u043C\u043F\u043B\u044F\u0440\u0456\u0432.","ButtonCaption":"\u041F\u0435\u0440\u0435\u0439\u0442\u0438 \u0434\u043E \u0426\u0435\u043D\u0442\u0440\u0443 \u0417\u0430\u0441\u0442\u043E\u0441\u0443\u043D\u043A\u0456\u0432"},"AppDeploymentDialogComponent":{"DialogTitle":"\u041F\u043E\u0441\u0442\u0430\u0432\u043A\u0430 \u0437\u0430\u0441\u0442\u043E\u0441\u0443\u043D\u043A\u0443","DestinationEnvironmentTitle":"\u0421\u0430\u0439\u0442 \u043F\u0440\u0438\u0437\u043D\u0430\u0447\u0435\u043D\u043D\u044F","DestinationEnvironmentPlaceholder":"\u041E\u0431\u0435\u0440\u0456\u0442\u044C \u0441\u0435\u0440\u0435\u0434\u043E\u0432\u0438\u0449\u0435 \u0434\u043B\u044F \u043F\u043E\u0441\u0442\u0430\u0432\u043A\u0438 \u0437\u0430\u0441\u0442\u043E\u0441\u0443\u043D\u043A\u0443","NoDestinationEnvironmentsAvailablePlaceholder":"\u041D\u0435\u043C\u0430\u0454 \u0434\u043E\u0441\u0442\u0443\u043F\u043D\u0438\u0445 \u0434\u043B\u044F \u043F\u043E\u0441\u0442\u0430\u0432\u043A\u0438 \u0441\u0430\u0439\u0442\u0456\u0432","NoDestinationEnvironmentsAvailableTooltip":"\u0414\u043B\u044F \u043F\u0435\u0440\u0435\u043D\u0435\u0441\u0435\u043D\u043D\u044F \u0437\u0430\u0441\u0442\u043E\u0441\u0443\u043D\u043A\u0443 \u043D\u0435\u043E\u0431\u0445\u0456\u0434\u043D\u0438\u0439, \u0449\u043E\u043D\u0430\u0439\u043C\u0435\u043D\u0448\u0435, \u043E\u0434\u0438\u043D \u0430\u043A\u0442\u0438\u0432\u043D\u0438\u0439 \u0441\u0430\u0439\u0442","DeployButtonCaption":"\u041F\u043E\u0441\u0442\u0430\u0432\u0438\u0442\u0438","CancelButtonCaption":"\u0421\u043A\u0430\u0441\u0443\u0432\u0430\u0442\u0438","HealthCheckErrorMessage":"\u0421\u0430\u0439\u0442 \u043F\u0440\u0438\u0437\u043D\u0430\u0447\u0435\u043D\u043D\u044F {0} \u043D\u0430\u0440\u0430\u0437\u0456 \u043D\u0435\u0434\u043E\u0441\u0442\u0443\u043F\u043D\u0438\u0439. \u0421\u043F\u0440\u043E\u0431\u0443\u0439\u0442\u0435 \u043F\u0456\u0437\u043D\u0456\u0448\u0435","AttentionText":"\u041F\u0435\u0440\u0435\u043A\u043E\u043D\u0430\u0439\u0442\u0435\u0441\u044F, \u0449\u043E \u0437\u0430\u0441\u0442\u043E\u0441\u0443\u043D\u043E\u043A \u0441\u0443\u043C\u0456\u0441\u043D\u0438\u0439 \u0437 \u0432\u0435\u0440\u0441\u0456\u0454\u044E \u0442\u0430 \u043F\u0440\u043E\u0434\u0443\u043A\u0442\u043E\u043C \u0446\u0456\u043B\u044C\u043E\u0432\u043E\u0433\u043E \u0441\u0430\u0439\u0442\u0443. \u0417\u0430\u0441\u0442\u043E\u0441\u0443\u043D\u043A\u0438, \u0441\u0442\u0432\u043E\u0440\u0435\u043D\u0456 \u043D\u0430 \u043E\u0441\u043D\u043E\u0432\u0456 \u043F\u0440\u043E\u0434\u0443\u043A\u0442\u0443 Studio, \u0441\u0443\u043C\u0456\u0441\u043D\u0456 \u0437 \u0431\u0443\u0434\u044C-\u044F\u043A\u0438\u043C\u0438 \u0456\u043D\u0448\u0438\u043C\u0438 \u043F\u0440\u043E\u0434\u0443\u043A\u0442\u0430\u043C\u0438 Creatio. \u0417\u0430\u0441\u0442\u043E\u0441\u0443\u043D\u043A\u0438, \u0441\u0442\u0432\u043E\u0440\u0435\u043D\u0456 \u043D\u0430 \u043E\u0441\u043D\u043E\u0432\u0456 \u043F\u0440\u043E\u0434\u0443\u043A\u0442\u0456\u0432 Marketing, Sales \u0430\u0431\u043E Service, \u0440\u0435\u043A\u043E\u043C\u0435\u043D\u0434\u0443\u0454\u043C\u043E \u0432\u0441\u0442\u0430\u043D\u043E\u0432\u043B\u044E\u0432\u0430\u0442\u0438 \u043D\u0430 \u0441\u0430\u0439\u0442\u0438, \u0449\u043E \u043C\u0456\u0441\u0442\u044F\u0442\u044C \u0434\u0430\u043D\u0438\u0439 \u043F\u0440\u043E\u0434\u0443\u043A\u0442."},"AppDeploymentStatus":{"DeploymentCaption":{"Line11":"\u041F\u043E\u0441\u0442\u0430\u0432\u043B\u044F\u0454\u043C\u043E","Line12":"\u0437\u0430\u0441\u0442\u043E\u0441\u0443\u043D\u043E\u043A","Line13":"","From":"\u0437","To":"\u043D\u0430"}}}`),Mt={"en-US":vt,"ru-RU":ft,"uk-UA":Ct};var W;(function(o){o.CreateBackup="D9AA361E-4E8A-4043-ACB4-8A395CA6CBEB",o.ExportApplication="B2544F8E-2837-4628-9614-68411D2D9296",o.Installation="A12B3C55-0C0B-41C1-B2DC-E3CD685919E6",o.Restart="3F4A0895-90E5-4F71-8CB3-E69B9336E9CF",o.UploadApplication="FACD3CA6-CAC0-4496-B3D0-B6901F48B33A",o.Validation="62F7413F-16CF-43C9-97E5-2292DFF47317"})(W||(W={}));var V;(function(o){o.Running="e40063f9-0e63-44d8-b0c1-b628aeaadcf7",o.Maintenance="c2b5f9ec-dec2-494b-91b7-425276d3bf47",o.Stopped="e0c1f983-5e43-4889-a549-73c452cca254",o.Inactive="b5e260a2-ae7a-4c13-aab1-a381473a4e2a"})(V||(V={}));var st;(function(o){o.Production="826040fb-5d2b-429b-87e3-f3b30c11f74c",o.Development="3ca3c251-b137-4a2f-b3a6-257e317d0b2a",o.Test="a1427d3c-d513-4f2b-9f66-cB4df444af41",o.PreProduction="c6e9c410-1cf3-4c5f-a5b1-98c756373bfa",o.Trial="3e0c8e0c-4656-4Be5-8064-91c25770abcb"})(st||(st={}));var O;(function(o){o.Pending="019733F9-BFA7-4886-80C6-B7284A5A8713",o.Queuing="3A7813A8-25BC-43D6-A532-E3F10DFAB2DD",o.Completed="74796057-5099-4C6D-BD45-7BFB24298101",o.Running="92AB7B8D-CD36-4046-9E8C-23E277C983FC",o.Error="F0BA33FA-1D4A-4079-84F0-A757AAB6A38F",o.Canceled="F483ECF7-2B87-48BF-A2B8-4568CA3A2E21"})(O||(O={}));var Ge;(function(o){o.DeployApplication="1bb44c5a-b7ec-48c6-a547-f054c6beb9ee",o.RestoreFromBackup="4D1BC4DA-0799-424F-87FB-A124812F6D2A"})(Ge||(Ge={}));var ct=s(37697),y=s(38023),b=s(61528),bt=s(9018),D=s(74970),d=s(13528),lt=s(11770),G=s(11465),C=s(27969);class F{constructor(t,n){this._notificationReceiver=t,this._queryExecutor=n,this._operationType="EnvironmentEventStatusNotifier"}_createEnvironmentEvent(t){var n;const i=t.Params;return{id:t.Id,statusId:t.Status.value,stageId:(n=t.Stage)===null||n===void 0?void 0:n.value,params:i&&JSON.parse(t.Params)}}getEnvironmentEvent(t){const n=new g.EntitySchemaQuery("EnvironmentEvent");for(const i of["Id","Status","Stage","Params"])n.addSchemaColumn(i);return n.filters.addSchemaColumnFilterWithParameter(g.ComparisonType.Equal,"Id",t),this._queryExecutor.executeSelectQuery(n).pipe((0,C.U)(i=>{if(i.length===0)throw new Error(`No environment event with Id = ${t} has been found`);return this._createEnvironmentEvent(i[0])}))}getEnvironmentEventStates(t){return this._notificationReceiver.getNotifications(this._operationType,t)}createEvent(t,n,i){const r=new g.InsertQuery("EnvironmentEvent");return r.addColumn("Status",O.Pending,g.DataValueType.Lookup),r.addColumn("EnvironmentAction",n,g.DataValueType.Lookup),r.addColumn("Environment",t,g.DataValueType.Lookup),r.addColumn("Params",JSON.stringify(i),g.DataValueType.Text),this._queryExecutor.executeInsertQuery(r)}}F.\u0275fac=function(t){return new(t||F)(e.LFG(G.cr),e.LFG(fe.oq))},F.\u0275prov=e.Yz7({token:F,factory:F.\u0275fac});var L=s(84945),Pt=s(10447),It=s(33568),St=s(65598);const pt=new e.OlP("defaultHealthCheckTimeout");class ${constructor(t,n){this._http=t,this._timeout=n,this._healthCheckUrlSegment="api/HealthCheck/Ping"}checkIsEnvironmentEnabled(t){return t?this._http.get(`${t}/${this._healthCheckUrlSegment}`).pipe((0,Pt.V)(this._timeout),(0,C.U)(()=>!0),(0,It.K)(n=>(console.error(n),(0,L.of)(!1))),(0,St.q)(1)):(0,L.of)(!1)}}$.\u0275fac=function(t){return new(t||$)(e.LFG(H.eN),e.LFG(pt))},$.\u0275prov=e.Yz7({token:$,factory:$.\u0275fac,providedIn:"root"});var yt=s(54121),ie=s(98168),Et=s(83787);class E{get environmentList(){return this._loadedEnvironment.asObservable()}constructor(t,n,i){this.queryExecutor=t,this._destroyed$=new y.x,this._esqSchemaName="Environments",this._environmentList=new Array,this._loadedEnvironment=new yt.X([]),n.getFeatureState("ReloadEnvironmentsOnChangeEventReceived").pipe((0,D.h)(r=>r),(0,b.w)(()=>i.messageEvent$),(0,D.h)(r=>["EnvironmentChangeEventNotifier","CreateEnvironmentResult"].includes(r.header.sender)),(0,ie.b)(()=>this._environmentList.length=0),(0,d.R)(this._destroyed$)).subscribe()}_loadEnvironments(){const t=new g.EntitySchemaQuery(this._esqSchemaName);return this._addEsqColumns(t),this.queryExecutor.executeSelectQuery(t).pipe((0,C.U)(n=>(this._environmentList=n.map(this._createEnvironmentItem),this._environmentList)),(0,ie.b)(n=>this._loadedEnvironment.next(n)))}_addEsqColumns(t){t.addSchemaColumn("Id"),t.addSchemaColumn("Name"),t.addSchemaColumn("Url"),t.addSchemaColumn("Code"),t.addSchemaColumn("IsNetCoreApplication"),t.addSchemaColumn("Status.Id","StatusId"),t.addSchemaColumn("Type.Id","TypeId");const n=t.addSchemaColumn("Type.Position","TypePosition");this._setupOrder(n,g.OrderDirection.Asc,1);const i=t.addSchemaColumn("CreatedOn");this._setupOrder(i,g.OrderDirection.Desc,2),t.rowCount=50}_setupOrder(t,n,i){t.orderDirection=n,t.orderPosition=i}_createEnvironmentItem(t){return{id:t.Id,name:t.Name,url:t.Url,status:t.StatusId,type:t.TypeId,createdOn:t.CreatedOn,code:t.Code,isNetCoreApplication:t.IsNetCoreApplication}}_findByFirstRunning(t){return t.find(n=>n.status===V.Running)}_findByStartUrlPart(t,n){const i=n.toLowerCase();return t.find(r=>r.url&&i.startsWith(r.url.toLowerCase()))}_findByPartUrl(t,n){const i=new RegExp(`${n}([\\.:\\/].*)?$`);return t.find(r=>{var a;return(a=r.url)===null||a===void 0?void 0:a.match(i)})}getEnvironments(){return this._environmentList.length>0?(0,L.of)(this._environmentList):this._loadEnvironments()}findEnvironmentByPartUrl(t){return this._findByPartUrl(this._environmentList,t)}findEnvironmentByStartWithUrl(t){return this._findByStartUrlPart(this._environmentList,t)}getFirstActiveEnvironment(){return this._findByFirstRunning(this._environmentList)}getFirstActiveEnvironmentAsync(){return this.getEnvironments().pipe((0,b.w)(t=>{const n=this._findByFirstRunning(t);return(0,L.of)(n)}))}findEnvironmentByPartUrlAsync(t){return this.getEnvironments().pipe((0,b.w)(n=>{const i=this._findByPartUrl(n,t);return(0,L.of)(i)}))}findEnvironmentByStartWithUrlAsync(t){return this.getEnvironments().pipe((0,b.w)(n=>{const i=this._findByStartUrlPart(n,t);return(0,L.of)(i)}))}getEnvironmentById(t){return this.getEnvironments().pipe((0,b.w)(n=>{const i=n.find(r=>r.id===t);return i?(0,L.of)(i):(0,Et._)(()=>new Error(`Environment with Id = ${t} not found`))}))}ngOnDestroy(){this._destroyed$.next(),this._destroyed$.complete()}}E.\u0275fac=function(t){return new(t||E)(e.LFG(fe.oq),e.LFG(G.UZ),e.LFG(M.zgS))},E.\u0275prov=e.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"});var h=s(56707),xt=s(51257),Ye=s(43315),We=s(49700),je=s(17870),Be=s(47531);function wt(o,t){if(o&1&&(e._UZ(0,"crt-combobox",9),e.ALo(1,"translate")),o&2){const n=e.oxw();e.Q6J("control",n.destinationEnvironmentControl)("items",n.destinationEnvironmentLookupValues)("useStaticFiltering",!0)("placeholder",n.getDestinationEnvironmentControlPlaceholder())("label",e.lcZ(1,5,"AppDeploymentDialogComponent.DestinationEnvironmentTitle"))}}class Ce extends I.XK{get appInstallationInfo(){return{name:this._appDeploymentInfo.name,maintainer:this._appDeploymentInfo.maintainer,lastUpdate:this._appDeploymentInfo.lastUpdate}}constructor(t,n,i,r,a,c,l,u,p){super(p),this._dialogRef=n,this._environmentManagementService=i,this._dialogService=r,this._healthCheckService=a,this._restHandler=c,this._translateService=l,this._environmentEventService=u,this._destroyed$=new y.x,this.actionButtonsSize=N.mOF.Large,this.destinationEnvironmentControl=new m.p4("",[this._createAvailableEnvironmentsValidatorFn()]),this.appDeploymentFormGroup=new m.cw({destinationSite:this.destinationEnvironmentControl}),this._sourceEnvironment=t.sourceEnvironment,this._appDeploymentInfo=t.appDeploymentInfo}_loadDestinationEnvironments(){this._restHandler.handleRequest(this._environmentManagementService.getEnvironments()).subscribe(t=>{this._destinationEnvironments=t.filter(n=>n.status===V.Running&&this._sourceEnvironment.id!==n.id),this.destinationEnvironmentLookupValues=this._destinationEnvironments.map(this._createLookupItem)})}_createAvailableEnvironmentsValidatorFn(){return t=>{var n;return((n=this._destinationEnvironments)===null||n===void 0?void 0:n.length)===0?{AvailableEnvironments:{message:this._translateService.instant("AppDeploymentDialogComponent.NoDestinationEnvironmentsAvailableTooltip")}}:null}}_createLookupItem(t){return{displayValue:t.name,value:t.id}}_getDestinationEnvironmentModel(t){var n;const i=(n=this._destinationEnvironments)===null||n===void 0?void 0:n.find(r=>r.id===t);if(!i)throw new Error(`Environment with identifier ${t} not found`);return i}_createEnvironmentEventParams(t){return{sourceEnvironmentId:this._sourceEnvironment.id,sourceEnvironmentName:this._sourceEnvironment.name,destinationEnvironmentId:t.id,destinationEnvironmentName:t.name,appId:this._appDeploymentInfo.id,appName:this._appDeploymentInfo.name,appCode:this._appDeploymentInfo.code}}_showHealthCheckErrorMessage(t){const n=this._translateService.instant("AppDeploymentDialogComponent.HealthCheckErrorMessage");this._dialogService.openInfoDialog(lt.Ld.Format(n,t))}ngOnInit(){super.ngOnInit(),this._loadDestinationEnvironments()}ngOnDestroy(){super.ngOnDestroy(),this._destroyed$.next(),this._destroyed$.complete()}cancel(){this._dialogRef.close()}confirmDeployment(){const t=this.destinationEnvironmentControl.value.value,n=this._getDestinationEnvironmentModel(t);this._restHandler.handleRequest(this._healthCheckService.checkIsEnvironmentEnabled(n.url)).pipe((0,b.w)(i=>i?this._restHandler.handleRequest(this._environmentEventService.createEvent(t,Ge.DeployApplication,this._createEnvironmentEventParams(n))):(this._showHealthCheckErrorMessage(n.url),bt.E)),(0,D.h)(i=>i.success),(0,d.R)(this._destroyed$)).subscribe(i=>this._dialogRef.close({environmentEventId:i.id}))}getDestinationEnvironmentControlPlaceholder(){var t;const n=((t=this._destinationEnvironments)===null||t===void 0?void 0:t.length)===0?"NoDestinationEnvironmentsAvailablePlaceholder":"DestinationEnvironmentPlaceholder";return this._translateService.instant(`AppDeploymentDialogComponent.${n}`)}}Ce.\u0275fac=function(t){return new(t||Ce)(e.Y36(ct.eJ),e.Y36(ct.hV),e.Y36(E),e.Y36(f.xA),e.Y36($),e.Y36(M.MW0),e.Y36(h.sK),e.Y36(F),e.Y36(T.k))},Ce.\u0275cmp=e.Xpm({type:Ce,selectors:[["crt-app-deployment-dialog"]],features:[e.qOj],decls:13,vars:20,consts:[["mat-dialog-title",""],["labelType","headline-2",1,"header-caption",3,"caption"],["mat-dialog-content",""],[3,"formGroup"],["class","destination-environment","labelPosition","above","appearance","outline","tsDataItemMarker","destination-environment",3,"control","items","useStaticFiltering","placeholder","label",4,"ngIf"],[3,"appInstallationInfo","attentionText"],["mat-dialog-actions",""],["shape","rounded","tsDataItemMarker","cancel-deployment-button",3,"size","caption","disableRipple","clicked"],["shape","rounded","color","primary","tsDataItemMarker","confirm-deployment-button",3,"size","caption","disableRipple","disabled","clicked"],["labelPosition","above","appearance","outline","tsDataItemMarker","destination-environment",1,"destination-environment",3,"control","items","useStaticFiltering","placeholder","label"]],template:function(t,n){t&1&&(e.TgZ(0,"div",0),e._UZ(1,"crt-label",1),e.ALo(2,"translate"),e.qZA(),e.TgZ(3,"div",2)(4,"ng-form",3),e.YNc(5,wt,2,7,"crt-combobox",4),e.qZA(),e._UZ(6,"crt-app-installation-info-block",5),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"div",6)(9,"crt-button",7),e.NdJ("clicked",function(){return n.cancel()}),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"crt-button",8),e.NdJ("clicked",function(){return n.confirmDeployment()}),e.ALo(12,"translate"),e.qZA()()),t&2&&(e.xp6(1),e.Q6J("caption",e.lcZ(2,12,"AppDeploymentDialogComponent.DialogTitle")),e.xp6(3),e.Q6J("formGroup",n.appDeploymentFormGroup),e.xp6(1),e.Q6J("ngIf",n.destinationEnvironmentLookupValues),e.xp6(1),e.Q6J("appInstallationInfo",n.appInstallationInfo)("attentionText",e.lcZ(7,14,"AppDeploymentDialogComponent.AttentionText")),e.xp6(3),e.Q6J("size",n.actionButtonsSize)("caption",e.lcZ(10,16,"AppDeploymentDialogComponent.CancelButtonCaption"))("disableRipple",!0),e.xp6(2),e.Q6J("size",n.actionButtonsSize)("caption",e.lcZ(12,18,"AppDeploymentDialogComponent.DeployButtonCaption"))("disableRipple",!0)("disabled",!n.appDeploymentFormGroup.valid||!n.destinationEnvironmentControl.value))},dependencies:[xt.n,v.O5,Ye.i,We.m5,je.u,Be.O,m.JL,m.F,m.sg,h.X$],styles:["[mat-dialog-title][_ngcontent-%COMP%]   .header-caption[_ngcontent-%COMP%]{margin-bottom:24px;text-align:center;text-transform:uppercase}[mat-dialog-content][_ngcontent-%COMP%]{display:flex;flex-direction:column}[mat-dialog-actions][_ngcontent-%COMP%]{justify-content:flex-end;display:flex;flex-direction:row}[mat-dialog-actions][_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not(:last-child){margin-right:16px}"]});class oe{constructor(t){this._dialogService=t}deployAppFromEnvironment(t,n){return this._dialogService.open(Ce,{panelClass:["app-deployment-dialog","dialog-top-border"],width:"702px",maxHeight:"100vh",data:{sourceEnvironment:t,appDeploymentInfo:n}})}}oe.\u0275fac=function(t){return new(t||oe)(e.LFG(f.xA))},oe.\u0275prov=e.Yz7({token:oe,factory:oe.\u0275fac});class re{mapStatus(t){switch(t.toUpperCase()){case O.Pending:case O.Queuing:case O.Running:return I.l9.InProgress;case O.Completed:return I.l9.Success;case O.Canceled:case O.Error:return I.l9.Error;default:throw new Error(`Received unknown status: "${t}"`)}}mapEnvironmentEventState(t){const n=this.mapStatus(t.statusId),i=this.mapStage(t.statusId,t.stageId);return{status:n,stage:i}}}re.\u0275fac=function(t){return new(t||re)},re.\u0275dir=e.lG2({type:re});class ae extends re{mapStage(t,n){const i=t.toUpperCase();if(i===O.Pending||i===O.Queuing)return I.Jh.Pending;switch(n?.toUpperCase()){case W.CreateBackup:return I.Jh.CreateBackup;case W.ExportApplication:case W.UploadApplication:return I.Jh.Pending;case W.Installation:return I.Jh.Install;case W.Restart:return I.Jh.RestartApp;case W.Validation:return I.Jh.Validate;default:return}}}ae.\u0275fac=function(){let o;return function(n){return(o||(o=e.n5z(ae)))(n||ae)}}(),ae.\u0275prov=e.Yz7({token:ae,factory:ae.\u0275fac,providedIn:"root"});var Ve=s(99129),Me=s(85193);class j{constructor(t,n,i,r){this._dialogService=t,this._snackBar=n,this._translateService=i,this._almThemeService=r,this._dialogPanelClass="dialog-top-border"}openDialogMessage(t){return this._almThemeService.getCurrentThemeName().pipe((0,b.w)(n=>this._dialogService.open(Ve.Wn,{panelClass:[n,this._dialogPanelClass],data:{message:t}})))}showMessage(t){this._snackBar.open(t,"",{duration:5e3})}showEnvironmentNotExistsMessage(){this.openDialogMessage(this._translateService.instant("EnvironmentListItem.SiteIsNotRegisteredCaption")).subscribe()}}j.\u0275fac=function(t){return new(t||j)(e.LFG(f.xA),e.LFG(Me.pl),e.LFG(h.sK),e.LFG(T.k))},j.\u0275prov=e.Yz7({token:j,factory:j.\u0275fac,providedIn:"root"});class se{constructor(t,n,i){this._processEngineService=t,this._environmentActionNotifierService=n,this._translateService=i,this._destroyedSubject=new y.x}restartEnvironment(t){this._processEngineService.executeProcessByName("RestartSiteProcess",{EnvironmentId:t.id}).pipe((0,d.R)(this._destroyedSubject)).subscribe(n=>{let i=`${this._translateService.instant("EnvironmentListItem.Site")} ${t.name} `;if(n.success)i+=this._translateService.instant("EnvironmentListItem.Action.Restart.ProcessResponseSuccess");else{const r=this._translateService.instant("EnvironmentListItem.Action.Restart.ProcessResponseFailure");i=`${i}${r}`}this._environmentActionNotifierService.showMessage(i)})}ngOnDestroy(){this._destroyedSubject.next(!0),this._destroyedSubject.complete()}}se.\u0275fac=function(t){return new(t||se)(e.LFG(G.zV),e.LFG(j),e.LFG(h.sK))},se.\u0275prov=e.Yz7({token:se,factory:se.\u0275fac,providedIn:"root"});class x{constructor(){this._currentEnvironment={},this._environmentChanged=new y.x,this.preferredUrl="",this.keepPreferredUrl=!1}get currentEnvironment(){return this._currentEnvironment}get environmentChanged(){return this._environmentChanged.asObservable()}get currentEnvironmentName(){var t;return!((t=this._currentEnvironment)===null||t===void 0)&&t.url?new URL(this._currentEnvironment.url).hostname.replace("www.","").split(".")[0]:""}changeEnvironment(t){this._currentEnvironment=t,this._environmentChanged.next(t)}forceChangeCurrentEnvironment(){this._environmentChanged.next(this._currentEnvironment)}}x.\u0275fac=function(t){return new(t||x)},x.\u0275prov=e.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"});class be{constructor(t,n){this._window=t,this._environmentSelectionService=n,this._messages$=new y.x,this._messageListener=i=>{var r;const a=(r=this._environmentSelectionService.currentEnvironment)===null||r===void 0?void 0:r.url;!a||i.origin!==new URL(a).origin||this._messages$.next(i.data)},this._window.addEventListener("message",this._messageListener,!1)}getMessagesByTag(t){return g.ValidationUtilities.checkArgumentEmpty("tag",t),this._messages$.pipe((0,D.h)(n=>n.tag===t),(0,C.U)(n=>n.data))}ngOnDestroy(){this._window.removeEventListener("message",this._messageListener),this._messages$.complete()}}be.\u0275fac=function(t){return new(t||be)(e.LFG(Z.WINDOW_TOKEN),e.LFG(x))},be.\u0275prov=e.Yz7({token:be,factory:be.\u0275fac,providedIn:"root"});var ce=s(8239),_=s(7976),Je=s(5998);class w{constructor(t,n,i,r){this._window=t,this._router=n,this._environmentSelectionService=i,this._domSanitizer=r,this._autoOpenIdLoginSegment="?autoOpenIdLogin=true",this._environmentManagementSegment="EnvironmentManagement"}_navigate(t,n){const i=[t.url];t.isNetCoreApplication||i.push("0"),i.push(n),this._window.open(i.join("/"),t.id)}navigateToCurrentEnvironment(t=!1){var n=this;return(0,ce.Z)(function*(){if(t){n._environmentSelectionService.forceChangeCurrentEnvironment();return}const i=n._environmentSelectionService.currentEnvironmentName;yield n._router.navigate([n._environmentManagementSegment,i])})()}navigateToSystemDesigner(t){this._navigate(t,`Nui/ViewModule.aspx${this._autoOpenIdLoginSegment}#IntroPage/SystemDesigner`)}navigateToWorkspaceExplorer(t){this._navigate(t,`ClientApp/${this._autoOpenIdLoginSegment}#/WorkspaceExplorer`)}navigateToDeployAppStatus(t){this._window.open(`${(0,M.MAR)()}${(0,M.bYf)()}${this._autoOpenIdLoginSegment}#/${this._environmentManagementSegment}/DeployApp/${t}`,t)}navigateToRestoreFromBackup(t){this._router.navigate(["EnvironmentManagement/RestoreFromBackup",t])}navigateToUrl(t){this._window.open(t,"_self")}getFreedomUISchemaUrl(t){return this._domSanitizer.bypassSecurityTrustResourceUrl(`${(0,M.MAR)()}Shell/?loader=FullPageShell&bgLoader=orange#Page/${t}`)}navigateToSubscriptions(t){var n=this;return(0,ce.Z)(function*(){yield n._router.navigate(["Subscriptions"],{relativeTo:t})})()}navigateToUsers(t){var n=this;return(0,ce.Z)(function*(){yield n._router.navigate(["Users"],{relativeTo:t})})()}}w.\u0275fac=function(t){return new(t||w)(e.LFG(Z.WINDOW_TOKEN),e.LFG(_.F0),e.LFG(x),e.LFG(Je.H7))},w.\u0275prov=e.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"});class Pe{constructor(t){this._environmentManagementService=t}getEnvironmentWorkspaceBasedUrl(t,n){return this._environmentManagementService.getEnvironmentById(t).pipe((0,C.U)(i=>{const r=i.isNetCoreApplication?[i.url,n]:[i.url,"0",n];return(0,M.Vo9)(...r)}))}}Pe.\u0275fac=function(t){return new(t||Pe)(e.LFG(E))},Pe.\u0275prov=e.Yz7({token:Pe,factory:Pe.\u0275fac,providedIn:"root"});class K{constructor(t,n,i){this._httpClient=t,this._fileDownloaderService=n,this._environmentUrlBuilder=i,this._serviceUrl="ServiceModel/PackageInstallerService.svc/",this._getLogFile="GetLogFile",this._logFileName="install.log"}downloadLogFileFromEnvironment(t){const n=this._serviceUrl+this._getLogFile;return this._environmentUrlBuilder.getEnvironmentWorkspaceBasedUrl(t,n).pipe((0,b.w)(i=>this._httpClient.get(i,{responseType:"blob",withCredentials:!0}).pipe((0,ie.b)(r=>this._fileDownloaderService.download(r,this._logFileName)))))}}K.\u0275fac=function(t){return new(t||K)(e.LFG(H.eN),e.LFG(M.BVS),e.LFG(Pe))},K.\u0275prov=e.Yz7({token:K,factory:K.\u0275fac,providedIn:"root"});class le extends re{mapStage(t){switch(t.toUpperCase()){case O.Pending:case O.Queuing:return I.Jh.Pending;default:return I.Jh.RestoreFromBackup}}}le.\u0275fac=function(){let o;return function(n){return(o||(o=e.n5z(le)))(n||le)}}(),le.\u0275prov=e.Yz7({token:le,factory:le.\u0275fac,providedIn:"root"});class pe{constructor(t){this._httpClient=t,this._serviceUrl="ssp/rest/AlmCreateTrialProcessService/"}runCreateTrialProcess(t,n,i,r){const a=this._serviceUrl+"RunCreateTrialProcess",c={product:t,withDemoData:n,href:r};return i&&(c.lang=i),this._httpClient.post(a,c)}getProductName(t){return this._httpClient.get(this._serviceUrl+`getProductName?productCode=${t}`)}}pe.\u0275fac=function(t){return new(t||pe)(e.LFG(H.eN))},pe.\u0275prov=e.Yz7({token:pe,factory:pe.\u0275fac});var dt=s(26903),Ot=s(21860);class Ie extends I.XK{get environmentEventInitialized(){return this._environmentEventInitialized}constructor(t,n,i,r,a,c,l,u,p){super(t),this._activatedRoute=n,this.environmentEventService=i,this._environmentSelectionService=r,this.restHandler=a,this._appProcessingStateMapper=c,this.environmentNavigationService=l,this._packageInstallerService=u,this._environmentManagementService=p,this._environmentEventInitialized=!1,this._destroyed$=new y.x,this.status=I.l9.InProgress,this.stage=I.Jh.Pending}_setEnvironmentEventState(t){const n=this._appProcessingStateMapper.mapEnvironmentEventState(t);this.status=n.status,n.stage&&(this.stage=n.stage)}_getEnvironmentEventIdFromRoute(){return this._activatedRoute.paramMap.pipe((0,C.U)(t=>t.get("environmentEventId")))}getEnvironmentEventParams(){const t=this._environmentEventParams;if(!t)throw new Error("App deployment data has not been loaded yet");return t}_initEnvironmentEvent(t){const n=this.restHandler.handleRequest(this.environmentEventService.getEnvironmentEvent(t).pipe((0,ie.b)(i=>{if(!i.params)throw new Error("Environment event record contains no parameters")})),{skipBodyMask:!0}).pipe((0,dt.B)(),(0,d.R)(this.destroyed$));return n.subscribe(i=>{this._environmentEventParams=i.params,this.processEnvironmentEventParams(this._environmentEventParams),this._environmentEventInitialized=!0}),n}_getEnvironmentEventStates(t,n){const i=this.environmentEventService.getEnvironmentEventStates(t).pipe((0,dt.B)()),r=n.pipe((0,C.U)(a=>({statusId:a.statusId,stageId:a.stageId})));return(0,Ot.T)(i,r.pipe((0,d.R)(i)))}ngOnInit(){super.ngOnInit(),this._getEnvironmentEventIdFromRoute().pipe((0,b.w)(t=>{const n=this._initEnvironmentEvent(t);return this._getEnvironmentEventStates(t,n)}),(0,d.R)(this.destroyed$)).subscribe(t=>this._setEnvironmentEventState(t))}goToApplicationManagement(){const t=this.getEnvironmentEventParams();this.restHandler.handleRequest(this._environmentManagementService.getEnvironmentById(t.destinationEnvironmentId)).subscribe(n=>{this._environmentSelectionService.changeEnvironment(n),this.environmentNavigationService.navigateToCurrentEnvironment()})}downloadDeployingLogs(){if(!this._environmentEventParams)throw new Error("App deployment data has not been loaded yet");const t=this._environmentEventParams.destinationEnvironmentId;this.restHandler.handleRequest(this._packageInstallerService.downloadLogFileFromEnvironment(t)).pipe((0,d.R)(this._destroyed$)).subscribe()}ngOnDestroy(){super.ngOnDestroy(),this._destroyed$.next(),this._destroyed$.complete()}}Ie.\u0275fac=function(t){return new(t||Ie)(e.Y36(T.k),e.Y36(_.gz),e.Y36(F),e.Y36(x),e.Y36(M.MW0),e.Y36(re),e.Y36(w),e.Y36(K),e.Y36(E))},Ie.\u0275dir=e.lG2({type:Ie,features:[e.qOj]});var mt=s(38599);function At(o,t){if(o&1&&e._UZ(0,"crt-label",3),o&2){const n=e.oxw(2);e.Q6J("caption",n.statusLabel.caption12)}}function Tt(o,t){if(o&1&&e._UZ(0,"crt-label",3),o&2){const n=e.oxw(2);e.Q6J("caption",n.statusLabel.caption13)}}function Lt(o,t){if(o&1){const n=e.EpF();e.TgZ(0,"crt-app-processing-status",1),e.NdJ("getLog",function(){e.CHM(n);const r=e.oxw();return e.KtG(r.downloadDeployingLogs())})("gotoAppHub",function(){e.CHM(n);const r=e.oxw();return e.KtG(r.goToApplicationManagement())})("restoreFromBackup",function(){e.CHM(n);const r=e.oxw();return e.KtG(r.restoreFromBackup())}),e.TgZ(1,"div",2),e._UZ(2,"crt-label",3),e.YNc(3,At,1,1,"crt-label",4),e._UZ(4,"crt-label",5)(5,"crt-label",6)(6,"crt-label",7),e.YNc(7,Tt,1,1,"crt-label",4),e.qZA(),e.TgZ(8,"div",2),e._UZ(9,"crt-label",3)(10,"crt-label",8),e.qZA(),e.TgZ(11,"div",2),e._UZ(12,"crt-label",3)(13,"crt-label",8),e.qZA()()}if(o&2){const n=e.oxw();e.Q6J("status",n.status)("stage",n.stage),e.xp6(2),e.Q6J("caption",n.statusLabel.caption11),e.xp6(1),e.Q6J("ngIf",n.statusLabel.caption12),e.xp6(2),e.Q6J("labelEllipsis",!0)("caption",n.statusLabel.appName),e.xp6(2),e.Q6J("ngIf",n.statusLabel.caption13),e.xp6(2),e.Q6J("caption",n.statusLabel.from),e.xp6(1),e.Q6J("caption",n.statusLabel.sourceEnvironmentName)("labelEllipsis",!0),e.xp6(2),e.Q6J("caption",n.statusLabel.to),e.xp6(1),e.Q6J("caption",n.statusLabel.destinationEnvironmentName)("labelEllipsis",!0)}}class Se extends Ie{constructor(t,n,i,r,a,c,l,u,p,P){super(t,n,i,r,a,c,l,u,p),this._translateService=P}_setProgressHeaderLines(t){this.statusLabel={caption11:this._translateService.instant("AppDeploymentStatus.DeploymentCaption.Line11"),caption12:this._translateService.instant("AppDeploymentStatus.DeploymentCaption.Line12"),caption13:this._translateService.instant("AppDeploymentStatus.DeploymentCaption.Line13"),appName:`${t.appName}`,from:this._translateService.instant("AppDeploymentStatus.DeploymentCaption.From"),sourceEnvironmentName:t.sourceEnvironmentName,to:this._translateService.instant("AppDeploymentStatus.DeploymentCaption.To"),destinationEnvironmentName:t.destinationEnvironmentName}}processEnvironmentEventParams(t){this._setProgressHeaderLines(t)}restoreFromBackup(){const t=this.getEnvironmentEventParams();this.restHandler.handleRequest(this.environmentEventService.createEvent(t.destinationEnvironmentId,Ge.RestoreFromBackup,{appCode:t.appCode,destinationEnvironmentId:t.destinationEnvironmentId})).subscribe(n=>this.environmentNavigationService.navigateToRestoreFromBackup(n.id))}}Se.\u0275fac=function(t){return new(t||Se)(e.Y36(T.k),e.Y36(_.gz),e.Y36(F),e.Y36(x),e.Y36(M.MW0),e.Y36(ae),e.Y36(w),e.Y36(K),e.Y36(E),e.Y36(h.sK))},Se.\u0275cmp=e.Xpm({type:Se,selectors:[["crt-app-deployment-status"]],features:[e.qOj],decls:1,vars:1,consts:[[3,"status","stage","getLog","gotoAppHub","restoreFromBackup",4,"ngIf"],[3,"status","stage","getLog","gotoAppHub","restoreFromBackup"],[1,"deploying-label-row"],["labelType","large-1",3,"caption"],["labelType","large-1",3,"caption",4,"ngIf"],["labelType","large-1","labelThickness","bold","caption",'"',1,"label-without-padding"],["labelType","large-1","labelThickness","bold",1,"label-with-ellipsis",3,"labelEllipsis","caption"],["labelType","large-1","labelThickness","bold","caption",'"'],["labelType","large-1","labelThickness","bold",1,"label-with-ellipsis",3,"caption","labelEllipsis"]],template:function(t,n){t&1&&e.YNc(0,Lt,14,13,"crt-app-processing-status",0),t&2&&e.Q6J("ngIf",n.environmentEventInitialized&&n.themeApplied&&n.statusLabel)},dependencies:[mt.R,v.O5,je.u],styles:["crt-app-processing-status[_ngcontent-%COMP%]   .deploying-label-row[_ngcontent-%COMP%]{display:flex;flex-direction:row}crt-app-processing-status[_ngcontent-%COMP%]   .deploying-label-row[_ngcontent-%COMP%]   crt-label[_ngcontent-%COMP%]{white-space:nowrap}crt-app-processing-status[_ngcontent-%COMP%]   .deploying-label-row[_ngcontent-%COMP%]   crt-label[_ngcontent-%COMP%]:not(.label-without-padding){padding-right:10px}crt-app-processing-status[_ngcontent-%COMP%]   .deploying-label-row[_ngcontent-%COMP%]   crt-label.label-with-ellipsis[_ngcontent-%COMP%]{min-width:130px}"]});const Ut=function(o){return{successDescriptionMessage:o}};function Nt(o,t){if(o&1){const n=e.EpF();e.TgZ(0,"crt-app-processing-status",1),e.NdJ("getLog",function(){e.CHM(n);const r=e.oxw();return e.KtG(r.downloadDeployingLogs())})("gotoAppHub",function(){e.CHM(n);const r=e.oxw();return e.KtG(r.goToApplicationManagement())}),e.ALo(1,"translate"),e._UZ(2,"crt-label",2),e.ALo(3,"translate"),e.qZA()}if(o&2){const n=e.oxw();e.Q6J("status",n.status)("stage",n.stage)("options",e.VKq(8,Ut,e.lcZ(1,4,"AppProcessingStatus.SuccessfullyRestoredFromBackupCaption"))),e.xp6(2),e.Q6J("caption",e.lcZ(3,6,"AppProcessingStatus.RestoringFromBackupCaption"))}}class ye extends Ie{constructor(t,n,i,r,a,c,l,u,p){super(t,n,i,r,a,c,l,u,p)}processEnvironmentEventParams(){}}ye.\u0275fac=function(t){return new(t||ye)(e.Y36(T.k),e.Y36(_.gz),e.Y36(F),e.Y36(x),e.Y36(M.MW0),e.Y36(le),e.Y36(w),e.Y36(K),e.Y36(E))},ye.\u0275cmp=e.Xpm({type:ye,selectors:[["crt-app-restore-from-backup-page"]],features:[e.qOj],decls:1,vars:1,consts:[[3,"status","stage","options","getLog","gotoAppHub",4,"ngIf"],[3,"status","stage","options","getLog","gotoAppHub"],["labelType","large-1",1,"wait-caption",3,"caption"]],template:function(t,n){t&1&&e.YNc(0,Nt,4,10,"crt-app-processing-status",0),t&2&&e.Q6J("ngIf",n.environmentEventInitialized&&n.themeApplied)},dependencies:[mt.R,v.O5,je.u,h.X$],encapsulation:2});var gt=s(84967),kt=s(31823),Zt=s(66466);class R extends kt.U{constructor(t,n,i){super(t,n,{}),this._httpClient=i,this.entitySchemaName="VwSysAdminUnit",this._userProfileServiceUrl="ssp/rest/AlmUserProfileService/",this._userCurrentInfoServiceUrl="ssp/rest/CurrentUserService/"}_getLookupValues(t){const n=new g.EntitySchemaQuery(t);return n.addSchemaColumn("Id"),n.addSchemaColumn("Name").withOrdering(g.OrderDirection.Asc,0),this.queryExecutor.executeSelectQuery(n).pipe((0,C.U)(i=>i.map(r=>({value:r.Id,displayValue:r.Name}))))}_getLanguageLookupValues(){const t=new g.EntitySchemaQuery("SysCulture");return t.addSchemaColumn("Id"),t.addSchemaColumn("Language.Name").withOrdering(g.OrderDirection.Asc,0),t.filters.addSchemaColumnFilterWithParameter(g.ComparisonType.Equal,"Active",!0),this.queryExecutor.executeSelectQuery(t).pipe((0,C.U)(n=>n.map(i=>({value:i.Id,displayValue:i["Language.Name"]}))))}_setNullableLookupValue(t,n){return t===null||t===g.EMPTY_GUID?null:{value:t,displayValue:n}}getUserProfile(){const t=this._userProfileServiceUrl+"GetUserProfile";return this._httpClient.get(t).pipe((0,C.U)(n=>{var i,r,a;if(n.success){const c=n.result;return{id:c.Id,name:c.Name,email:c.Email,organization:c.CompanyName,photoId:c.PhotoId,hasPassword:c.IsUserHasPassword,emailConfirmed:c.IsEmailConfirmed,role:{value:(i=c.Role)===null||i===void 0?void 0:i.Id,displayValue:(r=c.Role)===null||r===void 0?void 0:r.Name,code:(a=c.Role)===null||a===void 0?void 0:a.Code},status:c.Status}}}))}getUserProfileForOrganization(t){const n=this._userProfileServiceUrl+"GetUserProfileForOrganization/"+t;return this._httpClient.get(n).pipe((0,C.U)(i=>{var r,a,c;if(i.success){const l=i.result;return{id:l.Id,name:l.Name,email:l.Email,organization:l.CompanyName,photoId:l.PhotoId,emailConfirmed:l.IsEmailConfirmed,role:{value:(r=l.Role)===null||r===void 0?void 0:r.Id,displayValue:(a=l.Role)===null||a===void 0?void 0:a.Name,code:(c=l.Role)===null||c===void 0?void 0:c.Code},hasPassword:l.IsUserHasPassword,status:l.Status}}}))}updateUserProfile(t){var n,i;const r=this._userProfileServiceUrl+"UpdateUserProfile";return this._httpClient.post(r,{Name:t.name,SysCultureId:t.language.value,TimezoneId:(n=t.timeZone)===null||n===void 0?void 0:n.value,DateTimeFormatId:(i=t.dateTimeFormat)===null||i===void 0?void 0:i.value,Email:t.email})}updateUserProfileForOrganization(t,n){const i=this._userProfileServiceUrl+"UpdateUserProfileForOrganization";return this._httpClient.post(i,{userId:t,userProfileData:{Name:n.name,Status:n.status,RoleCode:n.role.code,Email:n.email}})}changeUserRole(t,n,i){const r=this._userProfileServiceUrl+"ChangeUserRole";return this._httpClient.post(r,{userId:t,userEmail:n,roleCode:i})}changeEmail(t,n,i){const r=this._userProfileServiceUrl+"ChangeUserEmail";return this._httpClient.post(r,{Login:t,NewEmail:n,CurrentPassword:i})}resendConfirmEmail(t){const n=this._userProfileServiceUrl+"ResendConfirmEmail";return this._httpClient.post(n,{email:t})}changePassword(){const t=this._userProfileServiceUrl+"ChangeUserPassword";return this._httpClient.post(t,{})}getLanguages(){return this._getLanguageLookupValues()}getTimeZones(){return this._getLookupValues("TimeZone")}getDateTimeFormats(){return this._getLookupValues("SysLanguage")}getRoles(){const t=new g.EntitySchemaQuery("SysAlmRole");return t.addSchemaColumn("Id"),t.addSchemaColumn("Name"),t.addSchemaColumn("Code").withOrdering(g.OrderDirection.Asc,0),this.queryExecutor.executeSelectQuery(t).pipe((0,C.U)(n=>n.map(i=>({value:i.Id,code:i.Code,displayValue:i.Name}))))}loadCurrentUserCulture(t){if(!t){console.error("User profile is not loaded");return}const n=this._userCurrentInfoServiceUrl+"GetCurrentUserCulture";this._httpClient.post(n,{}).subscribe(i=>{if(i&&i.cultureInfo){const r=i.cultureInfo;t.language=this._setNullableLookupValue(r.cultureId,r.cultureLanguage),t.timeZone=this._setNullableLookupValue(r.timeZoneId,r.timeZoneName),t.dateTimeFormat=this._setNullableLookupValue(r.dateTimeFormatId,r.dateTimeFormatName)}})}changeUserActive(t,n){const i="ssp/rest/AlmUserProfileService/ChangeUserActive";return this._httpClient.post(i,{userId:t,isActive:n})}getUserLogins(t){const n=this._userProfileServiceUrl+"GetConnectedLogin";return this._httpClient.post(n,{userEmail:t}).pipe((0,C.U)(i=>i.GetConnectedLoginResult.map(a=>({provider:a.LoginProvider,providerLoginKey:a.ProviderKey,providerDisplayName:a.ProviderDisplayName}))))}disconnectAccount(t,n){const i=new H.WM().set("Content-Type","application/json; charset=utf-8"),r=this._userProfileServiceUrl+"DeleteUserLogin";return this._httpClient.post(r.toString(),{provider:t,email:n},{headers:i})}logout(){const t=this._userProfileServiceUrl+"Logout";return this._httpClient.post(t,{})}getIdentityServerUrl(){const t=this._userProfileServiceUrl+"GetIdentityServerUrl";return this._httpClient.get(t)}getUserPermissions(){const t=this._userProfileServiceUrl+"GetUserPermissions";return this._httpClient.get(t).pipe((0,C.U)(n=>n.success?n.userPermissions:{canManageSubscriptions:!1}),(0,Zt.d)({refCount:!1,bufferSize:1}))}}R.\u0275fac=function(t){return new(t||R)(e.LFG(fe.oq),e.LFG(h.sK),e.LFG(H.eN))},R.\u0275prov=e.Yz7({token:R,factory:R.\u0275fac});var Dt=s(3685),Ft=s(10367);function Rt(o,t){if(o&1&&(e.TgZ(0,"div",8),e._UZ(1,"mat-icon",9),e.TgZ(2,"span",10),e._uU(3),e.ALo(4,"translate"),e.qZA()()),o&2){const n=e.oxw();e.xp6(1),e.Q6J("svgIcon",n.getStatusIcon(n.selectedEnvironment)),e.xp6(2),e.AsE("",e.lcZ(4,3,"EnvironmentListItem.Site")," ",n.selectedEnvironment==null?null:n.selectedEnvironment.name,"")}}function Yt(o,t){o&1&&(e.TgZ(0,"span",10),e._uU(1),e.ALo(2,"translate"),e.qZA()),o&2&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"EnvironmentListItem.SelectEnvironment")))}class Ee{constructor(t,n,i,r,a,c){this._environmentManagementService=t,this._environmentSelectionService=n,this._materialIconsRegistrator=i,this._environmentNavigationService=r,this._translateService=a,this._almThemeService=c,this._destroyedSubject=new y.x,this.themeName="",this._registerIcons()}_registerIcons(){const t=[{name:"circle_green",icon:s(12506)},{name:"circle_red",icon:s(2889)}];this._materialIconsRegistrator.addIcons(t)}_createMenuItemsFromEnvironment(t){return t?.map(n=>this._createEnvironmentMenuItem(n))}_createEnvironmentMenuItem(t){return{type:"menu",caption:t.name,icon:this.getStatusIcon(t),code:t.name,items:this._createToolbarItems(t),handler:()=>this._selectEnvironment(t)}}_createMenuActionItem(t,n,i){return{type:Q.uF.Action,caption:t,code:n,handler:i}}_createToolbarItems(t){const n=[{caption:this._translateService.instant("EnvironmentListItem.Action.ManageApplications"),code:"manageApplications",handler:()=>this._selectEnvironment(t)}];return t.status===V.Running&&(n.push({caption:this._translateService.instant("EnvironmentListItem.Action.ManageEnvironment"),code:"manageEnvironment",handler:()=>this._environmentNavigationService.navigateToSystemDesigner(t)}),n.push({caption:this._translateService.instant("EnvironmentListItem.Action.OpenConfiguration"),code:"openConfiguration",handler:()=>this._environmentNavigationService.navigateToWorkspaceExplorer(t)})),n.map(i=>this._createMenuActionItem(i.caption,i.code,i?.handler))}_loadEnvironmentList(){this._environmentManagementService.environmentList.pipe((0,d.R)(this._destroyedSubject)).subscribe(t=>{this.menuItems=this._createMenuItemsFromEnvironment(t);const n=t.find(i=>{var r;return i.id===((r=this.selectedEnvironment)===null||r===void 0?void 0:r.id)});n&&this._isEnvironmentChanged(n)&&this._selectEnvironment(n),n&&this._needSetSelectedEnvironment(n)&&this._setEnvironment(n)})}_isEnvironmentChanged(t){const n=this.selectedEnvironment;return!!n&&(t.url!==n.url||t.status!==n.status)}_needSetSelectedEnvironment(t){const n=this.selectedEnvironment;return!!n&&(this._isEnvironmentChanged(t)||t.name!==n.name)}_selectEnvironment(t){this._environmentSelectionService.changeEnvironment(t)}_subscribeSelectedEnvironment(){this._environmentSelectionService.environmentChanged.pipe((0,d.R)(this._destroyedSubject)).subscribe(t=>this._setEnvironment(t))}_setCurrentEnvironment(){const t=this._environmentSelectionService.currentEnvironment;this._setEnvironment(t)}_setEnvironment(t){t!==this.selectedEnvironment&&(this.selectedEnvironment=t)}_getTheme(){return this._almThemeService.getCurrentThemeName()}getStatusIcon(t){return t.status===V.Running?"circle_green":"circle_red"}ngOnInit(){this._loadEnvironmentList(),this._subscribeSelectedEnvironment(),this._getTheme().pipe((0,d.R)(this._destroyedSubject)).subscribe(t=>this.themeName=t),this._setCurrentEnvironment()}ngOnDestroy(){this._destroyedSubject.next(!0),this._destroyedSubject.complete()}}Ee.\u0275fac=function(t){return new(t||Ee)(e.Y36(E),e.Y36(x),e.Y36(f.ZH),e.Y36(w),e.Y36(h.sK),e.Y36(T.k))},Ee.\u0275cmp=e.Xpm({type:Ee,selectors:[["ts-environment-list-item"]],decls:8,vars:5,consts:[["disableRipple","true","mat-button","",1,"simple-button","toolbar-text",3,"crtMenuTriggerFor"],["class","selected-site",4,"ngIf","ngIfElse"],["class","menu-button-text"],["noEnvironmentSelected",""],["svgIcon","arrow_drop_down","tsDataItemMarker","selectEnvironment-menu",1,"arrow-drop-down"],[1,"menuItem"],[3,"menuItems","panelClass"],["menu",""],[1,"selected-site"],[1,"env-icon",3,"svgIcon"],["tsDataItemMarker","selectedEnvironment-value",1,"environment-selection"]],template:function(t,n){if(t&1&&(e.TgZ(0,"button",0),e.YNc(1,Rt,5,5,"div",1),e.YNc(2,Yt,3,3,"ng-template",2,3,e.W1O),e._UZ(4,"mat-icon",4),e.qZA(),e.TgZ(5,"div",5),e._UZ(6,"crt-menu",6,7),e.qZA()),t&2){const i=e.MAs(3),r=e.MAs(7);e.Q6J("crtMenuTriggerFor",r),e.xp6(1),e.Q6J("ngIf",n.selectedEnvironment)("ngIfElse",i),e.xp6(5),e.Q6J("menuItems",n.menuItems)("panelClass","environment-menu-panel "+n.themeName)}},dependencies:[v.O5,Dt.R9,Ft.W,Be.O,Qe.eB,z.Hw,h.X$],styles:[".env-icon[_ngcontent-%COMP%]{height:100%;width:16px;padding-right:8px;display:flex}.selected-site[_ngcontent-%COMP%]{display:flex;align-items:center}"]});var zt=s(26590);class xe{constructor(t,n,i,r,a,c,l,u,p){var P=this;this._translateService=t,this._router=n,this._activatedRoute=i,this._rightsService=r,this._environmentSelectionService=a,this._environmentNavigationService=c,this._almToolbarService=l,this._featureValues=u,this._userProfileService=p,this._destroyedSubject=new y.x,this._listItem={type:Q.uF.UserComponent,data:{isHidden:!0,component:Ee,isSelectable:!1}},this._userSectionUrlSegments=["Users","Invite","Profile"],this._applicationItem={type:Q.uF.Action,data:{caption:this._translateService.instant("EnvironmentToolbar.Applications"),handler:function(){var J=(0,ce.Z)(function*(){yield P._environmentNavigationService.navigateToCurrentEnvironment(!0)});return function(){return J.apply(this,arguments)}}(),isSelectable:!0}},this._usersItem={type:Q.uF.Action,data:{caption:this._translateService.instant("EnvironmentToolbar.Users"),handler:function(){var J=(0,ce.Z)(function*(){yield P._environmentNavigationService.navigateToUsers(P._activatedRoute)});return function(){return J.apply(this,arguments)}}(),isSelectable:!0}},this._subscriptionsItem={type:Q.uF.Action,data:{caption:this._translateService.instant("EnvironmentToolbar.Subscriptions"),handler:function(){var J=(0,ce.Z)(function*(){yield P._environmentNavigationService.navigateToSubscriptions(P._activatedRoute)});return function(){return J.apply(this,arguments)}}(),isSelectable:!0}},this._checkingSegmentsQuantity=3,this.toolbarModel={}}_isCanManageUsers(){return this._rightsService.getCanExecuteOperation("CanAdministratePortalUsers").pipe((0,C.U)(t=>t))}_getCanManageSubscriptions(){return this._featureValues.CanShowSubscriptions?this._userProfileService.getUserPermissions().pipe((0,C.U)(t=>t.canManageSubscriptions)):(0,L.of)(!1)}_addLeftToolbarItems(){(0,gt.D)([this._isCanManageUsers(),this._getCanManageSubscriptions()]).pipe((0,d.R)(this._destroyedSubject)).subscribe(([t,n])=>{this.toolbarModel.leftToolbarItems.push(this._applicationItem),n&&this.toolbarModel.leftToolbarItems.push(this._subscriptionsItem),t&&this.toolbarModel.leftToolbarItems.push(this._usersItem);const i=this._getActivatedRoute(this._checkingSegmentsQuantity);this._setupToolbar(i)})}_getLastSegments(t,n){const i=t.split("/");return i.slice(i.length-n)}_getActivatedRoute(t){return this._getLastSegments(this._router.url,t)}_subscribeSelectedEnvironment(){this._environmentSelectionService.environmentChanged.pipe((0,d.R)(this._destroyedSubject)).subscribe(t=>{t&&(this._currentEnvironmentSiteName=this._environmentSelectionService.currentEnvironmentName,this._setupToolbar([this._currentEnvironmentSiteName]))})}_navigationChanges(t){this._router.events.pipe((0,D.h)(n=>n instanceof _.m2),(0,C.U)(n=>this._getLastSegments(n?.url,t)),(0,d.R)(this._destroyedSubject)).subscribe(n=>{this._setupToolbar(n)})}_setupToolbar(t){for(const n of t)if(this._userSectionUrlSegments.indexOf(n)>-1){this._almToolbarService.selectItem(this._usersItem.data),this._listItem.data.isHidden=!0;return}else if(n.toLowerCase()==="subscriptions"){this._almToolbarService.selectItem(this._subscriptionsItem.data),this._listItem.data.isHidden=!0;return}this._almToolbarService.selectItem(this._applicationItem.data),this._listItem.data.isHidden=!1}ngOnInit(){this.toolbarModel={leftToolbarItems:[],rightToolbarItems:[this._listItem]},this._addLeftToolbarItems(),this._subscribeSelectedEnvironment(),this._navigationChanges(this._checkingSegmentsQuantity)}ngOnDestroy(){this._destroyedSubject.next(!0),this._destroyedSubject.complete()}}xe.\u0275fac=function(t){return new(t||xe)(e.Y36(h.sK),e.Y36(_.F0),e.Y36(_.gz),e.Y36(G._h),e.Y36(x),e.Y36(w),e.Y36(Q.U2),e.Y36(M.Sfm),e.Y36(R))},xe.\u0275cmp=e.Xpm({type:xe,selectors:[["ts-environment-toolbar"]],decls:1,vars:1,consts:[[3,"toolbarModel"]],template:function(t,n){t&1&&e._UZ(0,"ts-alm-toolbar-navigation",0),t&2&&e.Q6J("toolbarModel",n.toolbarModel)},dependencies:[zt.y],encapsulation:2});function Gt(o,t){if(o&1&&(e.TgZ(0,"div",1)(1,"div",2),e._UZ(2,"ts-environment-toolbar"),e.qZA(),e.TgZ(3,"div"),e._UZ(4,"router-outlet"),e.qZA()()),o&2){const n=e.oxw();e.Q6J("ngClass",n.themeName)}}class we{constructor(t,n,i,r,a){this._almThemeService=t,this._environmentSelectionService=n,this._environmentNavigationService=i,this._translateService=r,this._titleService=a,this._destroyedSubject=new y.x,this.themeName="",this.themeNameReceived=!1}_getTheme(){return this._almThemeService.getCurrentThemeName()}_setupPageTitle(){this._translateService.get("EnvironmentManagement.PageTitle").pipe((0,d.R)(this._destroyedSubject)).subscribe(t=>{this._titleService.setTitle(t)})}ngOnInit(){this._setupPageTitle(),this._getTheme().pipe((0,d.R)(this._destroyedSubject)).subscribe(t=>{this.themeName=t,this.themeNameReceived=!0}),this._environmentSelectionService.environmentChanged.pipe((0,d.R)(this._destroyedSubject)).subscribe(()=>this._environmentNavigationService.navigateToCurrentEnvironment())}ngOnDestroy(){this._destroyedSubject.next(),this._destroyedSubject.complete()}}we.\u0275fac=function(t){return new(t||we)(e.Y36(T.k),e.Y36(x),e.Y36(w),e.Y36(h.sK),e.Y36(Je.Dx))},we.\u0275cmp=e.Xpm({type:we,selectors:[["ts-environment-management"]],decls:1,vars:1,consts:[[3,"ngClass",4,"ngIf"],[3,"ngClass"],[1,"toolbar-wrapper"]],template:function(t,n){t&1&&e.YNc(0,Gt,5,1,"div",0),t&2&&e.Q6J("ngIf",n.themeNameReceived)},dependencies:[v.mk,v.O5,_.lC,xe],encapsulation:2});var jt=s(5557);class A{constructor(t,n){this.document=t,this.platformId=n,this.documentIsAccessible=(0,v.NF)(this.platformId)}static getCookieRegExp(t){const n=t.replace(/([\[\]\{\}\(\)\|\=\;\+\?\,\.\*\^\$])/gi,"\\$1");return new RegExp("(?:^"+n+"|;\\s*"+n+")=(.*?)(?:;|$)","g")}static safeDecodeURIComponent(t){try{return decodeURIComponent(t)}catch{return t}}check(t){return this.documentIsAccessible?(t=encodeURIComponent(t),A.getCookieRegExp(t).test(this.document.cookie)):!1}get(t){if(this.documentIsAccessible&&this.check(t)){t=encodeURIComponent(t);const i=A.getCookieRegExp(t).exec(this.document.cookie);return i[1]?A.safeDecodeURIComponent(i[1]):""}else return""}getAll(){if(!this.documentIsAccessible)return{};const t={},n=this.document;return n.cookie&&n.cookie!==""&&n.cookie.split(";").forEach(i=>{const[r,a]=i.split("=");t[A.safeDecodeURIComponent(r.replace(/^ /,""))]=A.safeDecodeURIComponent(a)}),t}set(t,n,i,r,a,c,l){if(!this.documentIsAccessible)return;if(typeof i=="number"||i instanceof Date||r||a||c||l){const P={expires:i,path:r,domain:a,secure:c,sameSite:l||"Lax"};this.set(t,n,P);return}let u=encodeURIComponent(t)+"="+encodeURIComponent(n)+";";const p=i||{};if(p.expires)if(typeof p.expires=="number"){const P=new Date(new Date().getTime()+p.expires*1e3*60*60*24);u+="expires="+P.toUTCString()+";"}else u+="expires="+p.expires.toUTCString()+";";p.path&&(u+="path="+p.path+";"),p.domain&&(u+="domain="+p.domain+";"),p.secure===!1&&p.sameSite==="None"&&(p.secure=!0,console.warn(`[ngx-cookie-service] Cookie ${t} was forced with secure flag because sameSite=None.More details : https://github.com/stevermeister/ngx-cookie-service/issues/86#issuecomment-597720130`)),p.secure&&(u+="secure;"),p.sameSite||(p.sameSite="Lax"),u+="sameSite="+p.sameSite+";",this.document.cookie=u}delete(t,n,i,r,a="Lax"){if(!this.documentIsAccessible)return;const c=new Date("Thu, 01 Jan 1970 00:00:01 GMT");this.set(t,"",{expires:c,path:n,domain:i,secure:r,sameSite:a})}deleteAll(t,n,i,r="Lax"){if(!this.documentIsAccessible)return;const a=this.getAll();for(const c in a)a.hasOwnProperty(c)&&this.delete(c,t,n,i,r)}}A.\u0275fac=function(t){return new(t||A)(e.LFG(v.K0),e.LFG(e.Lbi))},A.\u0275prov=e.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),function(){(typeof ngDevMode>"u"||ngDevMode)&&e.zlt(A,[{type:e.GSi,args:[{providedIn:"root"}]}],function(){return[{type:Document,decorators:[{type:e.tBr,args:[v.K0]}]},{type:void 0,decorators:[{type:e.tBr,args:[e.Lbi]}]}]},null)}();var ze=s(78464);class Oe{constructor(t,n){this._matIconRegistry=t,this.injector=n,this.guideMeClick=new e.vpe,this.manageClick=new e.vpe,t.addIcons([{name:"toolbar-logo",icon:s(77990)}])}onGuideMeClick(){this.guideMeClick.emit()}onManageClick(){this.manageClick.emit()}}Oe.\u0275fac=function(t){return new(t||Oe)(e.Y36(f.ZH),e.Y36(e.zs3))},Oe.\u0275cmp=e.Xpm({type:Oe,selectors:[["ts-confirm-registration"]],outputs:{guideMeClick:"guideMeClick",manageClick:"manageClick"},decls:17,vars:12,consts:[[1,"background-layer"],["svgIcon","toolbar-logo",1,"header-logo-icon"],["src","./assets/environment-management/RegistrationLogoIMG.png","alt","logo",1,"registration-logo"],[1,"main-layer"],[1,"registration-successful"],[1,"create-first-app"],[1,"action-buttons"],[1,"guide-me-button",3,"click"],[1,"manage-button",3,"click"]],template:function(t,n){t&1&&(e.TgZ(0,"div",0),e._UZ(1,"mat-icon",1)(2,"img",2),e.TgZ(3,"div",3)(4,"label",4),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"label",5),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"div",6)(11,"button",7),e.NdJ("click",function(){return n.onGuideMeClick()}),e._uU(12),e.ALo(13,"translate"),e.qZA(),e.TgZ(14,"button",8),e.NdJ("click",function(){return n.onManageClick()}),e._uU(15),e.ALo(16,"translate"),e.qZA()()()()),t&2&&(e.xp6(5),e.Oqu(e.lcZ(6,4,"EnvironmentManagement.WaitTrialPage.ConfirmRegistration.RegistrationSuccessful")),e.xp6(3),e.Oqu(e.lcZ(9,6,"EnvironmentManagement.WaitTrialPage.ConfirmRegistration.CreateFirstApp")),e.xp6(4),e.Oqu(e.lcZ(13,8,"EnvironmentManagement.WaitTrialPage.ConfirmRegistration.GuideMeButtonCaption")),e.xp6(3),e.Oqu(e.lcZ(16,10,"EnvironmentManagement.WaitTrialPage.ConfirmRegistration.ManageButtonCaption")))},dependencies:[z.Hw,h.X$],styles:[`ts-alm-pages-container .pages-wrapper .page-wrap{width:70%!important;border-radius:0!important}ts-alm-pages-container .header .header-logo-icon{display:none}.background-layer{width:100vw;height:100vh;overflow:hidden;position:relative}.background-layer .header-logo-icon{position:absolute;top:6px;right:9px;width:115px;height:25px}.background-layer .registration-logo{position:absolute;bottom:-5%;z-index:1000;right:7%;max-height:100%}.background-layer .main-layer .registration-successful{width:50%;display:block;line-height:105%;padding-top:15%;padding-left:10%}.background-layer .main-layer .create-first-app{width:50%;display:block;line-height:105%;padding-top:16px;padding-left:10%}.background-layer .main-layer .action-buttons{padding-left:10%;padding-top:48px;display:flex}.background-layer .main-layer .action-buttons button{border:none}.background-layer .main-layer .action-buttons button:hover{cursor:pointer}.background-layer .main-layer .action-buttons .guide-me-button{height:40px;border-radius:20px;padding:6px 16px 7px}.background-layer .main-layer .action-buttons .manage-button{background-color:transparent;margin-left:24px;padding:6px 16px 7px}
`],encapsulation:2});const Bt=["onTimeContainer"],Jt=["overtimeContainer"],Ht=["waitPageContainer"];class Ae{set isNeedToFreeze(t){this._isNeedToFreeze=t,this._isNeedToFreeze&&this._freezeComponent()}constructor(t,n,i,r){this._materialIconsRegistrator=t,this._sysSettingsService=n,this._environmentManagementService=i,this._router=r,this._hasEnvironments=!1,this._isNeedToFreeze=!1,this.messageContent="";const a=[{name:"ellipse-logo",icon:s(8341)},{name:"rectangle-logo",icon:s(84498)},{name:"polygon-logo",icon:s(33517)},{name:"apps-img",icon:s(44661)},{name:"hot-cup",icon:s(10301)}];this._materialIconsRegistrator.addIcons(a)}ngOnInit(){this._environmentManagementService.getEnvironments().pipe((0,C.U)(t=>{t.length>0&&(this._hasEnvironments=!0),this._isNeedToFreeze||this._sysSettingsService.getByCode("WaitingForTrialTimeout").subscribe(n=>{this._timeoutId=setTimeout(()=>{this._onOvertime()},1e3*(n?.value||0))})})).subscribe()}ngAfterViewInit(){this._isNeedToFreeze&&this._freezeComponent()}_onOvertime(){this._hasEnvironments&&this._setOvertimeMode()}_setOvertimeMode(){this.onTimeContainer.nativeElement.classList.add("hidden"),this.overtimeContainer.nativeElement.classList.remove("hidden"),this.waitPageContainer.nativeElement.classList.add("freeze")}_freezeComponent(){var t,n;((t=this.onTimeContainer)===null||t===void 0?void 0:t.nativeElement)&&((n=this.waitPageContainer)===null||n===void 0?void 0:n.nativeElement)&&(this.onTimeContainer.nativeElement.classList.add("hidden"),this.waitPageContainer.nativeElement.classList.add("freeze"),clearTimeout(this._timeoutId))}onGoToAppButtonClick(){this._router.navigate(["/EnvironmentManagement"])}}Ae.\u0275fac=function(t){return new(t||Ae)(e.Y36(f.ZH),e.Y36(G.lI),e.Y36(E),e.Y36(_.F0))},Ae.\u0275cmp=e.Xpm({type:Ae,selectors:[["ts-wait-page"]],viewQuery:function(t,n){if(t&1&&(e.Gf(Bt,5),e.Gf(Jt,5),e.Gf(Ht,5)),t&2){let i;e.iGM(i=e.CRH())&&(n.onTimeContainer=i.first),e.iGM(i=e.CRH())&&(n.overtimeContainer=i.first),e.iGM(i=e.CRH())&&(n.waitPageContainer=i.first)}},inputs:{messageContent:"messageContent",isNeedToFreeze:"isNeedToFreeze"},decls:24,vars:13,consts:[[1,"wait-page-container"],["waitPageContainer",""],["svgIcon","ellipse-logo",1,"ellipse-logo-icon"],["svgIcon","polygon-logo",1,"polygon-logo-icon"],["svgIcon","rectangle-logo",1,"rectangle-logo-icon"],[1,"on-time-container"],["onTimeContainer",""],[1,"content",3,"innerHTML"],[1,"footer"],[1,"overtime-container","hidden"],["overtimeContainer",""],[1,"left-container"],["svgIcon","hot-cup",1,"hot-cup-icon"],[1,"left-title",3,"innerHTML"],[1,"tile"],["svgIcon","apps-img",1,"apps-img"],[1,"title",3,"innerHTML"],[1,"subtitle",3,"innerHTML"],[1,"go-to-app-button",3,"click"]],template:function(t,n){t&1&&(e.TgZ(0,"div",0,1),e._UZ(2,"mat-icon",2)(3,"mat-icon",3)(4,"mat-icon",4),e.qZA(),e.TgZ(5,"div",5,6),e._UZ(7,"div",7)(8,"div",8),e.qZA(),e.TgZ(9,"div",9,10)(11,"div",11),e._UZ(12,"mat-icon",12)(13,"div",13),e.ALo(14,"translate"),e.qZA(),e.TgZ(15,"div",14),e._UZ(16,"mat-icon",15)(17,"div",16),e.ALo(18,"translate"),e._UZ(19,"div",17),e.ALo(20,"translate"),e.TgZ(21,"div",18),e.NdJ("click",function(){return n.onGoToAppButtonClick()}),e._uU(22),e.ALo(23,"translate"),e.qZA()()()),t&2&&(e.xp6(7),e.Q6J("innerHTML",n.messageContent,e.oJD),e.xp6(6),e.Q6J("innerHTML",e.lcZ(14,5,"EnvironmentManagement.WaitTrialPage.WaitPage.CreatioIsHotMessage"),e.oJD),e.xp6(4),e.Q6J("innerHTML",e.lcZ(18,7,"EnvironmentManagement.WaitTrialPage.WaitPage.TrialTimeoutMessage"),e.oJD),e.xp6(2),e.Q6J("innerHTML",e.lcZ(20,9,"EnvironmentManagement.WaitTrialPage.WaitPage.SendTrialEmail"),e.oJD),e.xp6(3),e.hij(" ",e.lcZ(23,11,"EnvironmentManagement.WaitTrialPage.WaitPage.GoToApplications")," "))},dependencies:[z.Hw,h.X$],styles:[".wait-page-container[_ngcontent-%COMP%], .on-time-container[_ngcontent-%COMP%], .overtime-container[_ngcontent-%COMP%]{width:100%;height:100vh;z-index:50;position:absolute}.wait-page-container[_ngcontent-%COMP%]   .ellipse-logo-icon[_ngcontent-%COMP%]{position:absolute;width:-moz-fit-content;width:fit-content;height:75%;animation:_ngcontent-%COMP%_rtl-cycle-ellipse linear infinite 20s}.wait-page-container[_ngcontent-%COMP%]   .polygon-logo-icon[_ngcontent-%COMP%]{position:absolute;height:10.5%;width:-moz-fit-content;width:fit-content;top:4.65%;animation:_ngcontent-%COMP%_rtl-cycle-polygon linear infinite 20s}.wait-page-container[_ngcontent-%COMP%]   .rectangle-logo-icon[_ngcontent-%COMP%]{position:absolute;height:37.9%;width:-moz-fit-content;width:fit-content;animation:_ngcontent-%COMP%_rtl-cycle-rectangle linear infinite 40s;top:70.18%}.wait-page-container.freeze[_ngcontent-%COMP%]   .ellipse-logo-icon[_ngcontent-%COMP%]{animation:none;transform:translate(0) translateY(-47%);top:20%;left:75%}.wait-page-container.freeze[_ngcontent-%COMP%]   .polygon-logo-icon[_ngcontent-%COMP%]{animation:none;transform:translate(-20%) translateY(70vh);left:0;height:40%}.wait-page-container.freeze[_ngcontent-%COMP%]   .rectangle-logo-icon[_ngcontent-%COMP%]{animation:none;left:60%;height:60%;top:-20%;transform:none}.on-time-container.hidden[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slide-out 1s forwards}.on-time-container.hidden[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]{display:none}.on-time-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{width:70%;position:absolute;top:40%;left:50%;transform:translate(-50%,-50%)}.on-time-container[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]{background-color:#fff;width:120%;height:14%;bottom:0;position:absolute;border-top-left-radius:10000px;border-top-right-radius:10000px;animation:_ngcontent-%COMP%_rtl-cycle-footer linear infinite 10s}.overtime-container[_ngcontent-%COMP%]{left:110%}.overtime-container[_ngcontent-%COMP%]:not(.hidden){animation:_ngcontent-%COMP%_slide-in 1s forwards}.overtime-container[_ngcontent-%COMP%]   .left-container[_ngcontent-%COMP%]{position:relative;width:-moz-fit-content;width:fit-content;top:-5%;left:-10%}.overtime-container[_ngcontent-%COMP%]   .left-container[_ngcontent-%COMP%]   .hot-cup-icon[_ngcontent-%COMP%]{height:90vh;width:auto}.overtime-container[_ngcontent-%COMP%]   .left-container[_ngcontent-%COMP%]   .left-title[_ngcontent-%COMP%]{text-align:center;top:-30vh;position:relative}.overtime-container[_ngcontent-%COMP%]   .tile[_ngcontent-%COMP%]{background-color:#fff;width:74%;position:absolute;right:0;height:95%;bottom:0;border-top-left-radius:15vh;padding:10% 5%;box-sizing:border-box}.overtime-container[_ngcontent-%COMP%]   .tile[_ngcontent-%COMP%]   .apps-img[_ngcontent-%COMP%]{height:20vh;width:auto}.overtime-container[_ngcontent-%COMP%]   .tile[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{margin-top:32px}.overtime-container[_ngcontent-%COMP%]   .tile[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{margin-top:22px}.overtime-container[_ngcontent-%COMP%]   .tile[_ngcontent-%COMP%]   .go-to-app-button[_ngcontent-%COMP%]{cursor:pointer;color:#fff;padding:0 16px;border-radius:1000px;display:inline-block;margin-top:31px}@keyframes _ngcontent-%COMP%_rtl-cycle-ellipse{0%,to{transform:translateY(-47%) translate(-50%);left:0}9.99%{transform:translateY(-47%) translate(-100%);left:0}10%{transform:translateY(-47%) translate(0);left:100%}}@keyframes _ngcontent-%COMP%_rtl-cycle-polygon{0%,to{transform:none;left:58.8%}58.8%{transform:translate(-100%);left:0}58.81%{transform:none;left:100%}}@keyframes _ngcontent-%COMP%_rtl-cycle-rectangle{0%,to{transform:none;left:42.85%}42.85%{transform:translate(-100%);left:0}42.86%{transform:none;left:100%}}@keyframes _ngcontent-%COMP%_rtl-cycle-footer{0%,to{left:100%}99.99%{left:-180%}}@keyframes _ngcontent-%COMP%_slide-in{0%{left:110%}to{left:0}}@keyframes _ngcontent-%COMP%_slide-out{0%{left:0}to{left:-100%;display:none}}"]});function Qt(o,t){o&1&&e._UZ(0,"ts-mask",2)}function Wt(o,t){if(o&1){const n=e.EpF();e.TgZ(0,"ts-confirm-registration",5),e.NdJ("manageClick",function(){e.CHM(n);const r=e.oxw(2);return e.KtG(r.onManageClick())})("guideMeClick",function(){e.CHM(n);const r=e.oxw(2);return e.KtG(r.onGuideMeClick())}),e.qZA()}if(o&2){const n=e.oxw(2);e.Q6J("ngClass",n.themeName)}}function Vt(o,t){if(o&1&&e._UZ(0,"ts-wait-page",6),o&2){const n=e.oxw(2);e.Q6J("ngClass",n.themeName)("messageContent",n.getWaitPageMessage())("isNeedToFreeze",n.isNeedToFreeze)}}function $t(o,t){if(o&1&&(e.ynx(0),e.YNc(1,Wt,1,1,"ts-confirm-registration",3),e.YNc(2,Vt,1,3,"ts-wait-page",4),e.BQk()),o&2){const n=e.oxw();e.xp6(1),e.Q6J("ngIf",n.showConfirmRegistrationComponent),e.xp6(1),e.Q6J("ngIf",n.showWaitPageComponent)}}var q;(function(o){o[o.FirstAppAssist=0]="FirstAppAssist",o[o.WaitingForTrial=1]="WaitingForTrial"})(q||(q={}));class Te{get showConfirmRegistrationComponent(){var t;return this.displayMode===((t=this.waitForTrialPageDisplayMode)===null||t===void 0?void 0:t.FirstAppAssist)}get showWaitPageComponent(){return this.displayMode===this.waitForTrialPageDisplayMode.WaitingForTrial&&this.isTrialError===!1}get _genAiFeatureEnabled(){return Boolean(this._featureValues["GenAIFeatures.Application"])}constructor(t,n,i,r,a,c,l,u,p,P,J,Re,Xe,et){this._messageChannelService=t,this._route=n,this._httpClient=i,this._translateService=r,this._window=a,this._almThemeService=c,this._createTrialProcessService=l,this._environmentActionNotifierService=u,this._dialogService=p,this._router=P,this._googleTagManager=J,this._titleService=Re,this.cookiesService=Xe,this._featureValues=et,this._trialProduct="",this._isStudioProduct=!1,this.goToMask$=new jt.t(1),this.isNeedDemoData=!0,this.isSubmitting=!1,this.contactName="",this.contactEmail="",this.contactPhotoId="",this.displayMode=q.FirstAppAssist,this.themeName="",this.isLoading=!0,this.isTrialError=!1,this.isNeedToFreeze=!1,this._destroyed=new y.x}_runCreateTrialProcess(t,n){this._createTrialProcessService.runCreateTrialProcess(this._trialProduct,t,n,this._window.location.href).pipe((0,d.R)(this._destroyed)).subscribe({next:i=>{i.success}})}_handleProcessMessage(t){const n=JSON.parse(JSON.stringify(t));n.Header&&this._isNotNullOrEmpty(n.Body)&&(n.Header.Sender==="CreateEnvironmentResult"&&this.goToMask$.subscribe(i=>{this._processCreateEnvironmentResult(n,i)}),n.Header.Sender==="CheckTrialSitesLimit"&&this._processCheckTrialSitesLimitResult(n))}_processCreateEnvironmentResult(t,n){this.isSubmitting=!1;let i=JSON.parse(t.Body).url;this._isNotNullOrEmpty(i)?(this._googleTagManager.initialize().subscribe({next:()=>{this._googleTagManager.track({event:"New trial",eventCategory:"ALM",eventLabel:[this._trialProduct]})}}),this.cookiesService.delete("product"),this._genAiFeatureEnabled&&(n="/GetStarted"),this._isStudioProduct?(i+="/0/ClientApp/?autoOpenIdLogin=true#/ApplicationManagement"+n,this._router.navigate(["/EnvironmentManagement","environmentUrl",encodeURI(i)])):(i+="/0/Nui/ViewModule.aspx?autoOpenIdLogin=true",console.log(`Redirecting to ${i}...`),this._window.location.assign(i))):(this.isTrialError=!0,this._showTryLaterMessage())}_processCheckTrialSitesLimitResult(t){JSON.parse(t.Body).result===!1&&(this.isNeedToFreeze=!0,this._showTrialsExceededMessage())}_showTryLaterMessage(){this._environmentActionNotifierService.openDialogMessage(this._translateService.instant("EnvironmentErrorPage.TryLaterMessage")).pipe((0,d.R)(this._destroyed)).subscribe(()=>{const t=this._window.location.origin.split("."),n=this._window.location.protocol||"https";let i=t[1],r=t[2];(!i||!r)&&(i="creatio",r="com"),this._window.location.assign(`${n}//${i}.${r}/trial/creatio`)})}_showTrialsExceededMessage(){this._createTrialProcessService.getProductName(this._trialProduct).subscribe(t=>{this._dialogService.open(Ve.m8,{disableClose:!0,panelClass:["info-dialog-wrapper",this.themeName],backdropClass:"info-dialog-blur",data:{headerMessage:lt.Ld.Format(this._translateService.instant("EnvironmentsExceeded.Header"),t),message:"EnvironmentsExceeded.Description",button:{caption:"EnvironmentsExceeded.ButtonCaption",result:"close"}}}).subscribe(n=>{n==="close"&&this._router.navigate(["/EnvironmentManagement"])})})}_isNotNullOrEmpty(t){return t!=null&&t.length>0}_getUserProfile(){const t="ssp/rest/AlmUserProfileService/GetUserProfile";return this._httpClient.get(t).pipe((0,C.U)(n=>{const i=n.result;this.contactName=i.Name,this.contactEmail=i.Email,this.contactPhotoId=i.PhotoId}))}_getTheme(){return this._almThemeService.getCurrentThemeName()}_setPageTitle(t){const n=this._translateService.instant(t);this._titleService.setTitle(n)}_getTrialProduct(t){return(!t||t==="null")&&(console.error("Product wasn't filled in query params. Trying to get product from cookie."),t=this.cookiesService.get("product")),t}getImageUrl(t){return(0,M.XpF)(t)}onManageClick(){this.displayMode=q.WaitingForTrial,this.goToMask$.next("")}onGuideMeClick(){this.displayMode=q.WaitingForTrial,this.goToMask$.next("/CreateApp?templateCode=AppWithSectionAndEditPage")}ngOnInit(){this._getTheme().pipe((0,d.R)(this._destroyed)).subscribe(t=>{this.themeName=t,this.isLoading=!1}),this._setPageTitle("EnvironmentManagement.WaitPageTitle"),this._getUserProfile().pipe((0,d.R)(this._destroyed)).subscribe(),this._route.queryParams.pipe((0,d.R)(this._destroyed)).subscribe({next:t=>{this._trialProduct=this._getTrialProduct(t.product),this._isStudioProduct=this._trialProduct.indexOf("studio")>=0;const n=t.firstLogin;this._isStudioProduct&&n==="true"&&this._genAiFeatureEnabled===!1?(this.displayMode=q.FirstAppAssist,this.isNeedDemoData=!1):(this.goToMask$.next(""),this.displayMode=q.WaitingForTrial),this._messageChannelService.init$.pipe((0,d.R)(this._destroyed)).subscribe(i=>{if(i.subscribe().pipe((0,d.R)(this._destroyed)).subscribe({next:r=>{this._handleProcessMessage(r)}}),this._isNotNullOrEmpty(this._trialProduct)){const r=!this._isStudioProduct,a=t.lang;this._runCreateTrialProcess(r,a)}})}})}getWaitPageMessage(){return this._translateService.instant(this._isStudioProduct?"EnvironmentManagement.WaitTrialPage.WaitPage.StudioEnterpriseMessage":"EnvironmentManagement.WaitTrialPage.WaitPage.CRMMessage")}get waitForTrialPageDisplayMode(){return q}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}}Te.\u0275fac=function(t){return new(t||Te)(e.Y36(M.zgS),e.Y36(_.gz),e.Y36(H.eN),e.Y36(h.sK),e.Y36(Z.WINDOW_TOKEN),e.Y36(T.k),e.Y36(pe),e.Y36(j),e.Y36(f.xA),e.Y36(_.F0),e.Y36(G.kK),e.Y36(Je.Dx),e.Y36(A),e.Y36(M.Sfm,8))},Te.\u0275cmp=e.Xpm({type:Te,selectors:[["ts-wait-for-trial"]],decls:2,vars:2,consts:[["class","component-mask",4,"ngIf"],[4,"ngIf"],[1,"component-mask"],[3,"ngClass","manageClick","guideMeClick",4,"ngIf"],[3,"ngClass","messageContent","isNeedToFreeze",4,"ngIf"],[3,"ngClass","manageClick","guideMeClick"],[3,"ngClass","messageContent","isNeedToFreeze"]],template:function(t,n){t&1&&(e.YNc(0,Qt,1,0,"ts-mask",0),e.YNc(1,$t,3,2,"ng-container",1)),t&2&&(e.Q6J("ngIf",n.isLoading),e.xp6(1),e.Q6J("ngIf",!n.isLoading))},dependencies:[v.mk,v.O5,ze.g,Oe,Ae],styles:["ts-wait-page[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;overflow:hidden}.component-mask[_ngcontent-%COMP%]{position:absolute;height:100%;width:100%}.main-content[_ngcontent-%COMP%]{width:380px;height:240px;inset:0;position:absolute;margin:auto;border:1px solid #e6e8ed;border-radius:8px;text-align:center;background:#ffffff}.main-content[_ngcontent-%COMP%]   .user-name[_ngcontent-%COMP%]{font-size:13px}.main-content[_ngcontent-%COMP%]   .user-email[_ngcontent-%COMP%]{font-size:11px}.main-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:96px;height:24px;background:#2d6bd9;border-radius:12px;cursor:pointer}"]});function Kt(o,t){if(o&1){const n=e.EpF();e.TgZ(0,"div",2)(1,"crt-button",3),e.NdJ("clicked",function(){e.CHM(n);const r=e.oxw();return e.KtG(r.onClick())}),e.qZA()()}if(o&2){const n=e.oxw();e.xp6(1),e.Q6J("disableRipple",!0)("tsDataItemMarker",n.dataMarker)("icon",n.icon)("iconPosition",n.iconPositionEnum.LeftIcon)("caption",n.caption)}}const qt=["*"];class Le{constructor(){this.showAction=!1,this.clicked=new e.vpe,this.iconPositionEnum=N.F9O}onClick(){this.clicked.emit()}}Le.\u0275fac=function(t){return new(t||Le)},Le.\u0275cmp=e.Xpm({type:Le,selectors:[["crt-environment-error-info"]],inputs:{showAction:"showAction",dataMarker:"dataMarker",caption:"caption",icon:"icon"},outputs:{clicked:"clicked"},ngContentSelectors:qt,decls:3,vars:1,consts:[[1,"text-block"],["class","button-block",4,"ngIf"],[1,"button-block"],["color","primary",1,"env-button",3,"disableRipple","tsDataItemMarker","icon","iconPosition","caption","clicked"]],template:function(t,n){t&1&&(e.F$t(),e.TgZ(0,"div",0),e.Hsn(1),e.qZA(),e.YNc(2,Kt,2,5,"div",1)),t&2&&(e.xp6(2),e.Q6J("ngIf",n.showAction))},dependencies:[v.O5,Ye.i,Be.O],styles:[".text-block[_ngcontent-%COMP%]{display:grid;padding:16px 0}.button-block[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;text-align:center}.button-block[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]{width:16px;height:16px;padding-right:8px;padding-bottom:10px}.button-block[_ngcontent-%COMP%]   .env-button[_ngcontent-%COMP%]{justify-content:center;text-align:center;margin-left:auto;margin-right:auto;height:40px;width:216px}.button-block[_ngcontent-%COMP%]   .env-button[_ngcontent-%COMP%]     .crt-button{width:100%}"]});function Xt(o,t){o&1&&(e.TgZ(0,"crt-environment-error-info")(1,"span",11),e._uU(2),e.ALo(3,"translate"),e.qZA()()),o&2&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"EnvironmentErrorPage.TrialExpiredCaption")))}function en(o,t){if(o&1&&(e.TgZ(0,"crt-environment-error-info")(1,"span",12),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"span",13),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"span",14),e._uU(8),e.qZA(),e.TgZ(9,"span",15),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"a",16),e._uU(13),e.ALo(14,"translate"),e.qZA()()),o&2){const n=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,6,"EnvironmentErrorPage.Oops")),e.xp6(3),e.Oqu(e.lcZ(6,8,"EnvironmentErrorPage.Description")),e.xp6(3),e.Oqu(n.environmentModel==null?null:n.environmentModel.name),e.xp6(2),e.Oqu(e.lcZ(11,10,"EnvironmentErrorPage.Proposition")),e.xp6(2),e.MGl("href","mailto:",n.supportEmail,"",e.LSH),e.xp6(1),e.Oqu(e.lcZ(14,12,"EnvironmentErrorPage.ContactSupport"))}}function tn(o,t){if(o&1){const n=e.EpF();e.TgZ(0,"crt-environment-error-info",17),e.NdJ("clicked",function(){e.CHM(n);const r=e.oxw();return e.KtG(r.getFreeTrial())}),e.ALo(1,"translate"),e.TgZ(2,"span",18),e._uU(3),e.ALo(4,"translate"),e.qZA()()}o&2&&(e.Q6J("showAction",!0)("caption",e.lcZ(1,4,"EnvironmentErrorPage.GetFreeTrial"))("dataMarker","get-free-trial-button"),e.xp6(3),e.hij(" ",e.lcZ(4,6,"EnvironmentErrorPage.HaveNotActiveSites")," "))}class Ue{get supportEmail(){return this._supportEmail}get isStatusInactive(){var t;return((t=this.environmentModel)===null||t===void 0?void 0:t.status)===V.Inactive}get catIcon(){return this.isStatusInactive?"cat-trial-expired":"cat-env-not-responding"}constructor(t,n,i,r,a){this._materialIconsRegistrator=t,this._sysSettingsService=n,this._environmentListItemActionsService=i,this._featureService=r,this._environmentNavigation=a,this._destroyedSubject=new y.x,this._supportEmail="",this._createTrialUrl="",this.addNewEnvironmentButtonVisible=!1,this.themeName="";const c=[{name:"error-message-icon",icon:s(16166)},{name:"cat-trial-expired",icon:s(1981)},{name:"cat-env-not-responding",icon:s(89855)}];this._materialIconsRegistrator.addIcons(c)}_getInitialData(){return(0,gt.D)([this._sysSettingsService.getByCodes(["SupportEmailDef","CreateTrialUrl"]),this._featureService.getFeatureState("AddNewEnvironmentButtonVisible")])}addNewEnvironment(){alert("Add new environment")}restart(){this.environmentModel&&this._environmentListItemActionsService.restartEnvironment(this.environmentModel)}getFreeTrial(){this._environmentNavigation.navigateToUrl(this._createTrialUrl)}ngOnInit(){this._getInitialData().pipe((0,d.R)(this._destroyedSubject)).subscribe(([t,n])=>{this._supportEmail=t.values.SupportEmailDef.value,this._createTrialUrl=t.values.CreateTrialUrl.value,this.addNewEnvironmentButtonVisible=n})}ngOnDestroy(){this._destroyedSubject.next(),this._destroyedSubject.complete()}}Ue.\u0275fac=function(t){return new(t||Ue)(e.Y36(f.ZH),e.Y36(G.lI),e.Y36(se),e.Y36(G.UZ),e.Y36(w))},Ue.\u0275cmp=e.Xpm({type:Ue,selectors:[["ts-environment-error-page"]],inputs:{environmentModel:"environmentModel"},decls:12,vars:4,consts:[[1,"error-page-container"],[1,"left-div"],[1,"ring"],[1,"right-div"],[1,"error-content"],["tsDataItemMarker","environment-cat-image",1,"image-block"],[1,"cat-block"],[1,"cat-icon",3,"svgIcon"],[1,"info-block"],[4,"ngIf"],[3,"showAction","caption","dataMarker","clicked",4,"ngIf"],["tsDataItemMarker","environment-trial-expired",1,"trial-text"],["tsDataItemMarker","environment-oops",1,"oops"],["tsDataItemMarker","environment-error-description",1,"env-description"],["tsDataItemMarker","environment-name",1,"environment-name"],["tsDataItemMarker","environment-error-proposition"],["tsDataItemMarker","environment-contact-support-link",1,"contact-support",3,"href"],[3,"showAction","caption","dataMarker","clicked"],["tsDataItemMarker","have-not-active-sites",1,"trial-text"]],template:function(t,n){t&1&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"div",2),e.qZA(),e.TgZ(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6),e._UZ(7,"mat-icon",7),e.qZA()(),e.TgZ(8,"div",8),e.YNc(9,Xt,4,3,"crt-environment-error-info",9),e.YNc(10,en,15,14,"crt-environment-error-info",9),e.YNc(11,tn,5,8,"crt-environment-error-info",10),e.qZA()()()()),t&2&&(e.xp6(7),e.Q6J("svgIcon",n.catIcon),e.xp6(2),e.Q6J("ngIf",n.environmentModel&&n.isStatusInactive),e.xp6(1),e.Q6J("ngIf",n.environmentModel&&!n.isStatusInactive),e.xp6(1),e.Q6J("ngIf",!n.environmentModel))},dependencies:[v.O5,Be.O,z.Hw,Le,h.X$],styles:[".error-page-container[_ngcontent-%COMP%]{width:100%;height:calc(100vh - 48px);display:flex}.error-page-container[_ngcontent-%COMP%]   .left-div[_ngcontent-%COMP%]{width:280px;display:flex;align-items:flex-end}.error-page-container[_ngcontent-%COMP%]   .left-div[_ngcontent-%COMP%]   .ring[_ngcontent-%COMP%]{position:fixed;margin-bottom:-11em;margin-left:4.2em;width:29.5em;height:29.5em;border-radius:50%;border:70px solid}.error-page-container[_ngcontent-%COMP%]   .right-div[_ngcontent-%COMP%]{width:100%;border-radius:120px 0 0;display:flex;align-items:center;justify-content:center;z-index:999;overflow:hidden;padding-right:280px}.error-page-container[_ngcontent-%COMP%]   .right-div[_ngcontent-%COMP%]   .error-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;height:100%}.error-page-container[_ngcontent-%COMP%]   .right-div[_ngcontent-%COMP%]   .error-content[_ngcontent-%COMP%]   .image-block[_ngcontent-%COMP%]{display:flex;align-items:flex-end;justify-content:center;height:50%}.error-page-container[_ngcontent-%COMP%]   .right-div[_ngcontent-%COMP%]   .error-content[_ngcontent-%COMP%]   .image-block[_ngcontent-%COMP%]   .cat-icon[_ngcontent-%COMP%]{position:relative;height:80px;width:69px}.error-page-container[_ngcontent-%COMP%]   .right-div[_ngcontent-%COMP%]   .error-content[_ngcontent-%COMP%]   .image-block[_ngcontent-%COMP%]   .cat-block[_ngcontent-%COMP%]{-webkit-mask-image:url(error-message-icon.970e9096f5e69955.svg);mask-image:url(error-message-icon.970e9096f5e69955.svg);-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;display:flex;justify-content:center;align-items:center;width:181px;height:189px;padding:3px}.error-page-container[_ngcontent-%COMP%]   .right-div[_ngcontent-%COMP%]   .error-content[_ngcontent-%COMP%]   .info-block[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center;height:50%}.error-page-container[_ngcontent-%COMP%]   .right-div[_ngcontent-%COMP%]   .error-content[_ngcontent-%COMP%]   .info-block[_ngcontent-%COMP%]   crt-environment-error-info[_ngcontent-%COMP%]   .trial-text[_ngcontent-%COMP%]{padding:24px 0}.error-page-container[_ngcontent-%COMP%]   .right-div[_ngcontent-%COMP%]   .error-content[_ngcontent-%COMP%]   .info-block[_ngcontent-%COMP%]   crt-environment-error-info[_ngcontent-%COMP%]   .oops[_ngcontent-%COMP%]{padding-bottom:40px}.error-page-container[_ngcontent-%COMP%]   .right-div[_ngcontent-%COMP%]   .error-content[_ngcontent-%COMP%]   .info-block[_ngcontent-%COMP%]   crt-environment-error-info[_ngcontent-%COMP%]   .env-description[_ngcontent-%COMP%]{width:16em}.error-page-container[_ngcontent-%COMP%]   .right-div[_ngcontent-%COMP%]   .error-content[_ngcontent-%COMP%]   .info-block[_ngcontent-%COMP%]   crt-environment-error-info[_ngcontent-%COMP%]   .environment-name[_ngcontent-%COMP%]{padding-bottom:19px}.error-page-container[_ngcontent-%COMP%]   .right-div[_ngcontent-%COMP%]   .error-content[_ngcontent-%COMP%]   .info-block[_ngcontent-%COMP%]   crt-environment-error-info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto}.error-page-container[_ngcontent-%COMP%]   .right-div[_ngcontent-%COMP%]   .error-content[_ngcontent-%COMP%]   .info-block[_ngcontent-%COMP%]   crt-environment-error-info[_ngcontent-%COMP%]   .contact-support[_ngcontent-%COMP%]{padding-top:16px;text-decoration:underline}"]});class de{}de.\u0275fac=function(t){return new(t||de)},de.\u0275cmp=e.Xpm({type:de,selectors:[["crt-environment-iframe-item"]],inputs:{src:"src",title:"title"},decls:2,vars:2,consts:[[1,"frame-div"],[1,"frame",3,"src","title"]],template:function(t,n){t&1&&(e.TgZ(0,"div",0),e._UZ(1,"iframe",1),e.qZA()),t&2&&(e.xp6(1),e.Q6J("src",n.src,e.uOi)("title",n.title))},styles:[".frame-div[_ngcontent-%COMP%]{display:flex}.frame-div[_ngcontent-%COMP%]   .frame[_ngcontent-%COMP%]{border:none;width:100%;height:calc(100vh - 48px);background-color:#fff}"]});function nn(o,t){o&1&&e._UZ(0,"ts-mask")}function on(o,t){if(o&1&&e._UZ(0,"crt-environment-iframe-item",3,4),o&2){const n=e.oxw(2);e.Q6J("src",n.url)("title","Alm environments")}}function rn(o,t){if(o&1&&e._UZ(0,"ts-environment-error-page",5),o&2){const n=e.oxw(2);e.Q6J("environmentModel",n.selectedEnvironment)}}function an(o,t){if(o&1&&(e.TgZ(0,"div"),e.YNc(1,on,2,2,"crt-environment-iframe-item",1),e.YNc(2,rn,1,1,"ts-environment-error-page",2),e.qZA()),o&2){const n=e.oxw();e.xp6(1),e.Q6J("ngIf",n.isEnvironmentReady),e.xp6(1),e.Q6J("ngIf",!n.isEnvironmentReady)}}class X{get selectedEnvironment(){return this._selectedEnvironment}constructor(t,n,i,r,a,c,l,u,p,P){this._domSanitizer=t,this._activatedRoute=n,this._environmentManagementService=i,this._environmentSelectionService=r,this._environmentActionNotifierService=a,this._healthCheckService=c,this._environmentMessageListener=l,this._appDeploymentService=u,this._featureService=p,this._environmentNavigationService=P,this._destroyed$=new y.x,this._appManagementUrl="/0/ClientApp/?autoOpenIdLogin=true#/ApplicationManagement",this.isEnvironmentReady=!1,this.isLoading=!0}_selectEnvironment(t){if(this._selectedEnvironment=t,t?.status!==V.Running){this.isEnvironmentReady=!1,this.isLoading=!1;return}const n=t.url;this._healthCheckService.checkIsEnvironmentEnabled(n).pipe((0,d.R)(this._destroyed$)).subscribe(i=>{if(this.isLoading=!1,!i){this.isEnvironmentReady=!1;return}const r=`${this._environmentSelectionService.preferredUrl}`||`${n}${this._appManagementUrl}`;this.url=this._domSanitizer.bypassSecurityTrustResourceUrl(r),this.isEnvironmentReady=!0})}_selectPreferredEnvironment(t){const n=this._environmentManagementService.findEnvironmentByPartUrl(t);this._handleEnvironmentChange(n)}_deployApp(t){return g.ValidationUtilities.checkArgumentEmpty("selectedEnvironment",this.selectedEnvironment),this._appDeploymentService.deployAppFromEnvironment(this.selectedEnvironment,t)}_initEnvironment(){const t=this._featureService.getFeatureState("ReloadEnvironmentsOnChangeEventReceived");this._initWhenReloadOnChangeEventEnabled(t),this._initWhenReloadOnChangeEventDisabled(t)}_setActiveEnvironment(t){if(!t){this.isLoading=!1,this.isEnvironmentReady=!1;return}this._firstActiveEnvironment=t}_initWhenReloadOnChangeEventDisabled(t){t.pipe((0,D.h)(n=>!n),(0,b.w)(()=>this._environmentManagementService.getFirstActiveEnvironmentAsync()),(0,ie.b)(n=>this._setActiveEnvironment(n)),(0,D.h)(n=>!!n),(0,b.w)(()=>this._environmentManagementService.getEnvironments()),(0,b.w)(()=>this._activatedRoute.paramMap),(0,d.R)(this._destroyed$)).subscribe(n=>{this._setKeepPreferredUrlMode();const i=n.get("environmentUrl");if(i){this._selectPreferredUrl(i);return}const r=n.get("environmentSiteName");r?this._selectPreferredEnvironment(r):this._handleEnvironmentChange(this._firstActiveEnvironment)})}_initWhenReloadOnChangeEventEnabled(t){t.pipe((0,D.h)(n=>n),(0,b.w)(()=>this._environmentManagementService.getFirstActiveEnvironmentAsync()),(0,ie.b)(n=>this._setActiveEnvironment(n)),(0,D.h)(n=>!!n),(0,b.w)(()=>this._activatedRoute.paramMap),(0,b.w)(n=>{this._setKeepPreferredUrlMode();const i=n.get("environmentUrl");if(i)return this._environmentManagementService.findEnvironmentByStartWithUrlAsync(i).pipe((0,ie.b)(a=>{a&&this._savePreferredUrl(i)}));const r=n.get("environmentSiteName");return r?this._environmentManagementService.findEnvironmentByPartUrlAsync(r):(0,L.of)(this._firstActiveEnvironment)}),(0,d.R)(this._destroyed$)).subscribe(n=>{this._handleEnvironmentChange(n)})}_handleEnvironmentChange(t){t?this._environmentSelectionService.changeEnvironment(t):(this.isLoading=!1,this._environmentActionNotifierService.showEnvironmentNotExistsMessage())}_setKeepPreferredUrlMode(){this._environmentSelectionService.keepPreferredUrl||(this._environmentSelectionService.preferredUrl=""),this._environmentSelectionService.keepPreferredUrl=!1}_savePreferredUrl(t){this._environmentSelectionService.preferredUrl=decodeURI(t),this._environmentSelectionService.keepPreferredUrl=!0}_selectPreferredUrl(t){const n=this._environmentManagementService.findEnvironmentByStartWithUrl(t);n?(this._savePreferredUrl(t),this._environmentSelectionService.changeEnvironment(n)):(this.isLoading=!1,this._environmentActionNotifierService.showEnvironmentNotExistsMessage())}_subscribeOnDeployAppEvent(){this._environmentMessageListener.getMessagesByTag(I.i6.DeployApp).pipe((0,b.w)(t=>this._deployApp(t)),(0,D.h)(t=>!!t?.environmentEventId),(0,d.R)(this._destroyed$)).subscribe(t=>{this._environmentNavigationService.navigateToDeployAppStatus(t.environmentEventId)})}_subscribeOnEnvironmentChanged(){this._environmentSelectionService.environmentChanged.pipe((0,d.R)(this._destroyed$)).subscribe(t=>this._selectEnvironment(t))}ngOnInit(){this._subscribeOnEnvironmentChanged(),this._initEnvironment(),this._subscribeOnDeployAppEvent()}ngOnDestroy(){this._destroyed$.next(),this._destroyed$.complete()}}X.\u0275fac=function(t){return new(t||X)(e.Y36(Je.H7),e.Y36(_.gz),e.Y36(E),e.Y36(x),e.Y36(j),e.Y36($),e.Y36(be),e.Y36(oe),e.Y36(G.UZ),e.Y36(w))},X.\u0275cmp=e.Xpm({type:X,selectors:[["ts-environment-item"]],decls:2,vars:2,consts:[[4,"ngIf"],[3,"src","title",4,"ngIf"],[3,"environmentModel",4,"ngIf"],[3,"src","title"],["environmentFrame",""],[3,"environmentModel"]],template:function(t,n){t&1&&(e.YNc(0,nn,1,0,"ts-mask",0),e.YNc(1,an,3,2,"div",0)),t&2&&(e.Q6J("ngIf",n.isLoading),e.xp6(1),e.Q6J("ngIf",!n.isLoading))},dependencies:[v.O5,ze.g,Ue,de],styles:[`ts-environment-item ts-environment-error-page{width:100%}.app-deployment-dialog .mat-dialog-container{padding:32px}.app-deployment-dialog .mat-dialog-container [mat-dialog-content]{max-height:calc(100vh - 175px);overflow-y:auto;margin:0 -32px;padding:0 32px}
`],encapsulation:2});var k=s(85351),sn=s(33569);class jn{}var Ne;(function(o){o[o.Inactive=0]="Inactive",o[o.Active=1]="Active",o[o.Invited=2]="Invited"})(Ne||(Ne={}));var cn=s(7666),ut=s(98010),$e=s(86427),ln=s(88805);function pn(o,t){if(o&1&&(e.TgZ(0,"div",9)(1,"div",10),e._uU(2),e.qZA(),e.TgZ(3,"div",11),e._uU(4),e.qZA()()),o&2){const n=e.oxw(2).$implicit,i=e.oxw();let r;e.xp6(2),e.Oqu((r=i.getLoginByProviderKey(n.name))==null?null:r.providerDisplayName),e.xp6(2),e.Oqu(i.getEmailValue(n.name))}}function dn(o,t){if(o&1){const n=e.EpF();e.TgZ(0,"div",12),e.NdJ("click",function(){e.CHM(n);const r=e.oxw(2).$implicit,a=e.oxw();return e.KtG(a.disconnectAccount(r.name))}),e._uU(1),e.ALo(2,"translate"),e.qZA()}if(o&2){const n=e.oxw(2).$implicit,i=e.oxw();e.Q6J("hidden",i.disconnectProviderVisibleName!==n.name),e.xp6(1),e.hij(" ",e.lcZ(2,2,"UserProfile.Logins.DisconnectAccount")," ")}}function mn(o,t){if(o&1){const n=e.EpF();e.TgZ(0,"div",13),e.NdJ("click",function(){e.CHM(n);const r=e.oxw(2).$implicit,a=e.oxw();return e.KtG(a.addLogin(r.name))}),e._uU(1),e.ALo(2,"translate"),e.qZA()}o&2&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"UserProfile.Logins.AddNewLogin")," "))}function gn(o,t){if(o&1){const n=e.EpF();e.TgZ(0,"div",3),e.NdJ("mouseover",function(){e.CHM(n);const r=e.oxw().$implicit,a=e.oxw();return e.KtG(a.disconnectProviderVisibleName=r.name)})("mouseout",function(){e.CHM(n);const r=e.oxw(2);return e.KtG(r.disconnectProviderVisibleName="")}),e.TgZ(1,"div",4),e._uU(2),e.qZA(),e.TgZ(3,"div",5),e._UZ(4,"div"),e.YNc(5,pn,5,2,"div",6),e.YNc(6,dn,3,4,"div",7),e.YNc(7,mn,3,3,"div",8),e.qZA()()}if(o&2){const n=e.oxw().$implicit,i=e.oxw();e.xp6(2),e.hij(" ",n.caption," "),e.xp6(2),e.Gre("logo ",n.name,""),e.xp6(1),e.Q6J("ngIf",i.getLoginByProviderKey(n.name)),e.xp6(1),e.Q6J("ngIf",i.getLoginByProviderKey(n.name)&&i.isDisconnectSupport),e.xp6(1),e.Q6J("ngIf",!i.getLoginByProviderKey(n.name))}}function un(o,t){if(o&1&&(e.TgZ(0,"div"),e.YNc(1,gn,8,7,"div",2),e.qZA()),o&2){const n=t.$implicit,i=e.oxw();e.xp6(1),e.Q6J("ngIf",i.getLoginByProviderKey(n.name)||!i.isReadonlyMode)}}class ke{constructor(t){this._window=t,this.disconnectAccountEvent=new e.vpe,this.disconnectProviderVisibleName="",this.providers=[{name:"LinkedIn",caption:"LinkedIn"},{name:"Google",caption:"Google"},{name:"Facebook",caption:"Facebook"}]}getLoginByProviderKey(t){var n;const i=(n=this.accounts)===null||n===void 0?void 0:n.filter(r=>r.provider===t);return i&&i[0]}addLogin(t){const n=new URL("/External/Challenge/AddLoginChallenge",this.identityLoginUrl);n.searchParams.append("ReturnUrl",this.returnUrl),n.searchParams.append("Provider",t),n.searchParams.append("Login",this.mainLogin),this._window.location.assign(n.href)}disconnectAccount(t){this.disconnectAccountEvent.emit(t)}getEmailValue(t){const n=this.getLoginByProviderKey(t);return(0,Z.isEmailAddress)(n.providerLoginKey)?n.providerLoginKey:n.providerDisplayName}}ke.\u0275fac=function(t){return new(t||ke)(e.Y36(Z.WINDOW_TOKEN))},ke.\u0275cmp=e.Xpm({type:ke,selectors:[["ts-social-accounts-connector"]],inputs:{accounts:"accounts",mainLogin:"mainLogin",identityLoginUrl:"identityLoginUrl",returnUrl:"returnUrl",isReadonlyMode:"isReadonlyMode",isDisconnectSupport:"isDisconnectSupport"},outputs:{disconnectAccountEvent:"disconnectAccountEvent"},decls:2,vars:1,consts:[[1,"connected-accounts"],[4,"ngFor","ngForOf"],["class","login-provider",3,"mouseover","mouseout",4,"ngIf"],[1,"login-provider",3,"mouseover","mouseout"],[1,"title"],[1,"provider-account"],["class","provider-data",4,"ngIf"],["class","action-button disconnect",3,"hidden","click",4,"ngIf"],["class","action-button",3,"click",4,"ngIf"],[1,"provider-data"],[1,"name"],[1,"email"],[1,"action-button","disconnect",3,"hidden","click"],[1,"action-button",3,"click"]],template:function(t,n){t&1&&(e.TgZ(0,"div",0),e.YNc(1,un,2,1,"div",1),e.qZA()),t&2&&(e.xp6(1),e.Q6J("ngForOf",n.providers))},dependencies:[v.sg,v.O5,h.X$],styles:[".connected-accounts[_ngcontent-%COMP%]   .login-provider[_ngcontent-%COMP%]{display:flex;margin-bottom:27px}.connected-accounts[_ngcontent-%COMP%]   .login-provider[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{text-transform:uppercase;width:150px;min-width:150px;text-align:right;padding-right:32px;margin:auto 0}.connected-accounts[_ngcontent-%COMP%]   .login-provider[_ngcontent-%COMP%]   .provider-account[_ngcontent-%COMP%]{display:flex}.connected-accounts[_ngcontent-%COMP%]   .login-provider[_ngcontent-%COMP%]   .provider-account[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{display:inline-block;width:40px;height:40px;background-repeat:no-repeat;background-size:cover}.connected-accounts[_ngcontent-%COMP%]   .login-provider[_ngcontent-%COMP%]   .provider-account[_ngcontent-%COMP%]   .logo.Facebook[_ngcontent-%COMP%]{background-image:url(data:image/svg+xml;base64,PHN2ZyBpZD0iaWNvbl9mYiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCI+CiAgPGNpcmNsZSBpZD0iRWxsaXBzZV8zNTEiIGRhdGEtbmFtZT0iRWxsaXBzZSAzNTEiIGN4PSIyMCIgY3k9IjIwIiByPSIyMCIgZmlsbD0iIzNiNTk5OSIvPgogIDxwYXRoIGlkPSJmYWNlYm9va18xXyIgZD0iTTE2Ljg1NSwyMS4xNzZWMTQuOTM1aDJsLjMwNS0yLjA4aC0yLjNWMTEuMzI5YzAtLjY4LjE2Ni0xLjI0OCwxLjEzNy0xLjI0OGguOTQzbC4yNzctMS45OUExNi40NjEsMTYuNDYxLDAsMCwwLDE3LjQzLDhhMy4wODMsMy4wODMsMCwwLDAtMy4zNSwzLjA5M3YxLjc2MUgxMnYyLjA4aDIuMDgxdjYuMjQxWiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMy44NzMgNC44MjQpIiBmaWxsPSIjZmZmIi8+Cjwvc3ZnPg)}.connected-accounts[_ngcontent-%COMP%]   .login-provider[_ngcontent-%COMP%]   .provider-account[_ngcontent-%COMP%]   .logo.Google[_ngcontent-%COMP%]{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzMiAzMiI+PGRlZnM+PHN0eWxlPi5he2ZpbGw6I2YyZjJmMjt9LmJ7ZmlsbDojNDI4NWY0O30uY3tmaWxsOiMzNGE4NTM7fS5ke2ZpbGw6I2ZiYmMwNTt9LmV7ZmlsbDojZWE0MzM1O30uZntmaWxsOm5vbmU7fTwvc3R5bGU+PC9kZWZzPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKC02NDAgLTU1MikiPjxjaXJjbGUgY2xhc3M9ImEiIGN4PSIxNiIgY3k9IjE2IiByPSIxNiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNjQwIDU1MikiLz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSg2NDggNTYwKSI+PHBhdGggY2xhc3M9ImIiIGQ9Ik0xNi42LDguMmE5LjkwOCw5LjkwOCwwLDAsMC0uMi0xLjhIOFY5LjloNC44QTQuMTE5LDQuMTE5LDAsMCwxLDExLDEyLjZ2Mi4zaDNhOS4wNCw5LjA0LDAsMCwwLDIuNi02LjdaIi8+PHBhdGggY2xhc3M9ImMiIGQ9Ik04LDE3YTguNjcyLDguNjcyLDAsMCwwLDYtMi4ybC0zLTIuMmE1LjYsNS42LDAsMCwxLTMsLjlBNS4zOCw1LjM4LDAsMCwxLDMsOS44SDBWMTJhOC44LDguOCwwLDAsMCw4LDVaIi8+PHBhdGggY2xhc3M9ImQiIGQ9Ik0zLDkuN0E0LjY3MSw0LjY3MSwwLDAsMSwyLjcsOCw0LjY3MSw0LjY3MSwwLDAsMSwzLDYuM1Y0SDBBOS4xLDkuMSwwLDAsMC0xLDhhNy45MjQsNy45MjQsMCwwLDAsMSw0TDMsOS43WiIvPjxwYXRoIGNsYXNzPSJlIiBkPSJNOCwyLjZhNS4xMjcsNS4xMjcsMCwwLDEsMy40LDEuM0wxNCwxLjNBOC43NCw4Ljc0LDAsMCwwLDgtMSw4LjgsOC44LDAsMCwwLDAsNEwzLDYuM0E1LjM4LDUuMzgsMCwwLDEsOCwyLjZaIi8+PHBhdGggY2xhc3M9ImYiIGQ9Ik0tMS0xSDE3VjE3SC0xWiIvPjwvZz48L2c+PC9zdmc+)}.connected-accounts[_ngcontent-%COMP%]   .login-provider[_ngcontent-%COMP%]   .provider-account[_ngcontent-%COMP%]   .logo.LinkedIn[_ngcontent-%COMP%]{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMiIgaGVpZ2h0PSIzMiIgdmlld0JveD0iMCAwIDMyIDMyIj48ZGVmcz48c3R5bGU+LmF7ZmlsbDojMGU3NmE4O30uYntmaWxsOiNmZmY7fTwvc3R5bGU+PC9kZWZzPjxwYXRoIGNsYXNzPSJhIiBkPSJNMTYsMEExNiwxNiwwLDEsMSwwLDE2LDE2LDE2LDAsMCwxLDE2LDBaIi8+PHBhdGggY2xhc3M9ImIiIGQ9Ik04MS45NDksODYuODE0aDNWNzYuODI4aC0zWk05My42MjEsNzYuNDgyYTQuNSw0LjUsMCwwLDAtMy42NzgsMS43Vjc2LjhIODYuOTM2Vjg2LjgxNGgzLjAwN1Y4MS40YTIuMzc4LDIuMzc4LDAsMCwxLDIuMzYzLTIuMjYyYzEuMzE0LDAsMS42MzgsMS4xMTcsMS42MzgsMi4yMzR2NS40NDVoM1Y4MS4xNDVDOTYuOTQsNzcuMjA4LDk1LjA3Niw3Ni40ODIsOTMuNjIxLDc2LjQ4MlpNODMuNDMzLDc1LjgzYTEuNSwxLjUsMCwxLDAtMS41LTEuNUExLjUsMS41LDAsMCwwLDgzLjQzMyw3NS44M1oiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC03Mi45MzMgLTY0LjgzKSIvPjwvc3ZnPg)}.connected-accounts[_ngcontent-%COMP%]   .login-provider[_ngcontent-%COMP%]   .provider-account[_ngcontent-%COMP%]   .provider-data[_ngcontent-%COMP%]{display:inline-block;text-align:left;padding-left:16px}.connected-accounts[_ngcontent-%COMP%]   .login-provider[_ngcontent-%COMP%]   .provider-account[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]{padding-left:16px;margin:auto 0;cursor:pointer}.connected-accounts[_ngcontent-%COMP%]   .login-provider[_ngcontent-%COMP%]   .provider-account[_ngcontent-%COMP%]   .action-button.disconnect[_ngcontent-%COMP%]{padding-left:32px}"]});function hn(o,t){o&1&&e._UZ(0,"ts-mask",2)}function _n(o,t){o&1&&e._UZ(0,"div",29)}function vn(o,t){if(o&1){const n=e.EpF();e.TgZ(0,"div",11)(1,"div",30)(2,"crt-label",31),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"a",32),e.NdJ("click",function(){e.CHM(n);const r=e.oxw(3);return e.KtG(r.onResendConfirmClicked())}),e._uU(6),e.ALo(7,"translate"),e.qZA()()()}o&2&&(e.xp6(3),e.Oqu(e.lcZ(4,2,"UserProfile.EmailNotConfirmed")),e.xp6(3),e.hij("",e.lcZ(7,4,"UserProfile.ResendConfirm")," "))}function fn(o,t){if(o&1){const n=e.EpF();e.TgZ(0,"div",33)(1,"crt-button",34),e.NdJ("clicked",function(){e.CHM(n);const r=e.oxw(3);return e.KtG(r.onChangeEmail())}),e._uU(2),e.ALo(3,"translate"),e.qZA()()}o&2&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"UserProfile.ChangeEmail")," "))}function Cn(o,t){if(o&1){const n=e.EpF();e.TgZ(0,"div",11)(1,"crt-combobox",35),e.NdJ("showList",function(r){e.CHM(n);const a=e.oxw(3);return e.KtG(a.filterLanguages(r))}),e.ALo(2,"async"),e.ALo(3,"translate"),e.qZA()()}if(o&2){const n=e.oxw(3);e.xp6(1),e.Q6J("control",n.languageControl)("items",e.lcZ(2,7,n.languageList$))("value",n.model.language)("labelPosition","left")("appearance","outline")("label",e.lcZ(3,9,"UserProfile.Language"))("readonly",n.isOrganizationProfile)}}function Mn(o,t){if(o&1){const n=e.EpF();e.TgZ(0,"div",11)(1,"crt-combobox",36),e.NdJ("showList",function(r){e.CHM(n);const a=e.oxw(3);return e.KtG(a.filterTimeZones(r))}),e.ALo(2,"async"),e.ALo(3,"translate"),e.qZA()()}if(o&2){const n=e.oxw(3);e.xp6(1),e.Q6J("control",n.timeZoneControl)("items",e.lcZ(2,7,n.timeZonesList$))("value",n.model.timeZone)("labelPosition","left")("appearance","outline")("label",e.lcZ(3,9,"UserProfile.TimeZone"))("readonly",n.isOrganizationProfile)}}function bn(o,t){if(o&1){const n=e.EpF();e.TgZ(0,"div",11)(1,"crt-combobox",37),e.NdJ("showList",function(r){e.CHM(n);const a=e.oxw(3);return e.KtG(a.filterDateTimeFormats(r))}),e.ALo(2,"async"),e.ALo(3,"translate"),e.qZA()()}if(o&2){const n=e.oxw(3);e.xp6(1),e.Q6J("control",n.dateTimeFormatControl)("items",e.lcZ(2,7,n.dateTimeFormatsList$))("value",n.model.dateTimeFormat)("labelPosition","left")("appearance","outline")("label",e.lcZ(3,9,"UserProfile.DateTimeFormat"))("readonly",n.isOrganizationProfile)}}function Pn(o,t){if(o&1){const n=e.EpF();e.TgZ(0,"div",38)(1,"crt-slide-toggle",39),e.NdJ("toggleChange",function(r){e.CHM(n);const a=e.oxw(3);return e.KtG(a.setActiveStatus(r))}),e.ALo(2,"translate"),e.qZA()()}if(o&2){const n=e.oxw(3);e.ekj("readonly-field",!n.isOrganizationProfile),e.xp6(1),e.Q6J("default",n.isUserActive())("title",e.lcZ(2,5,"UserProfile.Active"))("disabled",!n.isOrganizationProfile)}}function In(o,t){o&1&&(e.TgZ(0,"div",18),e._UZ(1,"crt-input",40),e.ALo(2,"translate"),e.ALo(3,"translate"),e.qZA()),o&2&&(e.xp6(1),e.s9C("value",e.lcZ(2,5,"UserProfile.Invited")),e.Q6J("labelPosition","left")("label",e.lcZ(3,7,"UserProfile.Status"))("readonly",!0)("appearance","outline"))}function Sn(o,t){if(o&1){const n=e.EpF();e.TgZ(0,"div",41)(1,"crt-button",42),e.NdJ("clicked",function(){e.CHM(n);const r=e.oxw(3);return e.KtG(r.onChangePassword())}),e._uU(2),e.ALo(3,"translate"),e.qZA()()}o&2&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"UserProfile.ChangePassword")," "))}function yn(o,t){if(o&1){const n=e.EpF();e.TgZ(0,"div")(1,"crt-label",43),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"ts-social-accounts-connector",44),e.NdJ("disconnectAccountEvent",function(r){e.CHM(n);const a=e.oxw(3);return e.KtG(a.onDisconnectAccountClicked(r))}),e.qZA()()}if(o&2){const n=e.oxw(3);e.xp6(2),e.hij(" ",e.lcZ(3,7,"UserProfile.ConnectedAccountsSectionCaption"),""),e.xp6(2),e.Q6J("accounts",n.socialAccountsConfig)("mainLogin",n.model.email)("returnUrl",n.getAddSocialReturnUrl())("identityLoginUrl",n.identityServerUrl)("isReadonlyMode",n.isOrganizationProfile)("isDisconnectSupport",n.isDisconnectAccountAvailable())}}const En=function(o,t){return{name:o,photo:t}};function xn(o,t){if(o&1){const n=e.EpF();e.TgZ(0,"div",5)(1,"div",6)(2,"span",7),e.NdJ("click",function(){e.CHM(n);const r=e.oxw(2);return e.KtG(r.onBack())}),e._UZ(3,"mat-icon",8),e.qZA(),e.TgZ(4,"crt-button",9),e.NdJ("clicked",function(){e.CHM(n);const r=e.oxw(2);return e.KtG(r.onApplyChanges())}),e._uU(5),e.ALo(6,"translate"),e.qZA()(),e.TgZ(7,"div",10)(8,"div",11)(9,"crt-label",12),e._uU(10),e.qZA()(),e.TgZ(11,"ng-form",13)(12,"div",14),e._UZ(13,"ts-contact-photo",15),e.qZA(),e._UZ(14,"div",16),e.TgZ(15,"div",11)(16,"crt-input",17),e.NdJ("input",function(r){e.CHM(n);const a=e.oxw(2);return e.KtG(a.onFirstLastNameChange(r.target.value))}),e.ALo(17,"translate"),e.qZA()(),e.TgZ(18,"div",18),e._UZ(19,"crt-input",19),e.ALo(20,"translate"),e.qZA(),e.TgZ(21,"div",18),e._UZ(22,"crt-input",20),e.ALo(23,"translate"),e.YNc(24,_n,1,0,"div",21),e.qZA(),e.YNc(25,vn,8,6,"div",22),e.YNc(26,fn,4,3,"div",23),e.YNc(27,Cn,4,11,"div",22),e.YNc(28,Mn,4,11,"div",22),e.YNc(29,bn,4,11,"div",22),e.TgZ(30,"div",11),e._UZ(31,"crt-combobox",24),e.ALo(32,"async"),e.ALo(33,"translate"),e.qZA(),e.YNc(34,Pn,3,7,"div",25),e.YNc(35,In,4,9,"div",26),e.YNc(36,Sn,4,3,"div",27),e.qZA(),e.YNc(37,yn,5,9,"div",28),e.qZA()()}if(o&2){const n=e.oxw(2);e.xp6(4),e.Q6J("disabled",!n.saveEnabled()),e.xp6(1),e.hij(" ",e.lcZ(6,45,"UserProfile.ApplyChanges")," "),e.xp6(5),e.hij(" ",n.getPageCaption()," "),e.xp6(1),e.Q6J("formGroup",n.profileForm),e.xp6(2),e.Q6J("contact",e.WLB(57,En,n.model.name,n.getImageUrl(n.model.photoId)))("contactColor",n.contactColor),e.xp6(2),e.ekj("readonly-field",!n.isUserAcceptedInvitation&&n.isOrganizationProfile),e.xp6(1),e.Q6J("control",n.firstLastNameControl)("value",n.model.name)("labelPosition","left")("appearance","outline")("label",e.lcZ(17,47,"UserProfile.FirstLastName"))("readonly",!n.isUserAcceptedInvitation&&n.isOrganizationProfile),e.xp6(3),e.Q6J("control",n.organizationControl)("value",n.model.organization)("labelPosition","left")("appearance","outline")("label",e.lcZ(20,49,"UserProfile.Organization"))("readonly",!0),e.xp6(3),e.Q6J("control",n.emailControl)("value",n.model.email)("labelPosition","left")("appearance","outline")("label",e.lcZ(23,51,"UserProfile.Email"))("readonly",!0),e.xp6(2),e.Q6J("ngIf",!n.isOrganizationProfile),e.xp6(1),e.Q6J("ngIf",!n.isOrganizationProfile&&!n.model.emailConfirmed&&n.model.hasPassword),e.xp6(1),e.Q6J("ngIf",!n.isOrganizationProfile&&n.model.hasPassword),e.xp6(1),e.Q6J("ngIf",!n.isOrganizationProfile),e.xp6(1),e.Q6J("ngIf",!n.isOrganizationProfile),e.xp6(1),e.Q6J("ngIf",!n.isOrganizationProfile),e.xp6(1),e.ekj("readonly-field",!n.isOrganizationProfile),e.xp6(1),e.Q6J("control",n.roleControl)("items",e.lcZ(32,53,n.rolesList$))("value",n.model.role)("labelPosition","left")("appearance","outline")("label",e.lcZ(33,55,"UserProfile.Role"))("readonly",!n.isOrganizationProfile),e.xp6(3),e.Q6J("ngIf",n.isUserAcceptedInvitation),e.xp6(1),e.Q6J("ngIf",!n.isUserAcceptedInvitation),e.xp6(1),e.Q6J("ngIf",!n.isOrganizationProfile&&n.model.hasPassword),e.xp6(1),e.Q6J("ngIf",!n.isOrganizationProfile)}}function wn(o,t){if(o&1&&(e.TgZ(0,"div",3),e.YNc(1,xn,38,60,"div",4),e.qZA()),o&2){const n=e.oxw();e.Q6J("ngClass",n.themeName),e.xp6(1),e.Q6J("ngIf",n.model&&n.model.id)}}var He;(function(o){o.USER_NOT_FOUND="user_not_found",o.NOT_CONFIRMED_EMAIL="not_confirmed_email"})(He||(He={}));class me extends N.neP{constructor(t,n,i,r,a,c,l,u,p,P,J,Re){super(t),this._userProfileService=n,this._snackBar=i,this._translate=r,this._window=a,this.dialogService=c,this._activateRoute=l,this._userInfo=u,this._router=p,this._materialIconsRegistrator=P,this._almThemeService=J,this._crtControlStateAdapter=Re,this._imageUrl="img/entity/hash/SysImage/Data/",this._destroyedSubjectTheme=new y.x,this.profileFormGroup=new m.nJ({firstLastNameControl:new m.p4("",[this._crtControlStateAdapter.transform({instance:new k.Q7G(this.injector)})]),emailControl:new m.p4(""),organizationControl:new m.p4(""),languageControl:new m.p4(""),timeZoneControl:new m.p4(""),dateTimeFormatControl:new m.p4(""),roleControl:new m.p4("",[this._crtControlStateAdapter.transform({instance:new k.Q7G(this.injector)})])}),this.contactColor="#f57e42",this.isSubmitting=!1,this.isNeedLogoutOnControlChange=!1,this.isOrganizationProfile=!0,this.isUserAcceptedInvitation=!0,this.toolbarModel={},this.themeName="",this._userProfileService.getIdentityServerUrl().subscribe(et=>{this.identityServerUrl=et}),this.handleLoginConnectionError();const Xe=[{name:"back-arrow-icon",icon:s(83346)}];this._materialIconsRegistrator.addIcons(Xe)}get profileForm(){return this.profileFormGroup}get firstLastNameControl(){return this.profileForm.get("firstLastNameControl")}get emailControl(){return this.profileForm.get("emailControl")}get organizationControl(){return this.profileForm.get("organizationControl")}get languageControl(){return this.profileForm.get("languageControl")}get timeZoneControl(){return this.profileForm.get("timeZoneControl")}get dateTimeFormatControl(){return this.profileForm.get("dateTimeFormatControl")}get roleControl(){return this.profileForm.get("roleControl")}_loadUserProfile(){this._userProfileService.getUserProfile().subscribe(t=>{this.model=t,this._userProfileService.loadCurrentUserCulture(this.model),this._initSocialAccounts()})}_loadOrganizationUserProfile(t){this._userProfileService.getUserProfileForOrganization(t).subscribe(n=>{this.model=n,this.isUserAcceptedInvitation=this.model.status!==Ne.Invited,this._userProfileService.loadCurrentUserCulture(this.model),this.isUserAcceptedInvitation&&this._initSocialAccounts()}),this.roleControl.valueChanges.subscribe(n=>{this._changeRole(n)})}_getSuccessResponse(){return(0,L.of)({success:!0,errorInfo:null,result:[]})}_showInfoMessage(t){return this._snackBar.open(t,"",{duration:3e3})}_touchFormControls(){this.profileForm.markAllAsTouched()}_getReturnUrl(){const t=this._window.location;return t.origin+t.pathname+"/?autoOpenIdLogin=true/"+t.hash}_filterLookups(t,n,i,r){let a;const c=t.filterValue;return c!==null&&c!==""?a=n.pipe((0,C.U)(l=>l.filter(u=>u.displayValue.toLowerCase().indexOf(c.toLowerCase())!==-1))):(a=n,i.valid&&(this.model[r]=i.value,this.isNeedLogoutOnControlChange=!0),this.setIsChanged()),a}_initSocialAccounts(){var t;this._userProfileService.getUserLogins((t=this.model)===null||t===void 0?void 0:t.email).subscribe(n=>{this.socialAccountsConfig=n})}getImageUrl(t){return!t||t===g.EMPTY_GUID?"./assets/environment-management/no-profile-photo.svg":(0,M.Vo9)((0,M.MAR)(),this._imageUrl,t)}savePageData(t,n=!1){if(!this.profileForm.valid){this._touchFormControls();return}if(!this.isChanged)return this._getSuccessResponse();this.isOrganizationProfile?this._updateUserProfileForOrganization(this._userId,t):this._updateUserProfile(t,n)}_updateUserProfile(t,n=!1){this._userProfileService.updateUserProfile(t).subscribe(i=>{this.isChanged=!1,this.isSubmitting=!1,n?(this.window.sessionStorage.setItem("needToShowChangesSavedMessage","true"),this._logoutCurrentUser()):this._processResponseMessage(i)})}_updateUserProfileForOrganization(t,n){this._userProfileService.updateUserProfileForOrganization(t,n).subscribe(i=>{this._processResponseMessage(i),this.isChanged=!1,this.isSubmitting=!1})}_processResponseMessage(t){t.success?this._showInfoMessage(this._translate.instant("UserProfile.ChangesSaved")):this._showInfoMessage(this._translate.instant("UserProfile.SavingError"))}_changeRole(t){t!==null&&this.model.role.value!==t.value&&(this.model.role=t,this.setIsChanged())}_getTheme(){return this._almThemeService.getCurrentThemeName()}_logoutCurrentUser(){this._userProfileService.logout().subscribe(t=>{if(t.success){const n=this._getReturnUrl();this._window.location.replace(n)}else this.isSubmitting=!1,this._showInfoMessage(this._translate.instant("UserProfile.ChangePasswordError"))})}_getIsOrganizationProfile(){return!(!this._userId||this._userInfo.id===this._userId)}_showChangesSavedMessage(){this.window.sessionStorage.getItem("needToShowChangesSavedMessage")&&(this.window.sessionStorage.removeItem("needToShowChangesSavedMessage"),this._showInfoMessage(this._translate.instant("UserProfile.ChangesSaved")))}_processAddSocialAccountError(t){const n=new URL(this._window.location.toString());n.searchParams.delete("AddLoginSucceeded"),n.searchParams.delete("Error"),this._window.history.replaceState(null,"",n.toString()),this._showInfoMessage(this._translate.instant(t))}getModelFromLoadResponse(){throw new Error("Method not implemented.")}getGtmSchemaName(){return"UserProfilePage"}requestPageData(){throw new Error("Method not implemented.")}onFirstLastNameChange(t){this.model.name=t,this.setIsChanged()}onEmailChange(t){this.model.email=t,this.setIsChanged()}setActiveStatus(t){this.model.status=t.checked?Ne.Active:Ne.Inactive,this.setIsChanged()}isUserActive(){return this.model.status===Ne.Active}get languageList$(){return this._languageList$||(this._languageList$=this._userProfileService.getLanguages(),this._languageListOriginal$=this._languageList$),this._languageList$}get timeZonesList$(){return this._timeZonesList$||(this._timeZonesList$=this._userProfileService.getTimeZones(),this._timeZonesListOriginal$=this._timeZonesList$),this._timeZonesList$}get dateTimeFormatsList$(){return this._dateTimeFormatsList$||(this._dateTimeFormatsList$=this._userProfileService.getDateTimeFormats(),this._dateTimeFormatsListOriginal$=this._dateTimeFormatsList$),this._dateTimeFormatsList$}get rolesList$(){return this._rolesList$||(this._rolesList$=this._userProfileService.getRoles()),this._rolesList$}onChangePassword(){this.isSubmitting=!0,this._userProfileService.changePassword().subscribe(t=>{var n;if(t.success){const i=this._userInfo.cultureInfo.sysCultureName.split("-")[0];this._window.sessionStorage.setItem("confirmationEmail",this.model.email);const r=new URL(`/login/reset-password-confirmation-alm?email=${this.model.email}&lang=${i}`,this.identityServerUrl).href;this._window.open(r,"_blank")}else switch(JSON.parse(((n=t?.errorInfo)===null||n===void 0?void 0:n.message)||"").executionResult){case He.USER_NOT_FOUND:this._showInfoMessage(this._translate.instant("UserProfile.ResetPasswordValidationError"));break;case He.NOT_CONFIRMED_EMAIL:this._showInfoMessage(this._translate.instant("UserProfile.NotConfirmedEmail"));break;default:this._showInfoMessage(this._translate.instant("UserProfile.ChangePasswordError"))}this.isSubmitting=!1})}onApplyChanges(){this.isSubmitting=!0,this.savePageData(this.model,this.isNeedLogoutOnControlChange)}onChangeEmail(){this._router.navigate(["EnvironmentManagement/Pages/ChangeEmail"],{state:{email:this.emailControl.value}})}onResendConfirmClicked(){this.isSubmitting=!0,this._userProfileService.resendConfirmEmail(this.model.email).subscribe(t=>{t.success?this._showInfoMessage(this._translate.instant("UserProfile.ResendConfirmEmailSuccess")):this._showInfoMessage(this._translate.instant("UserProfile.ResendConfirmEmailError")),this.isSubmitting=!1})}filterTimeZones(t){t&&(this._timeZonesList$=this._filterLookups(t,this._timeZonesListOriginal$,this.timeZoneControl,"timeZone"))}filterLanguages(t){t&&(this._languageList$=this._filterLookups(t,this._languageListOriginal$,this.languageControl,"language"))}filterDateTimeFormats(t){t&&(this._dateTimeFormatsList$=this._filterLookups(t,this._dateTimeFormatsListOriginal$,this.dateTimeFormatControl,"dateTimeFormat"))}onBack(){const t=this._window.sessionStorage.getItem("environment_previousUrl");t?(this._window.sessionStorage.removeItem("environment_previousUrl"),this._router.navigate([t])):this._window.history.back()}ngOnInit(){this._getTheme().pipe((0,d.R)(this._destroyedSubjectTheme)).subscribe(t=>this.themeName=t),this._userId=this._activateRoute.snapshot.params.userId,this._userId?this._loadOrganizationUserProfile(this._userId):this._loadUserProfile(),this.isOrganizationProfile=this._getIsOrganizationProfile(),this.isOrganizationProfile||this.languageControl.setValidators([this._crtControlStateAdapter.transform({instance:new k.Q7G(this.injector)})])}ngAfterViewInit(){this._showChangesSavedMessage()}handleLoginConnectionError(){const t=new URLSearchParams(this._window.location.search),n=t.get("AddLoginSucceeded");if(!(0,sn.Z)(n)&&!JSON.parse(n.toLowerCase())){const r=t.get("Error")==="LoginAlreadyAssociated"?"UserProfile.Logins.LoginAlreadyAssociated":"UserProfile.Logins.DefaultConnectionErrorMessage";this._processAddSocialAccountError(r)}}getAddSocialReturnUrl(){return this._window.location.origin+this._window.location.pathname+"#/EnvironmentManagement/Users/Profile"}canEditUserRole(){return this._userInfo.id!==this._userId}getPageCaption(){return this.isOrganizationProfile?this.model.name:this._translate.instant("UserProfile.Profile")}saveEnabled(){return this.isChanged&&this.profileForm.valid}isDisconnectAccountAvailable(){var t;return!this.isOrganizationProfile&&(this.model.hasPassword||((t=this.socialAccountsConfig)===null||t===void 0?void 0:t.length)>1)}onDisconnectAccountClicked(t){this._userProfileService.disconnectAccount(t,this.model.email).subscribe(n=>{n===!0?this._initSocialAccounts():this._showInfoMessage(this._translate.instant("UserProfile.DisconnectAccountError"))})}}me.\u0275fac=function(t){return new(t||me)(e.Y36(e.zs3),e.Y36(R),e.Y36(cn.ux),e.Y36(h.sK),e.Y36(Z.WINDOW_TOKEN),e.Y36(f.xA),e.Y36(_.gz),e.Y36(M.aoG),e.Y36(_.F0),e.Y36(f.ZH),e.Y36(T.k),e.Y36(k.S6F))},me.\u0275cmp=e.Xpm({type:me,selectors:[["ts-user-profile"]],features:[e.qOj],decls:2,vars:2,consts:[["class","component-mask",4,"ngIf"],["class","background-layer",3,"ngClass",4,"ngIf"],[1,"component-mask"],[1,"background-layer",3,"ngClass"],["class","profile-page-wrap",4,"ngIf"],[1,"profile-page-wrap"],[1,"top-container"],["data-qa","back-button",1,"back-arrow-icon-wrap",3,"click"],["svgIcon","back-arrow-icon",1,"back-arrow-icon"],["data-qa","button-apply-changes",1,"save-changes-button",3,"disabled","clicked"],[1,"profile-page"],[1,"line-container"],["labelTextTransform","uppercase",1,"section-title"],[1,"form-container",3,"formGroup"],[1,"line-container","photo-container"],[1,"profile-contact-photo","right-control",3,"contact","contactColor"],[2,"width","100%"],["data-qa","input-firstlastname",3,"control","value","labelPosition","appearance","label","readonly","input"],[1,"line-container","readonly-field"],["data-qa","input-organization",3,"control","value","labelPosition","appearance","label","readonly"],["data-qa","input-email",3,"control","value","labelPosition","appearance","label","readonly"],["style","clear: both",4,"ngIf"],["class","line-container",4,"ngIf"],["class","line-container change-email-container",4,"ngIf"],["data-qa","user-role",3,"control","items","value","labelPosition","appearance","label","readonly"],["class","line-container user-status-container",3,"readonly-field",4,"ngIf"],["class","line-container readonly-field",4,"ngIf"],["class","line-container change-password-container",4,"ngIf"],[4,"ngIf"],[2,"clear","both"],[1,"resend-email-wrap"],[1,"email-not-confirmed-label"],["data-qa","resend-confirm",1,"resend-confirm-link",3,"click"],[1,"line-container","change-email-container"],["data-qa","change-email-button",1,"change-email-button",3,"clicked"],["data-qa","user-language",3,"control","items","value","labelPosition","appearance","label","readonly","showList"],["data-qa","user-timezone",3,"control","items","value","labelPosition","appearance","label","readonly","showList"],["data-qa","user-datetimeformat",3,"control","items","value","labelPosition","appearance","label","readonly","showList"],[1,"line-container","user-status-container"],["data-qa","toggle-status",3,"default","title","disabled","toggleChange"],["data-qa","input-status",3,"value","labelPosition","label","readonly","appearance"],[1,"line-container","change-password-container"],["data-qa","button-change-password",1,"change-password-button",3,"clicked"],["labelTextTransform","uppercase",1,"connected-accounts-title"],[1,"social-accounts",3,"accounts","mainLogin","returnUrl","identityLoginUrl","isReadonlyMode","isDisconnectSupport","disconnectAccountEvent"]],template:function(t,n){t&1&&(e.YNc(0,hn,1,0,"ts-mask",0),e.YNc(1,wn,2,2,"div",1)),t&2&&(e.Q6J("ngIf",n.isSubmitting||!(n.model&&n.model.id)),e.xp6(1),e.Q6J("ngIf",n.model&&n.model.id))},dependencies:[v.mk,v.O5,ut.w,Ye.i,We.m5,$e.B,je.u,m.JL,m.F,z.Hw,ze.g,m.sg,ln.w,ke,v.Ov,h.X$],styles:["[_nghost-%COMP%]   ts-environment-toolbar[_ngcontent-%COMP%]{position:sticky}.profile-page-wrap[_ngcontent-%COMP%]{width:100%;border-radius:40px 0 0;height:calc(100vh - 48px);overflow-y:scroll}.profile-page-wrap[_ngcontent-%COMP%]   .top-container[_ngcontent-%COMP%]{position:sticky;top:64px;padding-left:25px}.profile-page-wrap[_ngcontent-%COMP%]   .back-arrow-icon-wrap[_ngcontent-%COMP%]{vertical-align:middle;margin-right:19px;display:inline-block}.profile-page-wrap[_ngcontent-%COMP%]   .back-arrow-icon-wrap[_ngcontent-%COMP%]:hover{cursor:pointer}.profile-page[_ngcontent-%COMP%]{width:814px;height:100%;min-height:100%;padding:40px 0;background-color:#fff;margin:0 auto}.profile-page[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{display:flex;justify-content:center;margin:40px auto}.profile-page[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]:first-child{margin-top:0}.profile-page[_ngcontent-%COMP%]   .connected-accounts-title[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:40px;margin-bottom:40px}.profile-page[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]{margin-top:40px;display:flex;flex-wrap:wrap}.profile-page[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .line-container[_ngcontent-%COMP%]{display:inline-block;margin:auto;width:814px;text-align:center}.profile-page[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .photo-container[_ngcontent-%COMP%]{width:auto;padding-bottom:5px;margin-left:335px}.profile-page[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .left-label[_ngcontent-%COMP%]{float:left;display:flex;justify-content:right;padding-right:20px}.profile-page[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .left-label.photo-label[_ngcontent-%COMP%]{margin-top:40px}.profile-page[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .right-control[_ngcontent-%COMP%]{float:right;text-align:right}.profile-page[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .resend-email-wrap[_ngcontent-%COMP%]{overflow:hidden;overflow-wrap:break-word;text-align:unset;padding-left:337px;margin-top:24px}.profile-page[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .resend-email-wrap[_ngcontent-%COMP%]   .email-not-confirmed-label[_ngcontent-%COMP%]{float:left;padding:10px 0;max-width:45%}.profile-page[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .resend-email-wrap[_ngcontent-%COMP%]   .resend-confirm-link[_ngcontent-%COMP%]{float:right;padding:10px 16px;max-width:45%}.profile-page[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .change-password-button[_ngcontent-%COMP%], .profile-page[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .change-email-button[_ngcontent-%COMP%]{float:left;padding-left:337px}.profile-page[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .change-email-container[_ngcontent-%COMP%], .profile-page[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .user-status-container[_ngcontent-%COMP%]{margin-top:24px}.profile-page[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .change-password-container[_ngcontent-%COMP%]{margin-top:45px}.profile-page[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]     crt-label{display:inline-block}.profile-page[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-wrapper{margin:0}.profile-page[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]     .crt-input.label-position-left{padding-top:24px;padding-bottom:0}.profile-page[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]     .line-container .crt-input .crt-input-label-container{width:100%;margin-right:32px}.profile-page[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]     .line-container .crt-input .crt-input-control-container{align-items:flex-end;min-width:480px}.profile-page[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]     .line-container crt-autocomplete{min-width:480px}.profile-page[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]     .mat-form-field-wrapper{padding-bottom:0}.profile-page[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]     .mat-slide-toggle .mat-slide-toggle-bar{margin-left:0;height:16px}.profile-page[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]     .mat-slide-toggle .slide-content .slide-title{margin-right:32px}.profile-page[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]     .mat-slide-toggle.mat-checked.mat-disabled{opacity:1}.profile-page[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]     .mat-slide-toggle.mat-checked.mat-disabled .mat-slide-toggle-bar{background-color:#757575}.profile-page[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]     .mat-slide-toggle.mat-checked:not(.mat-disabled) .mat-slide-toggle-bar{background-color:#004fd6}.profile-page[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]     .mat-slide-toggle.mat-checked .mat-slide-toggle-thumb{background-color:#fff}.profile-page[_ngcontent-%COMP%]   .social-accounts[_ngcontent-%COMP%]{display:flex;justify-content:unset;margin-left:152px}.profile-page[_ngcontent-%COMP%]     .contact-photo{border-radius:10%;width:110px;height:110px;cursor:default}.profile-page[_ngcontent-%COMP%]     .contact-photo.no-photo{font-size:45px}.profile-page[_ngcontent-%COMP%]     .combobox-expander{display:block}.profile-page[_ngcontent-%COMP%]     .grid-position .crt-input{display:block}.profile-page[_ngcontent-%COMP%]     .grid-position .crt-input .crt-input-label{text-align:left!important;color:#999}.profile-page[_ngcontent-%COMP%]     .slide-wrapper.mat-slide-toggle{width:initial;float:right;margin-right:calc(100% - 368px)}.profile-page[_ngcontent-%COMP%]     .slide-wrapper.mat-slide-toggle .mat-slide-toggle-label{justify-content:right}.profile-page[_ngcontent-%COMP%]     .crt-input-label.crt-input-required:after{content:none}"]});var On=s(95568);const ht={Unauthorized:401,Conflict:409};class Ze{constructor(t,n,i,r,a,c,l,u){this._userProfileService=t,this._translate=n,this._snackBar=i,this._materialIconsRegistrator=r,this._injector=a,this._mainMenuService=c,this._crtControlStateAdapter=l,this._window=u,this.isSending=!1,this.changeEmailForm=new m.cw({emailControl:new m.p4("",{updateOn:"change",validators:[this._crtControlStateAdapter.transform({instance:new k.Q7G(this._injector)}),this._createEmailPatternValidatorFn.bind(this),this._createNotSameEmailValidatorFn()]}),passwordControl:new m.NI("",{updateOn:"change",validators:[this._crtControlStateAdapter.transform({instance:new k.Q7G(this._injector)})]})});const p=[{name:"back-arrow-icon",icon:s(83346)}];this._materialIconsRegistrator.addIcons(p)}_setControlError(t,n){t.setErrors(n),t.markAsTouched()}_showInfoMessage(t){return this._snackBar.open(t,"",{duration:3e3})}_createNotSameEmailValidatorFn(){return t=>{var n,i;return((n=this.currentEmail)===null||n===void 0?void 0:n.toLowerCase())===((i=t.value)===null||i===void 0?void 0:i.toLowerCase())?this._createValidatorErrorsMessage("NotSameEmail","UserProfile.ExistsEmailError"):null}}_createEmailPatternValidatorFn(t){return m.kI.pattern(Z.EMAIL_PATTERN)(t)!==null?this._createValidatorErrorsMessage("InvalidEmail","Validators.Email.Message"):null}_createValidatorErrorsMessage(t,n){return{[t]:{message:this._translate.instant(`${n}`)}}}ngOnInit(){this._userProfileService.getUserProfile().subscribe(t=>{this.currentEmail=t.email,this.userId=t.id})}get emailControl(){return this.changeEmailForm.get("emailControl")}get passwordControl(){return this.changeEmailForm.get("passwordControl")}back(){window.history.back()}onSubmit(){if(this.changeEmailForm.valid){const t=this.emailControl.value;this.isSending=!0,this._userProfileService.changeEmail(this.currentEmail,t,this.passwordControl.value).pipe((0,C.U)(n=>{var i;if(this.isSending=!1,n&&n.success)this._mainMenuService.logout().subscribe(r=>{this._window.location.assign(r.redirectLocation)});else switch((i=n?.errorInfo)===null||i===void 0?void 0:i.errorCode){case ht.Unauthorized.toString():this._setControlError(this.passwordControl,this._createValidatorErrorsMessage("WrongPassword","UserProfile.WrongPassword"));break;case ht.Conflict.toString():this._setControlError(this.emailControl,this._createValidatorErrorsMessage("ExistsEmail","UserProfile.ExistsEmailError"));break;default:this._showInfoMessage(this._translate.instant("UserProfile.ChangeEmailError"))}})).subscribe()}else this.changeEmailForm.markAllAsTouched()}}Ze.\u0275fac=function(t){return new(t||Ze)(e.Y36(R),e.Y36(h.sK),e.Y36(Me.pl),e.Y36(f.ZH),e.Y36(e.zs3),e.Y36(M.jUE),e.Y36(k.S6F),e.Y36("window"))},Ze.\u0275cmp=e.Xpm({type:Ze,selectors:[["ts-change-email"]],decls:18,vars:21,consts:[["data-qa","back-button",3,"click"],["svgIcon","back-arrow-icon",1,"back-arrow-icon"],[1,"change-email-page"],[1,"title"],[1,"current-email"],[1,"logo"],[1,"email"],[1,"change-email-container"],["data-qa","input-email",3,"control","labelPosition","appearance","label"],["data-qa","input-password",3,"control","labelPosition","appearance","inputType","label","keyup.enter"],[1,"change-email-button",3,"disabled","clicked"]],template:function(t,n){t&1&&(e.TgZ(0,"a",0),e.NdJ("click",function(){return n.back()}),e._UZ(1,"mat-icon",1),e.qZA(),e.TgZ(2,"div",2)(3,"span",3),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"div",4),e._UZ(7,"div",5),e.TgZ(8,"div",6),e._uU(9),e.qZA()(),e.TgZ(10,"div",7),e._UZ(11,"crt-input",8),e.ALo(12,"translate"),e.TgZ(13,"crt-password-input",9),e.NdJ("keyup.enter",function(){return n.onSubmit()}),e.ALo(14,"translate"),e.qZA(),e.TgZ(15,"crt-button",10),e.NdJ("clicked",function(){return n.onSubmit()}),e._uU(16),e.ALo(17,"translate"),e.qZA()()()),t&2&&(e.xp6(4),e.Oqu(e.lcZ(5,13,"UserProfile.ChangeEmail")),e.xp6(5),e.Oqu(n.currentEmail),e.xp6(2),e.Q6J("control",n.changeEmailForm.controls.emailControl)("labelPosition","above")("appearance","outline")("label",e.lcZ(12,15,"UserProfile.NewEmail")),e.xp6(2),e.Q6J("control",n.changeEmailForm.controls.passwordControl)("labelPosition","above")("appearance","outline")("inputType","password")("label",e.lcZ(14,17,"UserProfile.CurrentPassword")),e.xp6(2),e.Q6J("disabled",n.changeEmailForm.invalid||n.isSending),e.xp6(1),e.hij(" ",e.lcZ(17,19,"UserProfile.ChangeEmailButton")," "))},dependencies:[Ye.i,$e.B,On.c,z.Hw,h.X$],styles:[`ts-change-email .back-arrow-icon{top:48px;left:16px;width:24px;height:24px;position:absolute;cursor:pointer}.change-email-page{width:420px;height:-moz-fit-content;height:fit-content;display:inline-flex;flex-direction:column;box-sizing:border-box;margin:auto;position:absolute;inset:0;text-align:left}.change-email-page .title{text-transform:uppercase;margin-bottom:44px;display:block}.change-email-page .current-email{display:flex;align-items:center;justify-content:flex-start;margin-bottom:10px}.change-email-page .current-email .logo{background-image:url(data:image/svg+xml;base64,PHN2ZyBpZD0iYXZhdGFyXzUwXzUwIiBkYXRhLW5hbWU9ImF2YXRhciA1MF81MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgd2lkdGg9IjQ4IiBoZWlnaHQ9IjQ4IiB2aWV3Qm94PSIwIDAgNDggNDgiPgogIDxkZWZzPgogICAgPGxpbmVhckdyYWRpZW50IGlkPSJsaW5lYXItZ3JhZGllbnQiIHgxPSIwLjUiIHgyPSIwLjUiIHkyPSIxIiBncmFkaWVudFVuaXRzPSJvYmplY3RCb3VuZGluZ0JveCI+CiAgICAgIDxzdG9wIG9mZnNldD0iMCIgc3RvcC1jb2xvcj0iIzAzYTlmNCIvPgogICAgICA8c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiMwMDc1ZWEiLz4KICAgIDwvbGluZWFyR3JhZGllbnQ+CiAgPC9kZWZzPgogIDxjaXJjbGUgaWQ9IkVsbGlwc2VfNjI1IiBkYXRhLW5hbWU9IkVsbGlwc2UgNjI1IiBjeD0iMjQiIGN5PSIyNCIgcj0iMjQiIGZpbGw9InVybCgjbGluZWFyLWdyYWRpZW50KSIvPgogIDxnIGlkPSJHcm91cF8zODE4IiBkYXRhLW5hbWU9Ikdyb3VwIDM4MTgiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEyLjk2MyA5LjEzKSI+CiAgICA8cGF0aCBpZD0iUGF0aF8yNzMyIiBkYXRhLW5hbWU9IlBhdGggMjczMiIgZD0iTTYxOC45LDIzNS40YTYuMjgsNi4yOCwwLDAsMS02LjgsMCw2LjQ3OCw2LjQ3OCwwLDAsMC00LjAzNiwxLjU1NEExMC43MjYsMTAuNzI2LDAsMCwwLDYwNC41LDI0My4zYTEuODE3LDEuODE3LDAsMCwwLDEuOCwyLjFoMTguNGExLjgxNywxLjgxNywwLDAsMCwxLjgtMi4xQzYyNS44LDIzOS40LDYyMi44LDIzNS40LDYxOC45LDIzNS40WiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTYwNCAtMjE5KSIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjZmZmIiBzdHJva2Utd2lkdGg9IjEuMiIvPgogICAgPHBhdGggaWQ9IlBhdGhfMjczMyIgZGF0YS1uYW1lPSJQYXRoIDI3MzMiIGQ9Ik02MjAuMSwyMjcuNmMwLDMuMS0yLDUuNy00LjYsNS43cy00LjYtMi41LTQuNi01LjciIHRyYW5zZm9ybT0idHJhbnNsYXRlKC02MDQgLTIxOSkiIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2ZmZiIgc3Ryb2tlLXdpZHRoPSIxLjIiLz4KICAgIDxwYXRoIGlkPSJQYXRoXzI3MzQiIGRhdGEtbmFtZT0iUGF0aCAyNzM0IiBkPSJNNjEwLjMsMjQxYTcuODQsNy44NCwwLDAsMC0xLjEsNC4xIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtNjA0IC0yMTkpIiBmaWxsPSJub25lIiBzdHJva2U9IiNmZmYiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLXdpZHRoPSIxLjIiLz4KICAgIDxwYXRoIGlkPSJQYXRoXzI3MzUiIGRhdGEtbmFtZT0iUGF0aCAyNzM1IiBkPSJNNjIwLjYsMjQxYTcuODQsNy44NCwwLDAsMSwxLjEsNC4xIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtNjA0IC0yMTkpIiBmaWxsPSJub25lIiBzdHJva2U9IiNmZmYiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLXdpZHRoPSIxLjIiLz4KICAgIDxwYXRoIGlkPSJQYXRoXzI3MzYiIGRhdGEtbmFtZT0iUGF0aCAyNzM2IiBkPSJNNjExLjIsMjI4LjNjLTIuMy01LjMsMi40LTkuOCw2LjYtNy41LDIuMS0uMiwzLjcsMy44LDIuMSw3LjNhMTYuNCwxNi40LDAsMCwwLTIuMy00LjZDNjE2LjUsMjI0LjIsNjExLjcsMjI0LjEsNjExLjIsMjI4LjNaIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtNjA0IC0yMTkpIiBmaWxsPSJub25lIiBzdHJva2U9IiNmZmYiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLXdpZHRoPSIxLjIiLz4KICAgIDxsaW5lIGlkPSJMaW5lXzU1NCIgZGF0YS1uYW1lPSJMaW5lIDU1NCIgeTI9IjkuMiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTEuNSAxNi45KSIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjZmZmIiBzdHJva2Utd2lkdGg9IjEuMyIvPgogICAgPHJlY3QgaWQ9IlJlY3RhbmdsZV8yMjM0IiBkYXRhLW5hbWU9IlJlY3RhbmdsZSAyMjM0IiB3aWR0aD0iMjMiIGhlaWdodD0iMjciIGZpbGw9Im5vbmUiLz4KICA8L2c+Cjwvc3ZnPgo);width:48px;height:48px;display:inline-block}.change-email-page .current-email .email{display:inline-block;margin-left:15px}.change-email-page .change-email-container{width:100%}.change-email-page .change-email-container .change-email-button{width:100%;height:48px;margin-top:18px}.change-email-page .change-email-container .change-email-button .crt-button.mat-flat-button{height:48px}.change-email-page .change-email-container .change-email-button ::ng-deep .crt-button{height:48px}ts-alm-pages-container .pages-wrapper .page-wrap{width:100%!important;border-radius:0 0 0 120px!important}ts-alm-pages-container .header .header-logo-icon{display:block}
`],encapsulation:2});function An(o,t){o&1&&e._UZ(0,"ts-mask")}function Tn(o,t){if(o&1&&(e.TgZ(0,"div",2),e._UZ(1,"crt-environment-iframe-item",3),e.qZA()),o&2){const n=e.oxw();e.xp6(1),e.Q6J("src",n.url)("title",n.title)}}class De{constructor(t,n){this._environmentNavigationService=t,this._activatedRoute=n,this._destroyed$=new y.x,this.isLoading=!1}ngOnInit(){this.isLoading=!0,this._activatedRoute.data.pipe((0,d.R)(this._destroyed$)).subscribe(t=>{var n;this.url=this._environmentNavigationService.getFreedomUISchemaUrl(t.schemaName),this.title=(n=t.title)!==null&&n!==void 0?n:"",this.isLoading=!1})}ngOnDestroy(){this._destroyed$.next(),this._destroyed$.complete()}}De.\u0275fac=function(t){return new(t||De)(e.Y36(w),e.Y36(_.gz))},De.\u0275cmp=e.Xpm({type:De,selectors:[["crt-environment-freedom-ui-wrapper"]],decls:2,vars:2,consts:[[4,"ngIf"],["class","environment-frame-div",4,"ngIf"],[1,"environment-frame-div"],[3,"src","title"]],template:function(t,n){t&1&&(e.YNc(0,An,1,0,"ts-mask",0),e.YNc(1,Tn,2,2,"div",1)),t&2&&(e.Q6J("ngIf",n.isLoading),e.xp6(1),e.Q6J("ngIf",!n.isLoading))},dependencies:[v.O5,ze.g,de],encapsulation:2});var Y;(function(o){o[o.Inactive=0]="Inactive",o[o.Active=1]="Active",o[o.Invited=2]="Invited"})(Y||(Y={}));const Ln=[{id:"id",code:"id",dataValueType:g.DataValueType.Guid,hidden:!0},{id:"fullName",code:"fullName",dataValueType:g.DataValueType.Text},{id:"email",code:"email",dataValueType:g.DataValueType.Text},{id:"status",code:"status",dataValueType:g.DataValueType.Lookup},{id:"role",code:"role",dataValueType:g.DataValueType.Text},{id:"lastActivity",code:"lastActivity",dataValueType:g.DataValueType.Text}];class U{constructor(t,n){this._httpClient=t,this._queryExecutor=n,this._userManageServiceUrl="ssp/rest/AlmUsersManageService/"}_requestUsers(t){const n=this._userManageServiceUrl+t;return this._httpClient.get(n).pipe((0,C.U)(i=>i.success?i.Users.map(r=>({id:r.Id,fullName:r.FullName,email:r.Email,lastActivity:r.LastActivity,status:r.Status,role:r.Role})):[]))}getUsers(t,n){return this._requestUsers(`GetAlmOrganizationUsers?rowsCount=${t}&rowsSkip=${n}`)}getRoles(){const t=new g.EntitySchemaQuery("SysAlmRole");return t.addSchemaColumn("Role"),t.addSchemaColumn("Name").withOrdering(g.OrderDirection.Asc,0),t.addSchemaColumn("Description"),t.addSchemaColumn("Icon"),this._queryExecutor.executeSelectQuery(t).pipe((0,C.U)(n=>n.filter(i=>i.Name!=="").map(i=>{var r;return{roleId:i.Role.value,name:i.Name,description:i.Description,iconId:(r=i.Icon)===null||r===void 0?void 0:r.value}})))}sendInvite(t,n){const i=this._userManageServiceUrl+"InviteUser";return this._httpClient.post(i,{Email:t,RoleId:n})}removeInvite(t){const n=this._userManageServiceUrl+"RemoveUserInvitation";return this._httpClient.post(n,{email:t})}getInvitedUsers(){return this._requestUsers("GetAlmInvitedUsers")}changeUserActive(t,n){const i="ssp/rest/AlmUserProfileService/ChangeUserActive";return this._httpClient.post(i,{userId:t,isActive:n}).pipe((0,C.U)(r=>r.success))}resendInvitation(t){const n=this._userManageServiceUrl+"ResendInvitation";return this._httpClient.post(n,{email:t})}}U.\u0275fac=function(t){return new(t||U)(e.LFG(H.eN),e.LFG(fe.oq))},U.\u0275prov=e.Yz7({token:U,factory:U.\u0275fac,providedIn:"root"});var Un=s(37534);const Ke=30;class ee{constructor(t,n,i,r,a,c){this._userSectionService=t,this._translate=n,this._router=i,this._activatedRoute=r,this._userInfo=a,this.rowMenuItems=c,this.users=[],this.gridData={},this.loading=!0}_getUserSectionGridColumns(){return Ln.map(t=>{const n={...t};return n.caption=this._translate.instant("OrganizationUserSection.GridColumns."+n.code),n})}_initGrid(){this.gridData.primaryColumnName="id",this.gridData.columns=this._getUserSectionGridColumns(),this.reloadGridData(),this.loading=!1}_getUserSectionGridData(t){return t.map(n=>({id:n.id,email:n.email,fullName:n.fullName,lastActivity:n.lastActivity,role:n.role,status:this._getUserStatus(n.status),isCurrentUser:n.id===this._currentUserId}))}_getUserStatus(t){return{value:t.toString(),displayValue:this._translate.instant("OrganizationUserSection.UserStatus."+Y[t])}}_loadUsers(){this._userSectionService.getUsers(Ke,this.users.length).subscribe(t=>{this.users=this.users.concat(t),this._initGrid()})}ngOnInit(){this._userInfo&&(this._currentUserId=this._userInfo.id),this._loadUsers()}onPaginationChanged(){this.users.length<Ke||(this.loading=!0,this._userSectionService.getUsers(Ke,this.users.length).subscribe(t=>{this.users=this.users.concat(t),this.reloadGridData(),this.loading=!1}))}openInvitePage(){this._router.navigate(["Invite"],{relativeTo:this._activatedRoute})}reloadGridData(){this.gridData.data=this._getUserSectionGridData(this.users)}onRowDoubleClick(t){this.openUserEdit(t.rowId)}openUserEdit(t){var n;const i=this.rowMenuItems.find(r=>r.code==="editUser");(n=i?.handler)===null||n===void 0||n.call(i,{row:{id:t}})}}ee.\u0275fac=function(t){return new(t||ee)(e.Y36(U),e.Y36(h.sK),e.Y36(_.F0),e.Y36(_.gz),e.Y36(M.aoG),e.Y36(ne.hm4))},ee.\u0275cmp=e.Xpm({type:ee,selectors:[["ts-user-section"]],features:[e._Bn([{provide:ne.ud6,useValue:{rows:{toolbar:!0}}}])],decls:6,vars:7,consts:[[1,"section-wrap"],[1,"add-user",3,"click"],[1,"users-grid"],[3,"items","columns","primaryColumnName","loading","paginationChange","rowDoubleClick"]],template:function(t,n){t&1&&(e.TgZ(0,"div",0)(1,"button",1),e.NdJ("click",function(){return n.openInvitePage()}),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",2)(5,"crt-data-grid",3),e.NdJ("paginationChange",function(){return n.onPaginationChanged()})("rowDoubleClick",function(r){return n.onRowDoubleClick(r)}),e.qZA()()()),t&2&&(e.xp6(2),e.Oqu(e.lcZ(3,5,"OrganizationUserSection.AddUser")),e.xp6(3),e.Q6J("items",n.gridData.data)("columns",n.gridData.columns)("primaryColumnName",n.gridData.primaryColumnName)("loading",n.loading))},dependencies:[Un.m,h.X$],styles:[".section-wrap[_ngcontent-%COMP%]{width:100vw;height:calc(100vh - 48px);overflow:hidden}.section-wrap[_ngcontent-%COMP%]   .users-grid[_ngcontent-%COMP%]{height:calc(100vh - 200px);margin-left:5%;padding-top:10px;border-top:1px solid rgb(200,200,200)}.section-wrap[_ngcontent-%COMP%]   .add-user[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;height:40px;margin:30px 30px 30px 5%;border-radius:20px;padding:10px 16px;border:none;text-transform:uppercase;cursor:pointer}"]});class _t{_updateGridRow(t,n){const i=t.injector.get(ee),r=i.users.find(a=>a.id===t.row.id);r&&(Object.assign(r,{status:n}),i.reloadGridData())}_showMessage(){this._snackBar.open(this._translate.instant(`OrganizationUserSection.ChangeStatusMessage.${this.code}`),"",{duration:3e3})}handler(t){const{row:{id:n,status:{value:i}}}=t;if(i===Y.Active.toString()||i===Y.Inactive.toString()){const r=i===Y.Inactive.toString();this._userService.changeUserActive(n,r).subscribe(a=>{a&&(this._updateGridRow(t,+r),this._showMessage())})}}constructor(t,n,i){this._userService=t,this._snackBar=n,this._translate=i,this.type="action"}}class ge extends _t{constructor(t,n,i){super(t,n,i),this.code="activate",this.caption="OrganizationUserSection.GridActions.Activate"}visible(t){const{row:{status:n}}=t;return n.value===Y.Inactive.toString()}}ge.\u0275fac=function(t){return new(t||ge)(e.LFG(U),e.LFG(Me.pl),e.LFG(h.sK))},ge.\u0275prov=e.Yz7({token:ge,factory:ge.\u0275fac});class ue extends _t{constructor(t,n,i){super(t,n,i),this.code="deactivate",this.caption="OrganizationUserSection.GridActions.Deactivate"}visible(t){const{row:{status:n,isCurrentUser:i}}=t;return n.value===Y.Active.toString()&&!i}}ue.\u0275fac=function(t){return new(t||ue)(e.LFG(U),e.LFG(Me.pl),e.LFG(h.sK))},ue.\u0275prov=e.Yz7({token:ue,factory:ue.\u0275fac});class he{constructor(t,n,i){this._window=t,this._router=n,this._activatedRoute=i,this.type="action",this.code="editUser",this.caption="OrganizationUserSection.GridActions.Edit"}handler(t){const{row:{id:n}}=t;this._router.navigate([`EnvironmentManagement/Users/Profile/${n}`],{relativeTo:this._activatedRoute})}}he.\u0275fac=function(t){return new(t||he)(e.LFG("window"),e.LFG(_.F0),e.LFG(_.gz))},he.\u0275prov=e.Yz7({token:he,factory:he.\u0275fac});class _e{_showMessage(){this._snackBar.open(this._translate.instant("OrganizationUserSection.InvitationSent"),"",{duration:3e3})}constructor(t,n,i,r){this._userService=t,this._snackBar=n,this._translate=i,this._dialogService=r,this.type="action",this.code="resend",this.caption="OrganizationUserSection.GridActions.Resend"}handler(t){const{row:{email:n}}=t;this._userService.resendInvitation(n).subscribe(i=>{var r;i.success?this._showMessage():this._dialogService.openInfoDialog(((r=i.errorInfo)===null||r===void 0?void 0:r.message)||"")})}visible(t){const{row:{status:n}}=t;return n.value===Y.Invited.toString()}}_e.\u0275fac=function(t){return new(t||_e)(e.LFG(U),e.LFG(Me.pl),e.LFG(h.sK),e.LFG(f.xA))},_e.\u0275prov=e.Yz7({token:_e,factory:_e.\u0275fac});class ve{_removeRow(t){const n=t.injector.get(ee),i=n.users.filter(r=>r.id!==t.row.id);i&&(n.users=i,n.reloadGridData())}constructor(t,n){this._userService=t,this._dialogService=n,this.type="action",this.code="cancel",this.caption="OrganizationUserSection.GridActions.Cancel"}handler(t){const{row:{email:n}}=t;this._userService.removeInvite(n).subscribe(i=>{var r;i.success?this._removeRow(t):this._dialogService.openInfoDialog(((r=i.errorInfo)===null||r===void 0?void 0:r.message)||"")})}visible(t){const{row:{status:n}}=t;return n.value===Y.Invited.toString()}}ve.\u0275fac=function(t){return new(t||ve)(e.LFG(U),e.LFG(f.xA))},ve.\u0275prov=e.Yz7({token:ve,factory:ve.\u0275fac});function Nn(o,t){o&1&&e._UZ(0,"ts-mask",23)}function kn(o,t){if(o&1&&e._UZ(0,"div",24),o&2){const n=t.$implicit,i=e.oxw();e.ERl("background-image","url(",i.getImage(n.iconId),")")}}function Zn(o,t){if(o&1&&(e.TgZ(0,"div",25)(1,"span",26),e._uU(2),e.qZA(),e.TgZ(3,"span",27),e._uU(4),e.qZA()()),o&2){const n=t.$implicit;e.xp6(2),e.Oqu(n.name),e.xp6(2),e.Oqu(n.description)}}const Dn=function(o){return{name:o}};function Fn(o,t){if(o&1){const n=e.EpF();e.TgZ(0,"div",32),e._UZ(1,"ts-contact-photo",33),e.TgZ(2,"a",34),e._uU(3),e.qZA(),e.TgZ(4,"span",35),e._uU(5),e.qZA(),e.TgZ(6,"div",36),e.NdJ("click",function(){const a=e.CHM(n).index,c=e.oxw(2);return e.KtG(c.removeCollaborator(a))}),e.qZA()()}if(o&2){const n=t.$implicit,i=e.oxw(2);e.xp6(1),e.Q6J("contact",e.VKq(5,Dn,n.email))("contactColor",i.contactColor),e.xp6(1),e.MGl("href","mailto:",n.email,"",e.LSH),e.xp6(1),e.Oqu(n.email),e.xp6(2),e.Oqu(n.role)}}function Rn(o,t){if(o&1&&(e.TgZ(0,"div",28)(1,"span",29),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",30),e.YNc(5,Fn,7,7,"div",31),e.qZA()()),o&2){const n=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,2,"OrganizationUserSection.InviteUsersPage.Collaborators")),e.xp6(3),e.Q6J("ngForOf",n.collaborators)}}class Fe{constructor(t,n,i,r,a,c,l,u,p){this._injector=t,this._translate=n,this._userSectionService=i,this._dialogService=r,this._snackBar=a,this._almThemeService=c,this._materialIconsRegistrator=l,this._router=u,this._crtControlStateAdapter=p,this.roles=[],this.collaborators=[],this.email="",this.role={},this.rolesControl=new m.p4("",[this._crtControlStateAdapter.transform({instance:new k.Q7G(this._injector)})]),this.emailControl=new m.p4("",[this._crtControlStateAdapter.transform({instance:new k.Q7G(this._injector)}),this._createEmailPatternValidatorFn.bind(this),this._createNotSameEmailValidatorFn()]),this.collaboratorsForm=new m.cw({emailControl:this.emailControl,rolesControl:this.rolesControl}),this.isSending=!1,this.themeName="",this.contactColor="#EA5A3E",this._destroyed=new y.x,this._emailNotConfirmedErrorCode="EmailNotConfirmed";const P=[{name:"back-arrow-icon",icon:s(83346)}];this._materialIconsRegistrator.addIcons(P)}_getTheme(){return this._almThemeService.getCurrentThemeName()}_getTranslate(t){return this._translate.instant("OrganizationUserSection.InviteUsersPage."+t)}_loadRoles(){this._userSectionService.getRoles().subscribe(t=>{this.rolesList=t.map(n=>({value:n.roleId,displayValue:n.name})),this.roles=t})}_loadInvitedUsers(){this._userSectionService.getInvitedUsers().subscribe(t=>{this.collaborators=t})}_checkExists(t){return this.collaborators.some(n=>n.email===t)}_showMessage(t){this._snackBar.open(t,"",{duration:1e4})}_showMessageWithButton(t){this._snackBar.open(t,this._getTranslate("GoToProfile"),{duration:1e4,panelClass:"snackbar-with-button"}).onAction().subscribe(()=>{this._router.navigate(["EnvironmentManagement/Users/Profile"])})}_clearControls(){this.emailControl.reset(),this.rolesControl.reset(),this.rolesControl.setErrors(null)}_createNotSameEmailValidatorFn(){return t=>this._checkExists(t.value)?this._createValidatorErrorsMessage("NotSameEmail","UserProfile.ExistsEmailError"):null}_createEmailPatternValidatorFn(t){return m.kI.pattern(Z.EMAIL_PATTERN)(t)!==null?this._createValidatorErrorsMessage("InvalidEmail","Validators.Email.Message"):null}_createValidatorErrorsMessage(t,n){return{[t]:{message:this._translate.instant(`${n}`)}}}ngOnInit(){this._getTheme().pipe((0,d.R)(this._destroyed)).subscribe(t=>this.themeName=t),this._loadRoles(),this._loadInvitedUsers()}removeCollaborator(t){const n=this.collaborators.splice(t,1)[0];this._userSectionService.removeInvite(n.email).subscribe(i=>{var r;i.success?this.collaborators=[...this.collaborators]:this._dialogService.openInfoDialog(((r=i.errorInfo)===null||r===void 0?void 0:r.message)||"")})}sendInvite(){this.email=this.emailControl.value,this.role=this.rolesControl.value,!this.collaboratorsForm.invalid&&(this.isSending=!0,this._userSectionService.sendInvite(this.email,this.role.value).subscribe(t=>{var n,i,r;if(this.isSending=!1,t.success){this._showMessage(this._getTranslate("InviteSuccess"));const a={email:this.email,role:this.role.displayValue};this.collaborators.unshift(a),this.collaborators=[...this.collaborators],this._clearControls()}else((n=t.errorInfo)===null||n===void 0?void 0:n.errorCode)===this._emailNotConfirmedErrorCode?this._showMessageWithButton((i=t.errorInfo)===null||i===void 0?void 0:i.message):this._showMessage(((r=t.errorInfo)===null||r===void 0?void 0:r.message)||"")}))}onRoleChoosen(t){this.role=t.value,this.rolesControl.setValue(this.role)}getImage(t){return t?(0,M.XpF)(t):""}navigateToUsers(){this._router.navigate(["EnvironmentManagement/Users"])}onRoleLostFocus(){this.rolesControl.setValidators([this._crtControlStateAdapter.transform({instance:new k.Q7G(this._injector)})]),this.rolesControl.updateValueAndValidity()}}Fe.\u0275fac=function(t){return new(t||Fe)(e.Y36(e.zs3),e.Y36(h.sK),e.Y36(U),e.Y36(f.xA),e.Y36(Me.pl),e.Y36(T.k),e.Y36(f.ZH),e.Y36(_.F0),e.Y36(k.S6F))},Fe.\u0275cmp=e.Xpm({type:Fe,selectors:[["ts-user-invite-page"]],decls:30,vars:26,consts:[["class","component-mask",4,"ngIf"],[1,"invitation-page-wrap",3,"ngClass"],[1,"top"],["data-qa","back-button",1,"button-back",3,"click"],["svgIcon","back-arrow-icon",1,"back-arrow-icon"],[1,"title"],[1,"roles-wrapper"],[1,"roles-list"],["class","role",3,"backgroundImage",4,"ngFor","ngForOf"],[1,"role-line"],[1,"line"],["class","role-item",4,"ngFor","ngForOf"],[1,"triangle"],[1,"circle"],[1,"bottom"],[1,"invite-wrapper"],[1,"form-container",3,"formGroup"],[1,"email-control"],["data-qa","input-invitation-email","labelPosition","above",3,"control","label","appearance"],[1,"role-control"],["labelPosition","above","data-qa","input-invitation-role",3,"control","items","label","appearance","focusout"],[1,"send",3,"disabled","clicked"],["class","collaborators-wrapper",4,"ngIf"],[1,"component-mask"],[1,"role"],[1,"role-item"],[1,"caption"],[1,"description"],[1,"collaborators-wrapper"],[1,"collaborators-title"],[1,"collaborators-list-wrapper"],["class","collaborators-list",4,"ngFor","ngForOf"],[1,"collaborators-list"],[3,"contact","contactColor"],[1,"email",3,"href"],[1,"collaborator-role"],[1,"remove-collaborator",3,"click"]],template:function(t,n){t&1&&(e.YNc(0,Nn,1,0,"ts-mask",0),e.TgZ(1,"div",1)(2,"div",2)(3,"a",3),e.NdJ("click",function(){return n.navigateToUsers()}),e._UZ(4,"mat-icon",4),e.qZA(),e.TgZ(5,"span",5),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"div",6)(9,"div",7),e.YNc(10,kn,1,3,"div",8),e.qZA(),e.TgZ(11,"div",9),e._UZ(12,"div",10),e.YNc(13,Zn,5,2,"div",11),e.qZA()(),e._UZ(14,"div",12)(15,"div",13),e.qZA(),e.TgZ(16,"div",14)(17,"div",15)(18,"ng-form",16)(19,"div",17),e._UZ(20,"crt-input",18),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"div",19)(23,"crt-combobox",20),e.NdJ("focusout",function(){return n.onRoleLostFocus()}),e.ALo(24,"translate"),e.qZA()()(),e.TgZ(25,"crt-button",21),e.NdJ("clicked",function(){return n.sendInvite()}),e._uU(26),e.ALo(27,"uppercase"),e.ALo(28,"translate"),e.qZA()(),e.YNc(29,Rn,6,4,"div",22),e.qZA()()),t&2&&(e.Q6J("ngIf",n.isSending),e.xp6(1),e.Q6J("ngClass",n.themeName),e.xp6(5),e.Oqu(e.lcZ(7,16,"OrganizationUserSection.InviteUsersPage.NewUser")),e.xp6(4),e.Q6J("ngForOf",n.roles),e.xp6(3),e.Q6J("ngForOf",n.roles),e.xp6(5),e.Q6J("formGroup",n.collaboratorsForm),e.xp6(2),e.Q6J("control",n.emailControl)("label",e.lcZ(21,18,"OrganizationUserSection.InviteUsersPage.Email"))("appearance","outline"),e.xp6(3),e.Q6J("control",n.rolesControl)("items",n.rolesList)("label",e.lcZ(24,20,"OrganizationUserSection.InviteUsersPage.Role"))("appearance","outline"),e.xp6(2),e.Q6J("disabled",n.isSending||n.collaboratorsForm.invalid||!n.rolesControl.value),e.xp6(1),e.hij(" ",e.lcZ(27,22,e.lcZ(28,24,"OrganizationUserSection.InviteUsersPage.SendInvite"))," "),e.xp6(3),e.Q6J("ngIf",n.collaborators&&n.collaborators.length>0))},dependencies:[v.mk,v.sg,v.O5,ut.w,Ye.i,We.m5,$e.B,m.JL,m.F,z.Hw,ze.g,m.sg,v.gd,h.X$],styles:[".invitation-page-wrap[_ngcontent-%COMP%]{height:calc(100vh - 48px);overflow-y:scroll}[_nghost-%COMP%]   ts-environment-toolbar[_ngcontent-%COMP%]{position:sticky}[_ngcontent-%COMP%]::-webkit-scrollbar{display:none;width:0}  .role-control .crt-input-control-container.mat-form-field .mat-icon:not(:first-of-type){margin-block-start:0}  .snackbar-with-button{max-width:450px!important}  .snackbar-with-button .mat-simple-snackbar{display:block}  .snackbar-with-button .mat-simple-snackbar-action{display:block;float:right;position:relative;margin:0 -10px -10px 0}  .snackbar-with-button .mat-button:hover{border-radius:20px}.top[_ngcontent-%COMP%]{height:365px}.top[_ngcontent-%COMP%]   .button-back[_ngcontent-%COMP%]{position:fixed;z-index:2}.top[_ngcontent-%COMP%]   .button-back[_ngcontent-%COMP%]   .back-arrow-icon[_ngcontent-%COMP%]{margin-left:16px;margin-top:24px;position:absolute;cursor:pointer}.top[_ngcontent-%COMP%]   .back[_ngcontent-%COMP%]{margin:50px;position:absolute}.top[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{text-align:center;letter-spacing:1.17px;text-transform:uppercase;display:block;padding:39px 0 19px;height:32px}.top[_ngcontent-%COMP%]   .roles-wrapper[_ngcontent-%COMP%]{z-index:1;position:relative}.top[_ngcontent-%COMP%]   .roles-wrapper[_ngcontent-%COMP%]   .roles-list[_ngcontent-%COMP%]{display:flex;justify-content:center;margin:-55px auto 0}.top[_ngcontent-%COMP%]   .roles-wrapper[_ngcontent-%COMP%]   .roles-list[_ngcontent-%COMP%]   .role[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:330px;width:350px;background-size:contain;background-repeat:no-repeat;background-position-y:bottom;background-position-x:center}.top[_ngcontent-%COMP%]   .roles-wrapper[_ngcontent-%COMP%]   .role-line[_ngcontent-%COMP%]{position:absolute;bottom:0;display:flex;justify-content:center;width:100%;align-items:center}.top[_ngcontent-%COMP%]   .roles-wrapper[_ngcontent-%COMP%]   .role-line[_ngcontent-%COMP%]   .role-item[_ngcontent-%COMP%]{width:350px;padding:16px 50px;z-index:100}.top[_ngcontent-%COMP%]   .roles-wrapper[_ngcontent-%COMP%]   .role-line[_ngcontent-%COMP%]   .role-item[_ngcontent-%COMP%]   .caption[_ngcontent-%COMP%]{letter-spacing:.81px;text-shadow:0px 3px 6px rgba(0,0,0,.1607843137);text-transform:uppercase;top:70%;display:block}.top[_ngcontent-%COMP%]   .roles-wrapper[_ngcontent-%COMP%]   .role-line[_ngcontent-%COMP%]   .role-item[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{text-align:left;letter-spacing:0px;top:72%;z-index:3;display:block}.top[_ngcontent-%COMP%]   .roles-wrapper[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{width:calc(60% + 350px);background-color:var(--palette-warn-900);height:100%;position:absolute;opacity:.6;left:0;border-top-right-radius:50px}.top[_ngcontent-%COMP%]   .triangle[_ngcontent-%COMP%]{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMTEuOTUyIiBoZWlnaHQ9IjI0MS43ODMiIHZpZXdCb3g9IjAgMCAyMTEuOTUyIDI0MS43ODMiPgogIDxnIGlkPSJQb2x5Z29uXzM2MCIgZGF0YS1uYW1lPSJQb2x5Z29uIDM2MCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjExLjk1Mikgcm90YXRlKDkwKSIgZmlsbD0ibm9uZSIgb3BhY2l0eT0iMC4xNSI+CiAgICA8cGF0aCBkPSJNMTIwLjg5MSwwLDI0MS43ODMsMjExLjk1MkgwWiIgc3Ryb2tlPSJub25lIi8+CiAgICA8cGF0aCBkPSJNIDEyMC44OTEzNjUwNTEyNjk1IDgyLjc1MzY5MjYyNjk1MzEyIEwgNzAuNTg1NTQwNzcxNDg0MzggMTcwLjk1MjExNzkxOTkyMTkgTCAxNzEuMTk3MTg5MzMxMDU0NyAxNzAuOTUyMTE3OTE5OTIxOSBMIDEyMC44OTEzNjUwNTEyNjk1IDgyLjc1MzY5MjYyNjk1MzEyIE0gMTIwLjg5MTM2NTA1MTI2OTUgLTMuMDUxNzU3ODEyNWUtMDUgTCAyNDEuNzgyNzE0ODQzNzUgMjExLjk1MjExNzkxOTkyMTkgTCAxLjUyNTg3ODkwNjI1ZS0wNSAyMTEuOTUyMTE3OTE5OTIxOSBMIDEyMC44OTEzNjUwNTEyNjk1IC0zLjA1MTc1NzgxMjVlLTA1IFoiIHN0cm9rZT0ibm9uZSIgZmlsbD0iI2ZmZiIvPgogIDwvZz4KPC9zdmc+Cg);position:fixed;top:160px;left:15%;width:212px;height:242px}.top[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI4NTUiIGhlaWdodD0iODU1IiB2aWV3Qm94PSIwIDAgODU1IDg1NSI+CiAgPGcgaWQ9IkVsbGlwc2VfMjc1MSIgZGF0YS1uYW1lPSJFbGxpcHNlIDI3NTEiIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2ZmZiIgc3Ryb2tlLXdpZHRoPSIxMzQiIG9wYWNpdHk9IjAuMTUiPgogICAgPGNpcmNsZSBjeD0iNDI3LjUiIGN5PSI0MjcuNSIgcj0iNDI3LjUiIHN0cm9rZT0ibm9uZSIvPgogICAgPGNpcmNsZSBjeD0iNDI3LjUiIGN5PSI0MjcuNSIgcj0iMzYwLjUiIGZpbGw9Im5vbmUiLz4KICA8L2c+Cjwvc3ZnPgo);position:fixed;top:31px;left:45%;width:855px;height:400px}.bottom[_ngcontent-%COMP%]{border-radius:0 57px 0 0;min-height:calc(100vh - 413px)}.invite-wrapper[_ngcontent-%COMP%]{width:550px;margin:0 auto;justify-content:space-between;padding-top:25px}.invite-wrapper[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.invite-wrapper[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .email-control[_ngcontent-%COMP%], .invite-wrapper[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .role-control[_ngcontent-%COMP%]{width:259px}.invite-wrapper[_ngcontent-%COMP%]   .send[_ngcontent-%COMP%]{height:50px;border:none;border-radius:3px;cursor:pointer;text-align:center;letter-spacing:0px;text-transform:uppercase;margin-top:24px}.invite-wrapper[_ngcontent-%COMP%]   .send[_ngcontent-%COMP%]     .crt-button{width:550px;height:50px}.invite-wrapper[_ngcontent-%COMP%]   .send[_ngcontent-%COMP%]     .crt-button:disabled{cursor:auto}.invite-wrapper[_ngcontent-%COMP%]   .send[_ngcontent-%COMP%]     .mat-button-wrapper{justify-content:center}.collaborators-wrapper[_ngcontent-%COMP%]{width:550px;margin:0 auto}.collaborators-wrapper[_ngcontent-%COMP%]   .collaborators-title[_ngcontent-%COMP%]{display:block;padding:50px 0 30px;text-align:center;letter-spacing:1.46px;text-transform:uppercase;opacity:1;color:#004fd6}.collaborators-wrapper[_ngcontent-%COMP%]   .collaborators-list[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;padding-bottom:16px}.collaborators-wrapper[_ngcontent-%COMP%]   .collaborators-list[_ngcontent-%COMP%]   ts-contact-photo[_ngcontent-%COMP%]{padding-right:16px}.collaborators-wrapper[_ngcontent-%COMP%]   .collaborators-list[_ngcontent-%COMP%]   .email[_ngcontent-%COMP%]{color:#004fd6;width:280px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;margin-top:auto;margin-bottom:auto}.collaborators-wrapper[_ngcontent-%COMP%]   .collaborators-list[_ngcontent-%COMP%]   .collaborator-role[_ngcontent-%COMP%]{width:170px;overflow:hidden;margin-top:auto;margin-bottom:auto}.collaborators-wrapper[_ngcontent-%COMP%]   .collaborators-list[_ngcontent-%COMP%]   .remove-collaborator[_ngcontent-%COMP%]{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMi42MjciIGhlaWdodD0iMjIuNjI3IiB2aWV3Qm94PSIwIDAgMjIuNjI3IDIyLjYyNyI+CiAgPGcgaWQ9IkNvbXBvbmVudF8xMTg5XzYiIGRhdGEtbmFtZT0iQ29tcG9uZW50IDExODkg4oCTIDYiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDExLjMxNCkgcm90YXRlKDQ1KSI+CiAgICA8ZyBpZD0iR3JvdXBfMjAzMyIgZGF0YS1uYW1lPSJHcm91cCAyMDMzIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxIDEpIj4KICAgICAgPGxpbmUgaWQ9IkxpbmVfMzgiIGRhdGEtbmFtZT0iTGluZSAzOCIgeTI9IjEyIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg3IDEpIiBmaWxsPSJub25lIiBzdHJva2U9IiMwZDJlNGUiIHN0cm9rZS13aWR0aD0iMSIvPgogICAgICA8bGluZSBpZD0iTGluZV8zOSIgZGF0YS1uYW1lPSJMaW5lIDM5IiB5Mj0iMTIiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEzIDcpIHJvdGF0ZSg5MCkiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzBkMmU0ZSIgc3Ryb2tlLXdpZHRoPSIxIi8+CiAgICA8L2c+CiAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlXzIzMzk0IiBkYXRhLW5hbWU9IlJlY3RhbmdsZSAyMzM5NCIgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2IiBmaWxsPSJub25lIi8+CiAgPC9nPgo8L3N2Zz4K);height:23px;width:23px;cursor:pointer;margin-top:auto;margin-bottom:auto;z-index:10000}  .collaborators-list .contact-photo.no-photo{line-height:32px!important}"]});const Yn=(o,t,n)=>o.getCurrentThemeName().pipe((0,b.w)(i=>n.open(Ve.Wn,{panelClass:[i],data:{message:t.instant("Subscriptions.NoPermissionMessage")}}))),zn=[{path:"CreateTrial",redirectTo:"Pages/CreateTrial"},{path:"DeployApp/:environmentEventId",component:Se},{path:"RestoreFromBackup/:environmentEventId",component:ye},{path:"",component:we,children:[{path:"",pathMatch:"full",component:X},{path:"environmentUrl/:environmentUrl",pathMatch:"full",component:X},{path:"Users",component:ee},{path:"Users/Invite",component:Fe},{path:"Users/Profile",pathMatch:"full",component:me},{path:"Users/Profile/:userId",component:me},{path:"Subscriptions",component:De,data:{schemaName:"CustomerSubscription",title:"Subscriptions"},canActivate:[()=>{const o=(0,e.f3M)(R),t=(0,e.f3M)(_.F0),n=(0,e.f3M)(M.Sfm),i=(0,e.f3M)(f.xA),r=(0,e.f3M)(h.sK),a=(0,e.f3M)(T.k);return n.CanShowSubscriptions?o.getUserPermissions().pipe((0,b.w)(({canManageSubscriptions:c})=>c?(0,L.of)(!0):Yn(a,r,i).pipe((0,b.w)((0,ce.Z)(function*(){return yield t.navigate(["EnvironmentManagement"]),!1}))))):(0,L.of)(!1)}]},{path:":environmentSiteName",component:X}]},{path:"Pages",component:N.mtm,children:[{path:"CreateTrial",component:Te,pathMatch:"prefix"},{path:"ChangeEmail",component:Ze}]}];class te{constructor(t){this.router=t,this._subscribeRouterHistory(t)}_subscribeRouterHistory(t){t.events.subscribe(n=>{n instanceof _.OD&&this._savePreviousUrl(this.router.url)})}_savePreviousUrl(t){sessionStorage.setItem("environment_previousUrl",t)}}te.\u0275fac=function(t){return new(t||te)(e.LFG(_.F0))},te.\u0275mod=e.oAB({type:te}),te.\u0275inj=e.cJS({imports:[_.Bz.forChild(zn),_.Bz]}),function(){(typeof ngJitMode>"u"||ngJitMode)&&e.kYT(te,{imports:[_.Bz],exports:[_.Bz]})}();var Gn=s(3885),qe;let B=qe=class{constructor(t){this._injector=t,(0,g.bootstrapCrtModule)(qe,{moduleType:"host",resolveDependency:n=>this._injector.get(n)})}};B.\u0275fac=function(t){return new(t||B)(e.LFG(e.zs3))},B.\u0275mod=e.oAB({type:B}),B.\u0275inj=e.cJS({providers:[ge,T.k,oe,ve,ue,pe,he,j,F,$,se,E,M.jUE,_e,R,U,N.c64,N.i3c,{provide:"window",useValue:window},{provide:fe.oq,useFactory:(o,t)=>new fe.JQ(o,t,"DataService/ssp/json/SyncReply"),deps:[H.eN,M.DrN]},{provide:pt,useValue:2e4},N.Pnv],imports:[I.w7,Q.P0,N.TUJ,v.ez,f.v3,ne.MV_,ne.kB8.withItems({menuItemToken:ne.hm4,menuItems:[ue,ge,ve,he,_e]}),Z.CrtLibTranslateModule.forRoot({i18n:Mt}),N.s41,te,m.u5,Qe.yu,z.Ps,f._M,it.D8,ot.wp,rt.x4,at.uw,m.UX,f.sm,f.gq]}),B=qe=(0,nt.gn)([(0,g.CrtModule)({includes:[ne.MV_]}),(0,nt.w6)("design:paramtypes",[e.zs3])],B),function(){(typeof ngJitMode>"u"||ngJitMode)&&e.kYT(B,{declarations:[Ce,Se,ye,Ze,Oe,Ee,we,xe,Ue,X,Fe,ee,ke,me,Te,Ae,Le,de,De],imports:[I.w7,Q.P0,N.TUJ,v.ez,f.v3,ne.MV_,Gn.k,Z.CrtLibTranslateModule,N.s41,te,m.u5,Qe.yu,z.Ps,f._M,it.D8,ot.wp,rt.x4,at.uw,m.UX,f.sm,f.gq]})}()},89855:S=>{S.exports=`<svg xmlns="http://www.w3.org/2000/svg" width="72.036" height="83.02" viewBox="0 0 72.036 83.02">
	<g id="Group_8200" data-name="Group 8200" transform="translate(-1992.812 -930.059)">
		<path id="Path_7445" data-name="Path 7445" d="M2408.239,231.122a35.048,35.048,0,0,0-7.811,1.041c-.454-4.964-2.566-7.144-4.557-9.139,13.972-1.372,21.917-9.327,22.723-20.577a25.923,25.923,0,0,0-6.559-18.654s3.287-8.5,0-13.992c-6.849-.274-13.972,6.037-13.972,6.037s-3.562-1.921-13.152-1.921-11.5,1.921-11.5,1.921a21.67,21.67,0,0,0-14.794-6.037,16.66,16.66,0,0,0,.547,14.267s-8.492,8.778-5.655,20.613c3.656,15.244,23.188,18.344,23.188,18.344-4.183,3.142-5.9,10.4-5.222,15.24,0,0-2.975,1.056-2.878,2.883.156,2.9,3.453,3.116,5.839,3.124a4.166,4.166,0,0,0-.083.737c0,2.642.593,4.785,5.344,4.785,5.1,0,5.411-2.143,5.345-4.785,0-.026-.01-.05-.012-.076.4.015.828.041,1.189.041.158,0,.313,0,.471,0,0,.029-.01.055-.01.083,0,2.618.593,4.74,5.344,4.74,5.1,0,5.41-2.123,5.344-4.74a4.021,4.021,0,0,0-.2-1.089c2.572.414,5.885.181,5.962-2.817.039-1.455-1.909-2.278-2.679-2.752a24.423,24.423,0,0,1,8.322-.527c5.1.669,11.6,6.792,13.039.625C2422.869,233.947,2416.439,231.052,2408.239,231.122Z" transform="translate(-358.599 761.787)" fill="rgba(100,184,223,0.1)" stroke="#fff" stroke-linecap="round" stroke-width="3"/>
</g>
</svg>
`},1981:S=>{S.exports=`<svg xmlns="http://www.w3.org/2000/svg" width="72.036" height="83.02" viewBox="0 0 72.036 83.02">
  <g id="Group_8200" data-name="Group 8200" transform="translate(-1992.812 -930.059)">
    <path id="Path_7445" data-name="Path 7445" d="M2408.239,231.122a35.048,35.048,0,0,0-7.811,1.041c-.454-4.964-2.566-7.144-4.557-9.139,13.972-1.372,21.917-9.327,22.723-20.577a25.923,25.923,0,0,0-6.559-18.654s3.287-8.5,0-13.992c-6.849-.274-13.972,6.037-13.972,6.037s-3.562-1.921-13.152-1.921-11.5,1.921-11.5,1.921a21.67,21.67,0,0,0-14.794-6.037,16.66,16.66,0,0,0,.547,14.267s-8.492,8.778-5.655,20.613c3.656,15.244,23.188,18.344,23.188,18.344-4.183,3.142-5.9,10.4-5.222,15.24,0,0-2.975,1.056-2.878,2.883.156,2.9,3.453,3.116,5.839,3.124a4.166,4.166,0,0,0-.083.737c0,2.642.593,4.785,5.344,4.785,5.1,0,5.411-2.143,5.345-4.785,0-.026-.01-.05-.012-.076.4.015.828.041,1.189.041.158,0,.313,0,.471,0,0,.029-.01.055-.01.083,0,2.618.593,4.74,5.344,4.74,5.1,0,5.41-2.123,5.344-4.74a4.021,4.021,0,0,0-.2-1.089c2.572.414,5.885.181,5.962-2.817.039-1.455-1.909-2.278-2.679-2.752a24.423,24.423,0,0,1,8.322-.527c5.1.669,11.6,6.792,13.039.625C2422.869,233.947,2416.439,231.052,2408.239,231.122Z" transform="translate(-358.599 761.787)" fill="rgba(100,184,223,0.1)" stroke="#fff" stroke-linecap="round" stroke-width="3"/>
    <path id="Path_7446" data-name="Path 7446" d="M2369.7,205.759a26.906,26.906,0,0,0-6.538,3.168,1.249,1.249,0,0,0,.744,2.255,1.239,1.239,0,0,0,.74-.244,24.846,24.846,0,0,1,5.7-2.764,1.249,1.249,0,1,0-.641-2.415Z" transform="translate(-357.929 764.315)" fill="#fff"/>
    <path id="Path_7447" data-name="Path 7447" d="M2373.026,198.3a1.25,1.25,0,0,0-1.25,1.25V201.6a1.25,1.25,0,0,0,2.5,0V199.55A1.25,1.25,0,0,0,2373.026,198.3Z" transform="translate(-357.305 763.792)" fill="#fff"/>
    <path id="Path_7448" data-name="Path 7448" d="M2380.736,203.985a1.25,1.25,0,0,0,1.763-.122,3.071,3.071,0,0,1,4.633,0,1.249,1.249,0,1,0,1.884-1.642,5.568,5.568,0,0,0-8.4,0A1.251,1.251,0,0,0,2380.736,203.985Z" transform="translate(-356.714 763.932)" fill="#fff"/>
    <path id="Path_7449" data-name="Path 7449" d="M2368.795,204.152a1.25,1.25,0,1,0,.327-2.478,26.863,26.863,0,0,0-7.252.438,1.25,1.25,0,1,0,.606,2.425A24.845,24.845,0,0,1,2368.795,204.152Z" transform="translate(-358.065 764.02)" fill="#fff"/>
    <path id="Path_7450" data-name="Path 7450" d="M2400.852,204.152a24.853,24.853,0,0,1,6.32.385,1.237,1.237,0,0,0,.3.037,1.25,1.25,0,0,0,.3-2.462,26.827,26.827,0,0,0-7.252-.438,1.25,1.25,0,0,0,.326,2.478Z" transform="translate(-355.376 764.02)" fill="#fff"/>
    <path id="Path_7451" data-name="Path 7451" d="M2399.262,208.174a24.832,24.832,0,0,1,5.7,2.764,1.25,1.25,0,0,0,1.484-2.011,26.83,26.83,0,0,0-6.539-3.168,1.25,1.25,0,0,0-.642,2.415Z" transform="translate(-355.473 764.315)" fill="#fff"/>
    <path id="Path_7452" data-name="Path 7452" d="M2396.2,202.851a1.249,1.249,0,0,0,1.249-1.249V199.55a1.25,1.25,0,1,0-2.5,0V201.6A1.25,1.25,0,0,0,2396.2,202.851Z" transform="translate(-355.714 763.792)" fill="#fff"/>
  </g>
</svg>
`},12506:S=>{S.exports=`<svg id="Component_5465_1" data-name="Component 5465 \u2013 1" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">
  <g id="Ellipse_2056" data-name="Ellipse 2056" transform="translate(4 4)" fill="#0b8500" stroke="#fff" stroke-width="2">
    <circle cx="4" cy="4" r="4" stroke="none"/>
    <circle cx="4" cy="4" r="5" fill="none"/>
  </g>
  <g id="Component_88_140" data-name="Component 88 \u2013 140">
    <rect id="Rectangle_6418" data-name="Rectangle 6418" width="16" height="16" fill="none"/>
  </g>
</svg>
`},2889:S=>{S.exports=`<svg id="Component_5465_2" data-name="Component 5465 \u2013 2" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">
  <g id="Ellipse_2056" data-name="Ellipse 2056" transform="translate(4 4)" fill="red" stroke="#fff" stroke-width="2">
    <circle cx="4" cy="4" r="4" stroke="none"/>
    <circle cx="4" cy="4" r="5" fill="none"/>
  </g>
  <g id="Component_88_140" data-name="Component 88 \u2013 140">
    <rect id="Rectangle_6418" data-name="Rectangle 6418" width="16" height="16" fill="none"/>
  </g>
</svg>
`},16166:S=>{S.exports=`<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="180.772" height="188" viewBox="0 0 180.772 188">
  <defs>
    <linearGradient id="linear-gradient" x1="0.042" y1="0.076" x2="1" y2="0.077" gradientUnits="objectBoundingBox">
      <stop offset="0" stop-color="#eb5c3d"/>
      <stop offset="0.502" stop-color="#d13224"/>
      <stop offset="1" stop-color="#eb5c3d"/>
    </linearGradient>
  </defs>
  <g id="Path_7382" data-name="Path 7382" transform="translate(-797.227 -133.09)" fill="url(#linear-gradient)">
    <path d="M 797.9991455078125 320.0899963378906 L 797.6129760742188 318.1675720214844 C 806.3582763671875 314.506103515625 812.9765014648438 305.6145324707031 816.9884643554688 298.8002014160156 C 820.7371215820312 292.4331665039062 822.9730834960938 286.6671752929688 823.6286010742188 284.8798828125 C 819.9080810546875 280.986083984375 816.5262451171875 276.740966796875 813.5698852539062 272.2529602050781 C 810.4674072265625 267.5431823730469 807.8041381835938 262.5207214355469 805.6539306640625 257.3250732421875 C 801.1802978515625 246.5150146484375 798.9119873046875 235.0531158447266 798.9119873046875 223.2577514648438 C 798.9119873046875 217.2084045410156 799.5205688476562 211.16259765625 800.7208862304688 205.2882843017578 C 801.8907470703125 199.5626831054688 803.6364135742188 193.9308471679688 805.9093627929688 188.5492095947266 C 808.1409912109375 183.2654266357422 810.903076171875 178.1693115234375 814.1189575195312 173.4024200439453 C 817.3040771484375 168.6810455322266 820.9619750976562 164.2413330078125 824.9910888671875 160.2065734863281 C 829.0202026367188 156.1717987060547 833.4537353515625 152.5086822509766 838.1685791015625 149.3190002441406 C 842.9288940429688 146.0985412597656 848.0180053710938 143.3324432373047 853.2946166992188 141.0976104736328 C 858.6690063476562 138.8213500976562 864.2932739257812 137.0731353759766 870.0111694335938 135.9015197753906 C 875.8776245117188 134.6994781494141 881.9154052734375 134.0899658203125 887.956787109375 134.0899658203125 C 893.9976806640625 134.0899658203125 900.0350341796875 134.6994781494141 905.9011840820312 135.9015197753906 C 911.6187744140625 137.0731353759766 917.2427368164062 138.8213500976562 922.6168823242188 141.0976104736328 C 927.893310546875 143.3324737548828 932.9822998046875 146.0985412597656 937.7424926757812 149.3190155029297 C 942.4572143554688 152.5087127685547 946.8907470703125 156.1717987060547 950.9197998046875 160.2065887451172 C 954.9488525390625 164.2413330078125 958.6067504882812 168.6810607910156 961.7919311523438 173.4024200439453 C 965.0078125 178.1693267822266 967.7698974609375 183.2654266357422 970.0015258789062 188.5492095947266 C 972.2745361328125 193.9308776855469 974.020263671875 199.5627136230469 975.190185546875 205.2882537841797 C 976.3905029296875 211.1626129150391 976.9991455078125 217.2084197998047 976.9991455078125 223.2577514648438 C 976.9991455078125 229.3067779541016 976.3905029296875 235.3523254394531 975.190185546875 241.2264556884766 C 974.020263671875 246.9518127441406 972.2745361328125 252.5834655761719 970.0015258789062 257.9650268554688 C 967.7698974609375 263.2486572265625 965.0078125 268.3446960449219 961.7919311523438 273.1115112304688 C 958.6067504882812 277.8328552246094 954.9488525390625 282.2725524902344 950.9197998046875 286.3073120117188 C 946.8907470703125 290.3421020507812 942.4572143554688 294.0052185058594 937.7424926757812 297.1949157714844 C 932.9822387695312 300.4154357910156 927.893310546875 303.1815490722656 922.6168823242188 305.4164123535156 C 917.2427368164062 307.6927490234375 911.6187133789062 309.4410095214844 905.9011840820312 310.6126403808594 C 900.0349731445312 311.8147277832031 893.9976196289062 312.4242553710938 887.956787109375 312.4242553710938 C 877.5875854492188 312.4242553710938 867.4331665039062 310.6547241210938 857.7656860351562 307.1640930175781 C 857.1896362304688 307.6318969726562 856.5857543945312 308.0545959472656 855.9329223632812 308.4474792480469 C 851.1943359375 311.2943725585938 846.6477661132812 313.4959106445312 842.0326538085938 315.17822265625 C 837.7344970703125 316.7450561523438 833.3208618164062 317.8774108886719 828.5394897460938 318.6401062011719 C 819.4496459960938 320.0899963378906 809.9835815429688 320.0899963378906 797.9991455078125 320.0899963378906 Z" stroke="none"/>
    <path d="M 887.956787109375 135.0899658203125 C 839.3282470703125 135.0899658203125 799.9119873046875 174.5626220703125 799.9119873046875 223.2577514648438 C 799.9119873046875 247.1234588623047 809.3989868164062 268.7600708007812 824.7787475585938 284.6330261230469 C 824.619384765625 285.1029663085938 815.3885498046875 311.8094482421875 797.9991455078125 319.0899658203125 C 821.6027221679688 319.0899658203125 836.277099609375 319.0899658203125 855.4172973632812 307.5906372070312 C 856.2860717773438 307.0678100585938 856.9689331054688 306.5475463867188 857.56396484375 306.0260314941406 C 867.0364990234375 309.5167236328125 877.2741088867188 311.4242553710938 887.956787109375 311.4242553710938 C 936.5813598632812 311.4242553710938 975.9991455078125 271.9502563476562 975.9991455078125 223.2577514648438 C 975.9991455078125 174.5626220703125 936.5813598632812 135.0899658203125 887.956787109375 135.0899658203125 M 887.956787109375 133.0899658203125 C 894.06494140625 133.0899658203125 900.1698608398438 133.706298828125 906.1019287109375 134.9218444824219 C 911.8842163085938 136.1067504882812 917.5718994140625 137.874755859375 923.0069580078125 140.1768188476562 C 928.3428344726562 142.4368591308594 933.4891357421875 145.2340698242188 938.3028564453125 148.4907531738281 C 943.0703125 151.7160949707031 947.5533447265625 155.420166015625 951.6273803710938 159.4999694824219 C 955.701416015625 163.5797424316406 959.400146484375 168.0690612792969 962.6209106445312 172.8431701660156 C 965.8728637695312 177.6635437011719 968.666015625 182.8169250488281 970.9227905273438 188.1601257324219 C 973.221435546875 193.6025390625 974.98681640625 199.2979125976562 976.169921875 205.0880737304688 C 977.3837280273438 211.0281524658203 977.9991455078125 217.1413116455078 977.9991455078125 223.2577514648438 C 977.9991455078125 229.3738861083984 977.3837280273438 235.4867858886719 976.169921875 241.4266510009766 C 974.98681640625 247.2165985107422 973.221435546875 252.9118041992188 970.9227905273438 258.3540649414062 C 968.666015625 263.6971740722656 965.8728637695312 268.8504638671875 962.6209106445312 273.6707763671875 C 959.400146484375 278.4448547363281 955.701416015625 282.9341430664062 951.6273803710938 287.013916015625 C 947.5533447265625 291.09375 943.0703125 294.7977905273438 938.3028564453125 298.023193359375 C 933.4891357421875 301.2799072265625 928.3428344726562 304.0771484375 923.0069580078125 306.3372192382812 C 917.5718994140625 308.6393432617188 911.8842163085938 310.4073791503906 906.1019287109375 311.59228515625 C 900.1698608398438 312.8079223632812 894.06494140625 313.4242553710938 887.956787109375 313.4242553710938 C 877.6578369140625 313.4242553710938 867.5682983398438 311.6978759765625 857.9484252929688 308.2914123535156 C 857.4717407226562 308.6521911621094 856.9750366210938 308.9874267578125 856.4486083984375 309.3042602539062 C 851.6539916992188 312.184814453125 847.0509643554688 314.4132995605469 842.3751220703125 316.1177368164062 C 838.0162963867188 317.7066650390625 833.5421142578125 318.854736328125 828.697021484375 319.6276245117188 C 819.5289306640625 321.0899658203125 810.0278930664062 321.0899658203125 797.9991455078125 321.0899658203125 L 797.2267456054688 317.2451782226562 C 811.8135986328125 311.1380004882812 820.534912109375 290.2108459472656 822.4727172851562 285.1145629882812 C 818.8812866210938 281.3029174804688 815.6089477539062 277.166259765625 812.7348022460938 272.8030395507812 C 809.5975341796875 268.0404663085938 806.904296875 262.9615478515625 804.72998046875 257.7074584960938 C 802.5143432617188 252.3537292480469 800.8131713867188 246.7584838867188 799.6737060546875 241.0771636962891 C 798.5046997070312 235.2488098144531 797.9119873046875 229.2535095214844 797.9119873046875 223.2577514648438 C 797.9119873046875 217.1413116455078 798.5274047851562 211.0281372070312 799.7411499023438 205.0880737304688 C 800.9241943359375 199.2979125976562 802.6895751953125 193.6025390625 804.9882202148438 188.1601257324219 C 807.2449340820312 182.81689453125 810.0380249023438 177.6635437011719 813.2899169921875 172.8431701660156 C 816.5106811523438 168.0690307617188 820.20947265625 163.5797424316406 824.283447265625 159.4999694824219 C 828.3575439453125 155.4201354980469 832.8406982421875 151.7160949707031 837.6082153320312 148.49072265625 C 842.422119140625 145.2340698242188 847.5685424804688 142.4368286132812 852.9046020507812 140.1768188476562 C 858.33984375 137.874755859375 864.0277709960938 136.1067199707031 869.8104248046875 134.9218444824219 C 875.7428588867188 133.706298828125 881.84814453125 133.0899658203125 887.956787109375 133.0899658203125 Z" stroke="none" fill="#fff"/>
  </g>
</svg>
`},44661:S=>{S.exports=`<svg width="262" height="176" viewBox="0 0 262 176" fill="none" xmlns="http://www.w3.org/2000/svg">
<g filter="url(#filter0_d_9_5)">
<path d="M245.611 10H16.3894C12.8606 10 10 12.8606 10 16.3894V159.353C10 162.882 12.8606 165.743 16.3894 165.743H245.611C249.139 165.743 252 162.882 252 159.353V16.3894C252 12.8606 249.139 10 245.611 10Z" fill="#FF4013"/>
</g>
<path d="M15.5908 18.7855H252V160.152C252 161.635 251.411 163.057 250.363 164.105C249.314 165.154 247.892 165.743 246.409 165.743H15.5908C14.108 165.743 12.686 165.154 11.6375 164.105C10.589 163.057 10 161.635 10 160.152V24.3763C10 22.8935 10.589 21.4715 11.6375 20.423C12.686 19.3745 14.108 18.7855 15.5908 18.7855V18.7855Z" fill="white"/>
<path d="M61.9142 42.7459H45.9406C44.1762 42.7459 42.7459 44.1762 42.7459 45.9406V61.9142C42.7459 63.6786 44.1762 65.1089 45.9406 65.1089H61.9142C63.6786 65.1089 65.1089 63.6786 65.1089 61.9142V45.9406C65.1089 44.1762 63.6786 42.7459 61.9142 42.7459Z" fill="url(#paint0_linear_9_5)"/>
<path d="M100.251 42.7459H84.2772C82.5128 42.7459 81.0825 44.1762 81.0825 45.9406V61.9142C81.0825 63.6786 82.5128 65.1089 84.2772 65.1089H100.251C102.015 65.1089 103.446 63.6786 103.446 61.9142V45.9406C103.446 44.1762 102.015 42.7459 100.251 42.7459Z" fill="url(#paint1_linear_9_5)"/>
<path d="M138.587 42.7459H122.614C120.849 42.7459 119.419 44.1762 119.419 45.9406V61.9142C119.419 63.6786 120.849 65.1089 122.614 65.1089H138.587C140.352 65.1089 141.782 63.6786 141.782 61.9142V45.9406C141.782 44.1762 140.352 42.7459 138.587 42.7459Z" fill="url(#paint2_linear_9_5)"/>
<path d="M176.924 42.7459H160.951C159.186 42.7459 157.756 44.1762 157.756 45.9406V61.9142C157.756 63.6786 159.186 65.1089 160.951 65.1089H176.924C178.688 65.1089 180.119 63.6786 180.119 61.9142V45.9406C180.119 44.1762 178.688 42.7459 176.924 42.7459Z" fill="url(#paint3_linear_9_5)"/>
<path d="M215.261 42.7459H199.287C197.523 42.7459 196.092 44.1762 196.092 45.9406V61.9142C196.092 63.6786 197.523 65.1089 199.287 65.1089H215.261C217.025 65.1089 218.455 63.6786 218.455 61.9142V45.9406C218.455 44.1762 217.025 42.7459 215.261 42.7459Z" fill="url(#paint4_linear_9_5)"/>
<path d="M61.9142 81.0825H45.9406C44.1762 81.0825 42.7459 82.5128 42.7459 84.2772V100.251C42.7459 102.015 44.1762 103.446 45.9406 103.446H61.9142C63.6786 103.446 65.1089 102.015 65.1089 100.251V84.2772C65.1089 82.5128 63.6786 81.0825 61.9142 81.0825Z" fill="url(#paint5_linear_9_5)"/>
<path d="M100.251 81.0825H84.2772C82.5128 81.0825 81.0825 82.5128 81.0825 84.2772V100.251C81.0825 102.015 82.5128 103.446 84.2772 103.446H100.251C102.015 103.446 103.446 102.015 103.446 100.251V84.2772C103.446 82.5128 102.015 81.0825 100.251 81.0825Z" fill="url(#paint6_linear_9_5)"/>
<path d="M138.587 81.0825H122.614C120.849 81.0825 119.419 82.5128 119.419 84.2772V100.251C119.419 102.015 120.849 103.446 122.614 103.446H138.587C140.352 103.446 141.782 102.015 141.782 100.251V84.2772C141.782 82.5128 140.352 81.0825 138.587 81.0825Z" fill="url(#paint7_linear_9_5)"/>
<path d="M176.924 81.0825H160.951C159.186 81.0825 157.756 82.5128 157.756 84.2772V100.251C157.756 102.015 159.186 103.446 160.951 103.446H176.924C178.688 103.446 180.119 102.015 180.119 100.251V84.2772C180.119 82.5128 178.688 81.0825 176.924 81.0825Z" fill="url(#paint8_linear_9_5)"/>
<path d="M215.261 81.0825H199.287C197.523 81.0825 196.092 82.5128 196.092 84.2772V100.251C196.092 102.015 197.523 103.446 199.287 103.446H215.261C217.025 103.446 218.455 102.015 218.455 100.251V84.2772C218.455 82.5128 217.025 81.0825 215.261 81.0825Z" fill="url(#paint9_linear_9_5)"/>
<path d="M61.9142 119.419H45.9406C44.1762 119.419 42.7459 120.849 42.7459 122.614V138.587C42.7459 140.352 44.1762 141.782 45.9406 141.782H61.9142C63.6786 141.782 65.1089 140.352 65.1089 138.587V122.614C65.1089 120.849 63.6786 119.419 61.9142 119.419Z" fill="url(#paint10_linear_9_5)"/>
<path d="M100.251 119.419H84.2772C82.5128 119.419 81.0825 120.849 81.0825 122.614V138.587C81.0825 140.352 82.5128 141.782 84.2772 141.782H100.251C102.015 141.782 103.446 140.352 103.446 138.587V122.614C103.446 120.849 102.015 119.419 100.251 119.419Z" fill="url(#paint11_linear_9_5)"/>
<path d="M138.587 119.419H122.614C120.849 119.419 119.419 120.849 119.419 122.614V138.587C119.419 140.352 120.849 141.782 122.614 141.782H138.587C140.352 141.782 141.782 140.352 141.782 138.587V122.614C141.782 120.849 140.352 119.419 138.587 119.419Z" fill="url(#paint12_linear_9_5)"/>
<path d="M176.924 119.419H160.951C159.186 119.419 157.756 120.849 157.756 122.614V138.587C157.756 140.352 159.186 141.782 160.951 141.782H176.924C178.688 141.782 180.119 140.352 180.119 138.587V122.614C180.119 120.849 178.688 119.419 176.924 119.419Z" fill="url(#paint13_linear_9_5)"/>
<path d="M215.261 119.419H199.287C197.523 119.419 196.092 120.849 196.092 122.614V138.587C196.092 140.352 197.523 141.782 199.287 141.782H215.261C217.025 141.782 218.455 140.352 218.455 138.587V122.614C218.455 120.849 217.025 119.419 215.261 119.419Z" fill="url(#paint14_linear_9_5)"/>
<defs>
<filter id="filter0_d_9_5" x="0" y="0" width="262" height="175.743" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
<feFlood flood-opacity="0" result="BackgroundImageFix"/>
<feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
<feOffset/>
<feGaussianBlur stdDeviation="5"/>
<feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.161 0"/>
<feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_9_5"/>
<feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_9_5" result="shape"/>
</filter>
<linearGradient id="paint0_linear_9_5" x1="53.9274" y1="42.7459" x2="53.9274" y2="65.1089" gradientUnits="userSpaceOnUse">
<stop stop-color="#FF6534"/>
<stop offset="1" stop-color="#DB2D00"/>
</linearGradient>
<linearGradient id="paint1_linear_9_5" x1="92.264" y1="42.7459" x2="92.264" y2="65.1089" gradientUnits="userSpaceOnUse">
<stop stop-color="#E11010"/>
<stop offset="0.32" stop-color="#F92F00"/>
<stop offset="0.724" stop-color="#FF6810"/>
<stop offset="1" stop-color="#FF541A"/>
</linearGradient>
<linearGradient id="paint2_linear_9_5" x1="130.601" y1="42.7459" x2="130.601" y2="65.1089" gradientUnits="userSpaceOnUse">
<stop stop-color="#03A9F4"/>
<stop offset="1" stop-color="#0075EA"/>
</linearGradient>
<linearGradient id="paint3_linear_9_5" x1="168.937" y1="42.7459" x2="168.937" y2="65.1089" gradientUnits="userSpaceOnUse">
<stop stop-color="#00C853"/>
<stop offset="1" stop-color="#008537"/>
</linearGradient>
<linearGradient id="paint4_linear_9_5" x1="207.274" y1="42.7459" x2="207.274" y2="65.1089" gradientUnits="userSpaceOnUse">
<stop stop-color="#7848EE"/>
<stop offset="1" stop-color="#512DA8"/>
</linearGradient>
<linearGradient id="paint5_linear_9_5" x1="53.9274" y1="81.0825" x2="53.9274" y2="103.446" gradientUnits="userSpaceOnUse">
<stop stop-color="#22AC14"/>
<stop offset="1" stop-color="#0B8500"/>
</linearGradient>
<linearGradient id="paint6_linear_9_5" x1="92.264" y1="81.0825" x2="92.264" y2="103.446" gradientUnits="userSpaceOnUse">
<stop stop-color="#FF8800"/>
<stop offset="1" stop-color="#FF4E00"/>
</linearGradient>
<linearGradient id="paint7_linear_9_5" x1="130.601" y1="81.0825" x2="130.601" y2="103.446" gradientUnits="userSpaceOnUse">
<stop stop-color="#FFAC07"/>
<stop offset="1" stop-color="#FF7700"/>
</linearGradient>
<linearGradient id="paint8_linear_9_5" x1="168.937" y1="81.0825" x2="168.937" y2="103.446" gradientUnits="userSpaceOnUse">
<stop stop-color="#E11010"/>
<stop offset="0.32" stop-color="#F92F00"/>
<stop offset="0.724" stop-color="#FF6810"/>
<stop offset="1" stop-color="#FF541A"/>
</linearGradient>
<linearGradient id="paint9_linear_9_5" x1="207.274" y1="81.0825" x2="207.274" y2="103.446" gradientUnits="userSpaceOnUse">
<stop stop-color="#00C853"/>
<stop offset="1" stop-color="#008537"/>
</linearGradient>
<linearGradient id="paint10_linear_9_5" x1="53.9274" y1="119.419" x2="53.9274" y2="141.782" gradientUnits="userSpaceOnUse">
<stop stop-color="#00C853"/>
<stop offset="1" stop-color="#008537"/>
</linearGradient>
<linearGradient id="paint11_linear_9_5" x1="92.264" y1="119.419" x2="92.264" y2="141.782" gradientUnits="userSpaceOnUse">
<stop stop-color="#F9307F"/>
<stop offset="1" stop-color="#C2185B"/>
</linearGradient>
<linearGradient id="paint12_linear_9_5" x1="130.601" y1="119.419" x2="130.601" y2="141.782" gradientUnits="userSpaceOnUse">
<stop stop-color="#03A9F4"/>
<stop offset="1" stop-color="#0075EA"/>
</linearGradient>
<linearGradient id="paint13_linear_9_5" x1="168.937" y1="119.419" x2="168.937" y2="141.782" gradientUnits="userSpaceOnUse">
<stop stop-color="#E11010"/>
<stop offset="0.32" stop-color="#F92F00"/>
<stop offset="0.724" stop-color="#FF6810"/>
<stop offset="1" stop-color="#FF541A"/>
</linearGradient>
<linearGradient id="paint14_linear_9_5" x1="207.274" y1="119.419" x2="207.274" y2="141.782" gradientUnits="userSpaceOnUse">
<stop stop-color="#0091EA"/>
<stop offset="1" stop-color="#0058EF"/>
</linearGradient>
</defs>
</svg>
`},83346:S=>{S.exports=`<svg id="Icon_back_arrow_-_24x24_heavy" data-name="Icon | back arrow - 24x24 | heavy" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
  <rect id="Rectangle_42283" data-name="Rectangle 42283" width="24" height="24" fill="none"/>
  <line id="Line_2210" data-name="Line 2210" x2="14" transform="translate(6 12)" fill="none" stroke="#fff" stroke-linecap="round" stroke-width="2"/>
  <path id="Path_11708" data-name="Path 11708" d="M2,16-5,7.958,2,0" transform="translate(10.005 4)" fill="none" stroke="#fff" stroke-linecap="round" stroke-width="2"/>
</svg>
`},10301:S=>{S.exports=`<?xml version="1.0" encoding="utf-8"?>\r
<!-- Generator: Adobe Illustrator 16.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->\r
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\r
<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\r
	 width="705.339px" height="741.039px" viewBox="-146.339 -41 705.339 741.039"\r
	 enable-background="new -146.339 -41 705.339 741.039" xml:space="preserve">\r
<path fill="none" stroke="#FFFFFF" stroke-width="42" stroke-opacity="0.18" d="M-26.836,567.145l4.095-12.12l-8.894-9.197\r
	c-60.216-62.274-93.828-145.567-93.703-232.224v-0.038v-0.04c-0.21-88.25,34.624-172.962,96.834-235.509\r
	C33.695,15.481,118.166-19.773,206.333-20c43.651,0.113,86.854,8.825,127.142,25.639c40.305,16.82,76.903,41.42,107.706,72.395\r
	c30.807,30.975,55.209,67.718,71.822,108.131c16.611,40.414,25.105,83.706,24.996,127.405v0.051v0.052\r
	c0.209,88.247-34.623,172.96-96.834,235.507c-62.205,62.541-146.688,97.796-234.864,98.019\r
	c-39.051,0.032-77.796-6.889-114.425-20.436l-11.764-4.351l-9.408,8.295c-1.715,1.513-3.564,2.866-5.525,4.044l-0.017,0.009\r
	l-0.016,0.01c-53.573,32.318-97.04,40.479-155.636,42.536c13.917-15.334,25.262-32.137,34.12-47.241\r
	C-37.338,597.608-27.398,568.808-26.836,567.145z"/>\r
<path fill="#FFFFFF" fill-opacity="0.18" d="M338.489,288.818c-2.355-5.684-5.805-10.848-10.156-15.197\r
	c-4.35-4.35-9.514-7.8-15.199-10.154c-5.682-2.353-11.771-3.564-17.921-3.564c-2.447-0.003-4.886,0.187-7.292,0.563v-0.563H99.5\r
	v63.738c0,22.302,8.859,43.688,24.628,59.456c15.769,15.771,37.156,24.628,59.457,24.628h20.251\r
	c22.301,0,43.688-8.857,59.457-24.628c8.873-8.872,15.559-19.522,19.708-31.114c3.97,1.07,8.074,1.615,12.207,1.608v-8.5l0.011,8.5\r
	c6.149-0.002,12.237-1.212,17.917-3.564c5.684-2.355,10.848-5.807,15.198-10.155c4.349-4.351,7.8-9.514,10.155-15.199\r
	c2.353-5.683,3.565-11.775,3.565-17.927C342.054,300.593,340.843,294.502,338.489,288.818z M183.585,390.726h-0.333\r
	c-17.792,0-34.856-7.066-47.436-19.647c-12.581-12.582-19.649-29.645-19.649-47.437v-46.738h154.421v46.738\r
	c0,17.792-7.068,34.855-19.649,47.437c-12.581,12.581-29.644,19.647-47.436,19.647H183.585z M322.784,318.168\r
	c-1.5,3.621-3.699,6.911-6.471,9.683c-2.772,2.772-6.062,4.972-9.683,6.472s-7.502,2.271-11.422,2.271h-0.011\r
	c-2.75,0.003-5.48-0.375-8.112-1.119c0.554-3.896,0.836-7.85,0.836-11.832v-45.845c2.372-0.594,4.815-0.896,7.274-0.893h0.014\r
	c3.919,0,7.8,0.771,11.421,2.271c3.621,1.499,6.912,3.697,9.683,6.468c2.772,2.772,4.971,6.062,6.471,9.682\r
	c1.5,3.621,2.271,7.502,2.271,11.421S324.284,314.547,322.784,318.168z"/>\r
<path fill="none" stroke="#FFFFFF" stroke-width="17" stroke-linecap="round" stroke-miterlimit="10" stroke-opacity="0.18" d="\r
	M196.766,98c-0.756,27.82-17.293,42.831-18.044,63.158c-1.089,29.302,16.538,35.339,18.044,58.644"/>\r
<path fill="none" stroke="#FFFFFF" stroke-width="17" stroke-linecap="round" stroke-miterlimit="10" stroke-opacity="0.18" d="\r
	M221.998,236.035c2.577-5.817,4.104-12.044,4.51-18.392c1.084-29.302-16.543-35.339-18.044-58.644"/>\r
</svg>\r
`}}]);
