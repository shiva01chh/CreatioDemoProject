"use strict";(self.webpackChunkapp_studio_enterprise_system_designer=self.webpackChunkapp_studio_enterprise_system_designer||[]).push([[301],{28301:(Fe,k,s)=>{s.r(k),s.d(k,{MailboxSettingsModule:()=>y});var L=s(88692),f=s(20092),D=s(17914),B=s(83331),O=s(15756),Q=s(49460),$=s(37697),V=s(74817),Y=s(93254),K=s(62549),m=s(73514),E=s(97355),q=s(55799),F=s(56558),h=s(56707),_=s(26522),w=s(69403),b=s(80542),e=s(64537),j=s(60527),r=s(75378),G=s(27969),c=s(36619);class X{}var R;(function(n){n.ExchangeId="3490BD45-4F4D-4613-AA06-454546F3342A",n.ExchangeName="Exchange"})(R||(R={}));var p;(function(n){n.None="None",n.TLS="SSL/TLS",n.STARTTLS="STARTTLS",n.Auto="Auto"})(p||(p={}));var d;(function(n){n.Basic="Basic",n.OAuth="OAuth 2.0"})(d||(d={}));var C;(function(n){n[n.Default=143]="Default",n[n.Ssl=993]="Ssl"})(C||(C={}));var x;(function(n){n[n.Default=587]="Default",n[n.Ssl=465]="Ssl"})(x||(x={}));class Je{}var J;(function(n){n.Office365="Office365OAuthAuthenticator",n.Google="GoogleOAuthAuthenticator"})(J||(J={}));var H;(function(n){n.Office365="Office365OAuthClient",n.Google="GoogleOAuthClient"})(H||(H={}));const W="123456789";class T{_createMailServer(t){const a=t.Type,l=t.SmtpSecureOption,i=t.ImapSecureOption;return{id:t.Id,exchangeEmailAddress:t.ExchangeEmailAddress,name:t.Name,typeId:a.value,typeName:a.displayValue,allowEmailDownloading:t.AllowEmailDownloading,allowEmailSending:t.AllowEmailSending,address:t.Address,imapPort:t.Port,smtpServerAddress:t.SMTPServerAddress,smtpPort:t.SMTPPort,oAuthApplicationId:t.OAuthApplication?t.OAuthApplication.value:null,smtpSecureOptionId:l.value,smtpSecureOptionName:l.displayValue,imapSecureOptionId:i.value,imapSecureOptionName:i.displayValue}}_getLoginFormat(t){return["UseLogin","UseEmailAddressAsLogin","UseUserNameAsLogin"].find(a=>t[a])}_getImapSecurity(t){let a;return t.UseSSL?a=p.TLS:t.IsStartTls&&(a=p.STARTTLS),a||p.None}_getSmtpSecurity(t){return t.UseSSLforSending?p.TLS:p.None}_getAuthenticationType(t){return t.OAuthApplication?d.OAuth:d.Basic}getEntity(t){const a=this._createMailServer(t);return a.loginFormat=this._getLoginFormat(t),a.imapSecurity=this._getImapSecurity(t),a.smtpSecurity=this._getSmtpSecurity(t),a.authenticationType=this._getAuthenticationType(t),a}getEntityColumns(t){return[new c._H7("Id",t.id,r.DataValueType.Guid),new c._H7("Name",t.name,r.DataValueType.Text),new c._H7("ExchangeEmailAddress",t.exchangeEmailAddress,r.DataValueType.Text),new c._H7("Type",t.typeId,r.DataValueType.Lookup),new c._H7("UseLogin",t.loginFormat==="UseLogin",r.DataValueType.Boolean),new c._H7("UseEmailAddressAsLogin",t.loginFormat==="UseEmailAddressAsLogin",r.DataValueType.Boolean),new c._H7("UseUserNameAsLogin",t.loginFormat==="UseUserNameAsLogin",r.DataValueType.Boolean),new c._H7("AllowEmailDownloading",t.allowEmailDownloading,r.DataValueType.Boolean),new c._H7("AllowEmailSending",t.allowEmailSending,r.DataValueType.Boolean),new c._H7("Address",t.address,r.DataValueType.Text),new c._H7("Port",t.imapPort,r.DataValueType.Integer),new c._H7("UseSSL",t.imapSecurity===p.TLS||t.imapSecurity===p.Auto,r.DataValueType.Boolean),new c._H7("IsStartTls",t.imapSecurity===p.STARTTLS,r.DataValueType.Boolean),new c._H7("SMTPServerAddress",t.smtpServerAddress,r.DataValueType.Text),new c._H7("SMTPPort",t.smtpPort,r.DataValueType.Integer),new c._H7("UseSSLforSending",t.smtpSecurity===p.TLS||t.smtpSecurity===p.Auto,r.DataValueType.Boolean),new c._H7("OAuthApplication",t.oAuthApplicationId,r.DataValueType.Lookup),new c._H7("SmtpSecureOption",t.smtpSecureOptionId,r.DataValueType.Lookup),new c._H7("ImapSecureOption",t.imapSecureOptionId,r.DataValueType.Lookup)]}}T.\u0275fac=function(t){return new(t||T)},T.\u0275prov=e.Yz7({token:T,factory:T.\u0275fac});class M{getEntity(t){return{id:t.Id,name:t.Name,appClassName:t.AppClassName,clientClassName:t.ClientClassName,clientId:t.ClientId,secretKey:t.SecretKey}}getEntityColumns(t){const a=[new c._H7("Id",t.id,r.DataValueType.Guid),new c._H7("Name",t.appClassName,r.DataValueType.Text),new c._H7("AppClassName",t.appClassName,r.DataValueType.Text),new c._H7("ClientClassName",t.clientClassName,r.DataValueType.Text),new c._H7("ClientId",t.clientId,r.DataValueType.Text)];return t.secretKey&&t.secretKey!==W&&a.push(new c._H7("SecretKey",t.secretKey,r.DataValueType.Text)),a}}M.\u0275fac=function(t){return new(t||M)},M.\u0275prov=e.Yz7({token:M,factory:M.\u0275fac});class v extends w.UE{constructor(t,a,l){super(t,a,l),this.entitySchemaName="MailServer"}getMailServerTypeItems(){const t=new r.EntitySchemaQuery("MailServerType");return t.addSchemaColumn("Id"),t.addSchemaColumn("Name").withOrdering(r.OrderDirection.Asc,0),this.queryExecutor.executeSelectQuery(t).pipe((0,G.U)(a=>a.map(l=>({value:l.Id,displayValue:l.Name}))))}getMailServerSecureOptionItems(){const t=new r.EntitySchemaQuery("MailSecureOption");return t.addSchemaColumn("Id","value"),t.addSchemaColumn("Name","displayValue").withOrdering(r.OrderDirection.Asc,0),this.queryExecutor.executeSelectQuery(t).pipe((0,G.U)(a=>a.map(l=>l)))}getUsedMailServices(){const t=new r.EntitySchemaQuery("MailboxSyncSettings");return t.addSchemaColumn("MailServer"),this.queryExecutor.executeSelectQuery(t).pipe((0,G.U)(a=>({success:!0,errorInfo:null,result:a.map(l=>l.MailServer)})))}}v.\u0275fac=function(t){return new(t||v)(e.LFG(w.oq),e.LFG(h.sK),e.LFG(T))},v.\u0275prov=e.Yz7({token:v,factory:v.\u0275fac});class A extends w.UE{constructor(t,a,l){super(t,a,l),this.entitySchemaName="OAuthApplications"}}A.\u0275fac=function(t){return new(t||A)(e.LFG(w.oq),e.LFG(h.sK),e.LFG(M))},A.\u0275prov=e.Yz7({token:A,factory:A.\u0275fac});var I=s(7976);function ee(n,t){n&1&&(e.TgZ(0,"th",17)(1,"label"),e._uU(2),e.ALo(3,"translate"),e.qZA()()),n&2&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"MailServerTableComponent.MailServer")))}function te(n,t){if(n&1&&(e.TgZ(0,"td",18)(1,"span"),e._uU(2),e.qZA()()),n&2){const a=t.$implicit;e.xp6(2),e.Oqu(a.name)}}function ae(n,t){n&1&&(e.TgZ(0,"th",17)(1,"label"),e._uU(2),e.ALo(3,"translate"),e.qZA()()),n&2&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"MailServerTableComponent.Type")))}function ne(n,t){if(n&1&&(e.TgZ(0,"td",19)(1,"span"),e._uU(2),e.qZA()()),n&2){const a=t.$implicit;e.xp6(2),e.Oqu(a.typeName)}}function ie(n,t){if(n&1){const a=e.EpF();e.TgZ(0,"button",25),e.NdJ("click",function(){e.CHM(a);const i=e.oxw().$implicit,o=e.oxw(2);return e.KtG(o.onEditRow(i))}),e._uU(1),e.ALo(2,"translate"),e.qZA()}n&2&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"MailServerTableComponent.Edit")," "))}function le(n,t){if(n&1){const a=e.EpF();e.TgZ(0,"button",26),e.NdJ("click",function(){e.CHM(a);const i=e.oxw().$implicit,o=e.oxw(2);return e.KtG(o.onCopyRow(i))}),e._uU(1),e.ALo(2,"translate"),e.qZA()}n&2&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"MailServerTableComponent.Copy")," "))}function oe(n,t){if(n&1){const a=e.EpF();e.TgZ(0,"button",27),e.NdJ("click",function(){e.CHM(a);const i=e.oxw().$implicit,o=e.oxw(2);return e.KtG(o.onDeleteRow(i))}),e._uU(1),e.ALo(2,"translate"),e.qZA()}if(n&2){const a=e.oxw().$implicit,l=e.oxw(2);e.Q6J("disabled",l.isUsedMailService(a)),e.xp6(1),e.hij(" ",e.lcZ(2,2,"MailServerTableComponent.Delete")," ")}}function se(n,t){if(n&1&&(e.TgZ(0,"td",20),e.YNc(1,ie,3,3,"button",21),e.YNc(2,le,3,3,"button",22),e.TgZ(3,"div",23),e.ALo(4,"translate"),e.YNc(5,oe,3,4,"button",24),e.qZA()()),n&2){const a=t.$implicit,l=e.oxw(2);e.uIk("colspan",l.displayedColumns.length),e.xp6(1),e.Q6J("ngIf",l.isActiveRow(a)),e.xp6(1),e.Q6J("ngIf",l.isActiveRow(a)),e.xp6(1),e.Q6J("matTooltip",e.lcZ(4,6,"MailServerTableComponent.MailServiceRemoveToolTip"))("matTooltipDisabled",!l.isUsedMailService(a)),e.xp6(2),e.Q6J("ngIf",l.isActiveRow(a))}}function re(n,t){n&1&&e._UZ(0,"tr",28)}const ce=function(n,t){return{"even-row":n,selected:t}};function de(n,t){if(n&1){const a=e.EpF();e.TgZ(0,"tr",29),e.NdJ("click",function(){const o=e.CHM(a).$implicit,g=e.oxw(2);return e.KtG(g.onRowClicked(o))}),e.qZA()}if(n&2){const a=t.$implicit,l=t.dataIndex,i=e.oxw(2);e.Q6J("ngClass",e.WLB(1,ce,l%2,i.isActiveRow(a)))}}const me=function(n){return{"actions-row":!0,selected:n}};function pe(n,t){if(n&1){const a=e.EpF();e.TgZ(0,"tr",29),e.NdJ("click",function(){const o=e.CHM(a).$implicit,g=e.oxw(2);return e.KtG(g.onRowClicked(o))}),e.qZA()}if(n&2){const a=t.$implicit,l=e.oxw(2);e.Q6J("ngClass",e.VKq(1,me,l.isActiveRow(a)))}}const ue=function(){return["expandedDetail"]};function ge(n,t){if(n&1&&(e.TgZ(0,"table",7),e.ynx(1,8),e.YNc(2,ee,4,3,"th",9),e.YNc(3,te,3,1,"td",10),e.BQk(),e.ynx(4,11),e.YNc(5,ae,4,3,"th",9),e.YNc(6,ne,3,1,"td",12),e.BQk(),e.ynx(7,13),e.YNc(8,se,6,8,"td",14),e.BQk(),e.YNc(9,re,1,0,"tr",15),e.YNc(10,de,1,4,"tr",16),e.YNc(11,pe,1,3,"tr",16),e.qZA()),n&2){const a=e.oxw();e.Q6J("dataSource",a.tableDataSource)("multiTemplateDataRows",!0),e.xp6(9),e.Q6J("matHeaderRowDef",a.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",a.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",e.DdM(5,ue))}}function he(n,t){n&1&&(e.TgZ(0,"div",30)(1,"span"),e._uU(2),e.ALo(3,"translate"),e.qZA()()),n&2&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"MailServerTableComponent.Empty")))}class Z extends b.AFp{constructor(t,a,l,i,o){super(),this.router=t,this.dialogService=a,this.translateService=l,this.mailServerService=i,this.injector=o,this.displayedColumns=["name","typeName"],this.tableDataSource.sortingDataAccessor=(g,qe)=>g[qe].toLocaleLowerCase(),this.changeBroadcastService=this.createChangeBroadcastService(),this.changeBroadcastService.subscribe(g=>{this.onRecordChanged(g)})}_getDistinctMailServices(t){const a=[];return t.forEach(l=>{a.some(i=>i===l.value)||a.push(l.value)}),a}requestTableDataHandler(t){t.success&&(this.data=t.result)}usedMailServicesHandler(t){t.success&&(this.usedMailServices=this._getDistinctMailServices(t.result))}onRecordChanged(t){if(this.data.find(i=>i===t))return;const l=this.data.find(i=>i.id===t.id);l?this.updateRecord(l,t):this.addRecord(t)}addRecord(t){this.data=this.data.concat(t),this.activeRow=t}updateRecord(t,a){Object.assign(t,a)}requestTableData(){return this.mailServerService.getItems()}createChangeBroadcastService(){return this.injector.get(b.Pnv)}deleteResponseHandler(t,a){t.success?a():this.dialogService.openInfoDialog(t.errorInfo.message)}isUsedMailService(t){return this.usedMailServices?this.usedMailServices.some(a=>a===t.id):!1}onRowClicked(t){this.activeRow=t}isActiveRow(t){return t!=null&&t===this.activeRow}onEditRow(t){this.router.navigate(["MailboxSettings/Edit/",t.id])}onCopyRow(t){this.router.navigate(["MailboxSettings/Copy/",t.id])}goToDiagnosticPage(){window.open("#/IntegrationDiagnostics/ExchangeListener","_blank")}openAddMailServerPage(){this.router.navigate(["MailboxSettings/New"])}onDeleteRow(t){this.dialogService.openConfirmationDialog(this.translateService.instant("BaseSection.DeleteRecordConfirmation")).subscribe(a=>{a===_.Zz.result&&this.mailServerService.deleteItem(t).subscribe(l=>{this.deleteResponseHandler(l,()=>{super.onDeleteRow(t)})})})}ngOnInit(){this.mailServerService.getUsedMailServices().subscribe(this.usedMailServicesHandler.bind(this)),this.requestTableData().subscribe(this.requestTableDataHandler.bind(this))}}Z.\u0275fac=function(t){return new(t||Z)(e.Y36(I.F0),e.Y36(_.xA),e.Y36(h.sK),e.Y36(v),e.Y36(e.zs3))},Z.\u0275cmp=e.Xpm({type:Z,selectors:[["ts-mail-server-table"]],features:[e.qOj],decls:11,vars:8,consts:[[1,"detail-wrapper"],[1,"detail-table-wrapper","max-height-none"],[1,"detail-bottom-action"],["data-qa","add-mail-server","mat-flat-button","","color","accent","data-qa","mail-server-grid-add",1,"action-button",3,"click"],["data-qa","go-to-diagnostic","mat-flat-button","","color","primary","data-qa","mail-server-grid-diagnostic",1,"action-button",3,"click"],["mat-table","","class","mail-provoders-table","matSort","","matSortDisableClear","",3,"dataSource","multiTemplateDataRows",4,"ngIf"],["class","detail-blank-slate",4,"ngIf"],["mat-table","","matSort","","matSortDisableClear","",1,"mail-provoders-table",3,"dataSource","multiTemplateDataRows"],["matColumnDef","name"],["mat-header-cell","","scope","col","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","","data-qa","mail-server-grid-name",4,"matCellDef"],["matColumnDef","typeName"],["mat-cell","","data-qa","mail-server-grid-type",4,"matCellDef"],["matColumnDef","expandedDetail"],["mat-cell","",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"ngClass","click",4,"matRowDef","matRowDefColumns"],["mat-header-cell","","scope","col","mat-sort-header",""],["mat-cell","","data-qa","mail-server-grid-name"],["mat-cell","","data-qa","mail-server-grid-type"],["mat-cell",""],["mat-flat-button","","color","primary","class","action-btn edit-btn","data-qa","mail-server-grid-edit",3,"click",4,"ngIf"],["mat-button","","class","action-btn copy-btn","data-qa","mail-server-grid-copy",3,"click",4,"ngIf"],[1,"remove-btn-wrapper",3,"matTooltip","matTooltipDisabled"],["mat-button","","class","action-btn remove-btn","data-qa","mail-server-grid-delete",3,"disabled","click",4,"ngIf"],["mat-flat-button","","color","primary","data-qa","mail-server-grid-edit",1,"action-btn","edit-btn",3,"click"],["mat-button","","data-qa","mail-server-grid-copy",1,"action-btn","copy-btn",3,"click"],["mat-button","","data-qa","mail-server-grid-delete",1,"action-btn","remove-btn",3,"disabled","click"],["mat-header-row",""],["mat-row","",3,"ngClass","click"],[1,"detail-blank-slate"]],template:function(t,a){t&1&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),e.NdJ("click",function(){return a.openAddMailServerPage()}),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"button",4),e.NdJ("click",function(){return a.goToDiagnosticPage()}),e._uU(7),e.ALo(8,"translate"),e.qZA()(),e.YNc(9,ge,12,6,"table",5),e.YNc(10,he,4,3,"div",6),e.qZA()()),t&2&&(e.xp6(4),e.hij(" ",e.lcZ(5,4,"MailServerTableComponent.Section.Add")," "),e.xp6(3),e.hij(" ",e.lcZ(8,6,"MailServerTableComponent.Section.GoToDiagnostic")," "),e.xp6(2),e.Q6J("ngIf",!a.isEmpty()),e.xp6(1),e.Q6J("ngIf",a.isEmpty()))},dependencies:[L.mk,L.O5,O.eB,F.YE,F.nU,m.ty,m.wO,m.S4,m.t3,m.R3,m.Al,m.L7,m.ML,m.fg,m.Zw,q.Kd,h.X$],styles:[".detail-wrapper[_ngcontent-%COMP%]   .detail-table-wrapper.max-height-none[_ngcontent-%COMP%]{max-height:initial}.detail-table-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr.mat-row.actions-row[_ngcontent-%COMP%]:not(.selected){display:none}.detail-table-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr.mat-row.selected[_ngcontent-%COMP%]:not(.actions-row)   td[_ngcontent-%COMP%]{border-bottom:none}.detail-table-wrapper[_ngcontent-%COMP%]   .detail-bottom-action[_ngcontent-%COMP%]{margin-top:15px;margin-left:10px}.detail-table-wrapper[_ngcontent-%COMP%]   .remove-btn-wrapper[_ngcontent-%COMP%]{display:inline-block}"]});class P{}P.\u0275fac=function(t){return new(t||P)},P.\u0275cmp=e.Xpm({type:P,selectors:[["ts-mailbox-setting-section"]],decls:11,vars:7,consts:[[1,"base-page-wrap"],[1,"header"],[1,"pane"],[3,"title"],[1,"page-content-wrapper"],[1,"main-content","pane"],["animationDuration","0ms","disableRipple","true",3,"selectedIndex"],[3,"label"]],template:function(t,a){t&1&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._UZ(3,"ts-header",3),e.ALo(4,"translate"),e.qZA()(),e.TgZ(5,"div",4)(6,"div",5)(7,"mat-tab-group",6)(8,"mat-tab",7),e.ALo(9,"translate"),e._UZ(10,"ts-mail-server-table"),e.qZA()()()()()),t&2&&(e.xp6(3),e.Q6J("title",e.lcZ(4,3,"MailboxSettings.Title")),e.xp6(4),e.Q6J("selectedIndex",1),e.xp6(1),e.Q6J("label",e.lcZ(9,5,"MailboxSettings.MailServicesTabCaption")))},dependencies:[j.G,E.SK,E.R7,Z,h.X$],styles:[".base-page-wrap[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{height:auto}.base-page-wrap[_ngcontent-%COMP%]   .page-content-wrapper[_ngcontent-%COMP%]{margin-top:77px}"]});var _e=s(19791),ve=s(11465),N=s(87241),Se=s(84945),U=s(26903),fe=s(11770),be=s(78464),Ce=s(98296),z=s(95236);function xe(n,t){n&1&&e._UZ(0,"ts-mask")}function Te(n,t){if(n&1){const a=e.EpF();e.TgZ(0,"button",27),e.NdJ("click",function(){e.CHM(a);const i=e.oxw();return e.KtG(i.save())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}n&2&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"BasePageComponent.Apply")," "))}function Me(n,t){if(n&1){const a=e.EpF();e.TgZ(0,"button",28),e.NdJ("click",function(){e.CHM(a);const i=e.oxw();return e.KtG(i.cancelMailServerEdit())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}n&2&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"BasePageComponent.Cancel")," "))}function Ae(n,t){if(n&1){const a=e.EpF();e.TgZ(0,"button",29),e.NdJ("click",function(){e.CHM(a);const i=e.oxw();return e.KtG(i.close())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}n&2&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"BasePageComponent.Close")," "))}function ye(n,t){if(n&1){const a=e.EpF();e.TgZ(0,"mat-form-field",30)(1,"mat-label"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"input",31),e.NdJ("focus",function(){e.CHM(a);const i=e.oxw();return e.KtG(i.setCanSave())})("change",function(i){e.CHM(a);const o=e.oxw();return e.KtG(o.onExchangeEmailAddressChange(i.target.value))})("ngModelChange",function(i){e.CHM(a);const o=e.oxw();return e.KtG(o.model.exchangeEmailAddress=i)}),e.qZA()()}if(n&2){const a=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,4,"MailServerTableComponent.MailServerAddress")),e.xp6(2),e.Q6J("value",a.model.exchangeEmailAddress)("ngModel",a.model.exchangeEmailAddress)("maxlength",a.inputMaxLength)}}function we(n,t){if(n&1){const a=e.EpF();e.TgZ(0,"div",32)(1,"div",33)(2,"span",34),e.ALo(3,"translate"),e.TgZ(4,"mat-slide-toggle",35),e.NdJ("click",function(){e.CHM(a);const i=e.oxw();return e.KtG(i.onImapSmtpModeChanged())})("ngModelChange",function(i){e.CHM(a);const o=e.oxw();return e.KtG(o.model.allowEmailDownloading=i)}),e.qZA()(),e.TgZ(5,"label",36),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"label",37),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"mat-form-field",38)(12,"mat-label"),e._uU(13),e.ALo(14,"translate"),e.qZA(),e.TgZ(15,"input",39),e.NdJ("focus",function(){e.CHM(a);const i=e.oxw();return e.KtG(i.setCanSave())})("change",function(i){e.CHM(a);const o=e.oxw();return e.KtG(o.onImapAddressChange(i.target.value))})("ngModelChange",function(i){e.CHM(a);const o=e.oxw();return e.KtG(o.model.address=i)}),e.qZA()(),e.TgZ(16,"ts-combobox-edit",40),e.NdJ("fieldFocus",function(){e.CHM(a);const i=e.oxw();return e.KtG(i.setCanSave())})("selectedItemChange",function(i){e.CHM(a);const o=e.oxw();return e.KtG(o.imapPort=i)})("change",function(i){e.CHM(a);const o=e.oxw();return e.KtG(o.onImapPortChanged(i.target.value))}),e.ALo(17,"translate"),e.qZA(),e.TgZ(18,"ts-combobox-edit",41),e.NdJ("fieldFocus",function(){e.CHM(a);const i=e.oxw();return e.KtG(i.setCanSave())})("selectedItemChange",function(i){e.CHM(a);const o=e.oxw();return e.KtG(o.imapSecureOption=i)}),e.ALo(19,"translate"),e.qZA()(),e.TgZ(20,"div",42)(21,"span",34),e.ALo(22,"translate"),e.TgZ(23,"mat-slide-toggle",35),e.NdJ("click",function(){e.CHM(a);const i=e.oxw();return e.KtG(i.onImapSmtpModeChanged())})("ngModelChange",function(i){e.CHM(a);const o=e.oxw();return e.KtG(o.model.allowEmailSending=i)}),e.qZA()(),e.TgZ(24,"label",43),e._uU(25),e.ALo(26,"translate"),e.qZA(),e.TgZ(27,"label",44),e._uU(28),e.ALo(29,"translate"),e.qZA(),e.TgZ(30,"mat-form-field",38)(31,"mat-label"),e._uU(32),e.ALo(33,"translate"),e.qZA(),e.TgZ(34,"input",45),e.NdJ("focus",function(){e.CHM(a);const i=e.oxw();return e.KtG(i.setCanSave())})("change",function(i){e.CHM(a);const o=e.oxw();return e.KtG(o.onSmtpAddressChange(i.target.value))})("ngModelChange",function(i){e.CHM(a);const o=e.oxw();return e.KtG(o.model.smtpServerAddress=i)}),e.qZA()(),e.TgZ(35,"ts-combobox-edit",46),e.NdJ("fieldFocus",function(){e.CHM(a);const i=e.oxw();return e.KtG(i.setCanSave())})("selectedItemChange",function(i){e.CHM(a);const o=e.oxw();return e.KtG(o.smtpPort=i)})("change",function(i){e.CHM(a);const o=e.oxw();return e.KtG(o.onSmtpPortChanged(i.target.value))}),e.ALo(36,"translate"),e.qZA(),e.TgZ(37,"ts-combobox-edit",47),e.NdJ("fieldFocus",function(){e.CHM(a);const i=e.oxw();return e.KtG(i.setCanSave())})("selectedItemChange",function(i){e.CHM(a);const o=e.oxw();return e.KtG(o.smtpSecureOption=i)}),e.ALo(38,"translate"),e.qZA()()()}if(n&2){const a=e.oxw();e.xp6(2),e.Q6J("matTooltip",e.lcZ(3,38,"MailServerTableComponent.RequiredMailServiceActions"))("matTooltipDisabled",a.model.allowEmailSending),e.xp6(2),e.Q6J("ngModel",a.model.allowEmailDownloading)("disabled",!a.model.allowEmailSending),e.xp6(2),e.hij(" ",e.lcZ(7,40,"MailServerTableComponent.IMAPIncomingSettingsHeader")," "),e.xp6(3),e.hij(" ",e.lcZ(10,42,"MailServerTableComponent.IMAPIncomingSettingsDescription")," "),e.xp6(4),e.Oqu(e.lcZ(14,44,"MailServerTableComponent.Server")),e.xp6(2),e.Q6J("value",a.model.address)("ngModel",a.model.address)("maxlength",a.inputMaxLength)("disabled",!a.model.allowEmailDownloading),e.xp6(1),e.Q6J("label",e.lcZ(17,46,"MailServerTableComponent.Port"))("selectedItem",a.imapPort)("list$",a.imapPortList$)("disabled",!a.model.allowEmailDownloading),e.xp6(2),e.Q6J("label",e.lcZ(19,48,"MailServerTableComponent.Security"))("selectedItem",a.imapSecureOption)("list$",a.imapSmtpSecureOptionList$)("disabled",!a.model.allowEmailDownloading),e.xp6(3),e.Q6J("matTooltip",e.lcZ(22,50,"MailServerTableComponent.RequiredMailServiceActions"))("matTooltipDisabled",a.model.allowEmailDownloading),e.xp6(2),e.Q6J("ngModel",a.model.allowEmailSending)("disabled",!a.model.allowEmailDownloading),e.xp6(2),e.hij(" ",e.lcZ(26,52,"MailServerTableComponent.SMTPOutgoingSettingsHeader")," "),e.xp6(3),e.hij(" ",e.lcZ(29,54,"MailServerTableComponent.SMTPOutgoingSettingsDescription")," "),e.xp6(4),e.Oqu(e.lcZ(33,56,"MailServerTableComponent.Server")),e.xp6(2),e.Q6J("value",a.model.smtpServerAddress)("ngModel",a.model.smtpServerAddress)("maxlength",a.inputMaxLength)("disabled",!a.model.allowEmailSending),e.xp6(1),e.Q6J("label",e.lcZ(36,58,"MailServerTableComponent.Port"))("selectedItem",a.smtpPort)("list$",a.smtpPortList$)("disabled",!a.model.allowEmailSending),e.xp6(2),e.Q6J("label",e.lcZ(38,60,"MailServerTableComponent.Security"))("selectedItem",a.smtpSecureOption)("list$",a.imapSmtpSecureOptionList$)("disabled",!a.model.allowEmailSending)}}function Ie(n,t){if(n&1){const a=e.EpF();e.TgZ(0,"div",48)(1,"div",34),e.ALo(2,"translate"),e.TgZ(3,"mat-checkbox",49),e.NdJ("change",function(){e.CHM(a);const i=e.oxw();return e.KtG(i.onAllowEmailDownloadingChange())}),e._uU(4),e.ALo(5,"translate"),e.qZA()(),e.TgZ(6,"div",34),e.ALo(7,"translate"),e.TgZ(8,"mat-checkbox",50),e.NdJ("change",function(){e.CHM(a);const i=e.oxw();return e.KtG(i.onAllowEmailSendingChange())}),e._uU(9),e.ALo(10,"translate"),e.qZA()()()}if(n&2){const a=e.oxw();e.xp6(1),e.Q6J("matTooltip",e.lcZ(2,10,"MailServerTableComponent.RequiredMailServiceActions"))("matTooltipDisabled",a.model.allowEmailSending),e.xp6(2),e.Q6J("checked",a.model.allowEmailDownloading)("disabled",!a.model.allowEmailSending),e.xp6(1),e.hij(" ",e.lcZ(5,12,"MailServerTableComponent.AllowEmailDownloading")," "),e.xp6(2),e.Q6J("matTooltip",e.lcZ(7,14,"MailServerTableComponent.RequiredMailServiceActions"))("matTooltipDisabled",a.model.allowEmailDownloading),e.xp6(2),e.Q6J("checked",a.model.allowEmailSending)("disabled",!a.model.allowEmailDownloading),e.xp6(1),e.hij(" ",e.lcZ(10,16,"MailServerTableComponent.AllowEmailSending")," ")}}function Ze(n,t){if(n&1){const a=e.EpF();e.TgZ(0,"mat-form-field",51)(1,"mat-label"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"input",52),e.NdJ("focus",function(){e.CHM(a);const i=e.oxw();return e.KtG(i.setCanSave())})("change",function(i){e.CHM(a);const o=e.oxw();return e.KtG(o.onApplicationIdChange(i.target.value))})("ngModelChange",function(i){e.CHM(a);const o=e.oxw();return e.KtG(o.model.clientId=i)}),e.qZA()()}if(n&2){const a=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,3,"MailServerTableComponent.ApplicationId")),e.xp6(2),e.Q6J("value",a.model.clientId)("ngModel",a.model.clientId)}}function Pe(n,t){if(n&1){const a=e.EpF();e.TgZ(0,"mat-form-field",53)(1,"mat-label"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"input",54),e.NdJ("focus",function(){e.CHM(a);const i=e.oxw();return e.KtG(i.setCanSave())})("change",function(i){e.CHM(a);const o=e.oxw();return e.KtG(o.onClientSecretChange(i.target.value))})("ngModelChange",function(i){e.CHM(a);const o=e.oxw();return e.KtG(o.model.secretKey=i)}),e.qZA()()}if(n&2){const a=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,3,"MailServerTableComponent.ClientSecret")),e.xp6(2),e.Q6J("value",a.model.secretKey)("ngModel",a.model.secretKey)}}function Le(n,t){n&1&&(e.TgZ(0,"label",58),e._uU(1),e.ALo(2,"translate"),e.qZA()),n&2&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"MailServerTableComponent.SuccessfulAddOperation")," "))}function De(n,t){n&1&&(e.TgZ(0,"label",58),e._uU(1),e.ALo(2,"translate"),e.qZA()),n&2&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"MailServerTableComponent.SuccessfulEditOperation")," "))}function Ne(n,t){if(n&1&&(e.TgZ(0,"div",55)(1,"label",56),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.YNc(4,Le,3,3,"label",57),e.YNc(5,De,3,3,"label",57),e.qZA()),n&2){const a=e.oxw();e.xp6(2),e.hij(" ",e.lcZ(3,3,"MailServerTableComponent.SuccessfulOperation")," "),e.xp6(2),e.Q6J("ngIf",a.isAdded),e.xp6(1),e.Q6J("ngIf",a.isSaved)}}function Oe(n,t){if(n&1&&(e.TgZ(0,"div",55)(1,"label",59),e._uU(2),e.ALo(3,"translate"),e.qZA(),e._UZ(4,"label",60),e.qZA()),n&2){const a=e.oxw();e.xp6(2),e.hij(" ",e.lcZ(3,2,"MailServerTableComponent.WarningTitle")," "),e.xp6(2),e.Q6J("innerHTML",a.basicAuthWarningMessage,e.oJD)}}class u extends b.neP{constructor(t,a,l,i,o,g){super(t),this.route=a,this.mailServerService=l,this.oAuthApplicationService=i,this._academyHelpUrlService=o,this._featureService=g,this.exchangeTypeId="3490bd45-4f4d-4613-aa06-454546f3342a",this._defaultSecureOptionId="7074a33b-da78-460f-83ae-d06e3db666cc",this._disableWarningsDisplayFeatureName="DisableMailboxSyncWarnings",this.disableWarningsDisplay=!1,this.inputMaxLength=50,this.expandedPanelHeight="60px",this.getGtmSchemaName=()=>"MailServerEditPageComponent"}get isOAuth(){return this.model.authenticationType===d.OAuth}get type(){return{value:this.model.typeId,displayValue:this.model.typeName}}set type(t){const{value:a,displayValue:l}=t||{value:null,displayValue:""};this.model.typeId!==a&&(this.model.typeId=a,this.model.typeName=l,this.isExchange=a.toLowerCase()===this.exchangeTypeId.toLowerCase(),this._setDefValues(),this.setIsChanged())}get typeList$(){return this._typeList$||(this._typeList$=this.mailServerService.getMailServerTypeItems().pipe((0,U.B)())),this._typeList$}get basicAuthWarningMessage(){const t=this.translateInstant("MailServerTableComponent.BasicAuthWarningMessage");return fe.Ld.format(t,'target="_blank"',this._emailTroubleshootingArticleUrl)}get loginFormat(){let t;switch(this.model.loginFormat){case"UseEmailAddressAsLogin":t=this.translateInstant("MailServerTableComponent.UseEmailAddressAsLogin");break;case"UseUserNameAsLogin":t=this.translateInstant("MailServerTableComponent.UseUserNameAsLogin");break;default:t=this.translateInstant("MailServerTableComponent.UseLogin");break}return{value:this.model.loginFormat,displayValue:t}}set loginFormat(t){this.model.loginFormat!==t.value&&(this.model.loginFormat=t.value,this.setIsChanged())}get loginFormatList$(){const t=[{value:"UseLogin",displayValue:this.translateInstant("MailServerTableComponent.UseLogin")},{value:"UseEmailAddressAsLogin",displayValue:this.translateInstant("MailServerTableComponent.UseEmailAddressAsLogin")},{value:"UseUserNameAsLogin",displayValue:this.translateInstant("MailServerTableComponent.UseUserNameAsLogin")}];return new N.y(a=>{a.next(t),a.complete()})}get imapPort(){return{value:this.model.imapPort?this.model.imapPort.toString():"",displayValue:this.model.imapPort?this.model.imapPort.toString():""}}set imapPort(t){this.model.imapPort.toString()!==t.value&&(this.model.imapPort=Number(t.value),this.setIsChanged())}get imapPortList$(){const t=[{value:C.Ssl.toString(),displayValue:C.Ssl.toString()},{value:C.Default.toString(),displayValue:C.Default.toString()}];return new N.y(a=>{a.next(t),a.complete()})}get smtpPort(){return{value:this.model.smtpPort?this.model.smtpPort.toString():"",displayValue:this.model.smtpPort?this.model.smtpPort.toString():""}}set smtpPort(t){this.model.smtpPort.toString()!==t.value&&(this.model.smtpPort=Number(t.value),this.setIsChanged())}get smtpPortList$(){const t=[{value:x.Ssl.toString(),displayValue:x.Ssl.toString()},{value:x.Default.toString(),displayValue:x.Default.toString()}];return new N.y(a=>{a.next(t),a.complete()})}get imapSecureOption(){return{value:this.model.imapSecureOptionId,displayValue:this.model.imapSecureOptionName}}set imapSecureOption(t){this.model.imapSecureOptionId!==t.value&&(this.model.imapSecureOptionId=t.value,this.model.imapSecureOptionName=t.displayValue,this.setObsoleteImapSecurityFlags(t.displayValue),this.setIsChanged())}get smtpSecureOption(){return{value:this.model.smtpSecureOptionId,displayValue:this.model.smtpSecureOptionName}}set smtpSecureOption(t){this.model.smtpSecureOptionId!==t.value&&(this.model.smtpSecureOptionId=t.value,this.model.smtpSecureOptionName=t.displayValue,this.setObsoleteSmtpSecurityFlags(t.displayValue),this.setIsChanged())}get imapSmtpSecureOptionList$(){return this._imapSmtpSecureOptionsList$||(this._imapSmtpSecureOptionsList$=this.mailServerService.getMailServerSecureOptionItems().pipe((0,U.B)()),this.isNew&&this._imapSmtpSecureOptionsList$.subscribe(t=>{const a=t.filter(l=>l.value===this._defaultSecureOptionId).pop();this.smtpSecureOption=a,this.imapSecureOption=a})),this._imapSmtpSecureOptionsList$}get authenticationType(){return{value:this.model.authenticationType,displayValue:this.model.authenticationType}}set authenticationType(t){this.model.authenticationType!==t.value&&(this.model.authenticationType=t.value,this.setIsChanged())}get authenticationTypeList$(){const t=[{value:d.Basic,displayValue:d.Basic},{value:d.OAuth,displayValue:d.OAuth}];return new N.y(a=>{a.next(t),a.complete()})}get allowEmailDownloading(){if(!this.isChanged)return this.setIsChanged(),this.model.allowEmailDownloading}get allowEmailSending(){if(!this.isChanged)return this.setIsChanged(),this.model.allowEmailSending}static getFakeSuccessResponse(){return(0,Se.of)({success:!0,errorInfo:null,result:[]})}_expandedAdditionalSettingsPanel(){!this.model.name&&!this.isExchange&&!this.model.allowEmailDownloading&&!this.model.allowEmailSending&&(this.isAdditionalSettingsExpanded=!0)}_hideSavingPanel(){this.isSaved=!1,this.isAdded=!1}_setDefValues(){this.model.name="",this.model.allowEmailSending=!0,this.model.allowEmailDownloading=!0,this.isExchange?this.model.authenticationType=d.OAuth:this.model.authenticationType=d.Basic}setObsoleteImapSecurityFlags(t){this.model.imapSecurity=t}setObsoleteSmtpSecurityFlags(t){this.model.smtpSecurity=t}_setAcademyUrls(){this._academyHelpUrlService.getAcademyHelpUrl("EmailTroubleshooting").subscribe(t=>{this._emailTroubleshootingArticleUrl=t})}_setNeedToDisplayWarnings(){this._featureService.getFeatureState(this._disableWarningsDisplayFeatureName).subscribe(t=>this.disableWarningsDisplay=t)}savePageData(t){return this.isChanged?this.isNew||this.isCopy?this.mailServerService.insertItem(t):this.mailServerService.updateItem(t):u.getFakeSuccessResponse()}executePageDataLoading(t){return this.isExchange=!0,this.isNew?(this.sendGtmAction(this.getPageOpenGtmData()),this.preProcessLoadedPageModel(this.model),this.isLoading=!1,this.pageTitle=this.translateInstant("MailServerTableComponent.AddMailServer"),u.getFakeSuccessResponse()):super.executePageDataLoading(t)}preProcessPageLoadingResponse(t){super.preProcessPageLoadingResponse(t);const a=t.result[0];return this.isCopy&&(a.id=(0,r.generateGuid)(),a.oAuthApplicationId=null,a.clientId="",a.secretKey="",this.isSaveButtonVisible=!0),this.pageTitle=a.name,this.isExchange=a.typeId.toLowerCase()===this.exchangeTypeId.toLowerCase(),t}requestPageData(){return this.mailServerService.getItem(this.id)}getModelFromLoadResponse(t){const a=t.result[0],l=a.oAuthApplicationId;return l&&this.setApplicationData(l),a}setApplicationData(t){this.oAuthApplicationService.getItem(t).pipe((0,U.B)()).subscribe(l=>{if(l.success){const i=l.result[0];this.model.clientId=i.clientId,this.model.secretKey=W,this.preProcessLoadedPageModel(this.model)}})}recordSaved(t){super.recordSaved(t),t&&t.success&&(this.isNew||this.isCopy?this.isAdded=!0:this.isSaved=!0,this.isNew=!1,this.isCopy=!1,this.isSaveButtonVisible=!1)}extractHostname(t){let a=t;const l=t.split("."),i=l.length;return i>2&&(a=l[i-2].concat(".",l[i-1])),a}createEmptyModel(){const t=new X;return t.id=(0,r.generateGuid)(),t.name="",t.typeName="",t}createNewModel(){const t=this.createEmptyModel();return t.name="",t.exchangeEmailAddress="",t.address="",t.smtpServerAddress="",t.typeId=this.exchangeTypeId,t.typeName=R.ExchangeName,t.loginFormat="UseEmailAddressAsLogin",t.allowEmailDownloading=!0,t.allowEmailSending=!0,t.imapPort=C.Ssl,t.smtpPort=x.Ssl,t.authenticationType=d.OAuth,t.clientId="",t.secretKey="",t}isRequiredFieldsFilled(){const t=this.model,a=Boolean(t.name),l=!this.isExchange||Boolean(t.exchangeEmailAddress),i=this.isExchange||(!t.allowEmailDownloading||Boolean(t.address))&&(!t.allowEmailSending||Boolean(t.smtpServerAddress)),o=!this.isOAuth||Boolean(t.clientId)&&Boolean(t.secretKey);return a&&l&&i&&o}saveMailServerWithOAuthApplication(){const t=this.model,a=this.isExchange?J.Office365:J.Google,l=this.isExchange?H.Office365:H.Google,i={name:t.name,appClassName:a,clientClassName:l,clientId:t.clientId,secretKey:t.secretKey};if(t.oAuthApplicationId)return i.id=t.oAuthApplicationId,this.oAuthApplicationService.updateItem(i).subscribe(),super.save();i.id=(0,r.generateGuid)(),this.oAuthApplicationService.insertItem(i).pipe((0,U.B)()).subscribe(()=>(this.model.oAuthApplicationId=i.id,super.save()))}save(){return this._expandedAdditionalSettingsPanel(),this.isRequiredFieldsFilled()?this.model.authenticationType===d.OAuth?this.saveMailServerWithOAuthApplication():(this.model.oAuthApplicationId=null,super.save()):new N.y(t=>{t.next({}),t.complete()})}ngOnInit(){this.closePageAfterSave=!1,this.isAdditionalSettingsExpanded=!0,this._hideSavingPanel(),this.route.paramMap.subscribe(t=>{this.isNew=t.get("mode")==="New",this.isCopy=t.get("mode")==="Copy",this.isNew?this.model=this.createNewModel():this.id=t.get("id")}),this._setNeedToDisplayWarnings(),this._setAcademyUrls(),super.ngOnInit()}onNameChange(t){this.model.name=t,this.setIsChanged()}onImapAddressChange(t){this.model.address=t,this.model.name||(this.model.name=this.extractHostname(t)),this.setIsChanged()}onApplicationIdChange(t){this.model.clientId=t,this.setIsChanged()}onClientSecretChange(t){this.model.secretKey=t,this.setIsChanged()}onSmtpAddressChange(t){this.model.smtpServerAddress=t,this.model.name||(this.model.name=this.extractHostname(t)),this.setIsChanged()}onImapPortChanged(t){this.model.imapPort=Number(t),this.setIsChanged()}onSmtpPortChanged(t){this.model.smtpPort=Number(t),this.setIsChanged()}onExchangeEmailAddressChange(t){this.model.exchangeEmailAddress=t,this.model.name||(this.model.name=this.extractHostname(t)),this.setIsChanged()}cancelMailServerEdit(){this.cancel(),this.isSaveButtonVisible=!1,this.isExchange=this.model.typeId===this.exchangeTypeId.toLowerCase()}setCanSave(){this.isSaveButtonVisible=!0,this._hideSavingPanel()}setIsChanged(){super.setIsChanged(),this._hideSavingPanel()}onAllowEmailDownloadingChange(){this.model.allowEmailDownloading=!this.model.allowEmailDownloading,this.setCanSave(),this.setIsChanged()}onAllowEmailSendingChange(){this.model.allowEmailSending=!this.model.allowEmailSending,this.setCanSave(),this.setIsChanged()}onImapSmtpModeChanged(){this.setCanSave(),this.setIsChanged()}}u.\u0275fac=function(t){return new(t||u)(e.Y36(e.zs3),e.Y36(I.gz),e.Y36(v),e.Y36(A),e.Y36(_e.ph),e.Y36(ve.UZ))},u.\u0275cmp=e.Xpm({type:u,selectors:[["ts-mail-server-page"]],features:[e.qOj],decls:39,vars:43,consts:[[4,"ngIf"],[1,"base-page-wrap"],[1,"header"],[1,"pane"],[3,"title"],["class","action-button","mat-flat-button","","color","accent","data-qa","mail-server-apply-button",3,"click",4,"ngIf"],["class","action-button","mat-flat-button","","color","primary","data-qa","cancel-button",3,"click",4,"ngIf"],["class","action-button","mat-flat-button","","color","primary","data-qa","mail-server-close-button",3,"click",4,"ngIf"],[1,"page-content-wrapper"],[1,"main-content","pane"],[1,"mailbox-settings"],[1,"mailbox-settings-group-title"],["data-qa","mail-server-type",1,"mail-server-type",3,"label","selectedItem","list$","disabled","fieldFocus","selectedItemChange"],["class","exchange-mail-server-address","floatLabel","always",4,"ngIf"],["class","imap-smtp-settings",4,"ngIf"],[1,"mailbox-additional-settings",3,"expanded"],[3,"collapsedHeight","expandedHeight"],[1,"mailbox-additional-settings-group-title"],["class","exchange-allow-wrapper",4,"ngIf"],["data-qa","mail-server-login-format",1,"mail-server-login-format",3,"label","selectedItem","list$","fieldFocus","selectedItemChange"],["floatLabel","always",1,"mail-server-name"],["matInput","","type","text","data-qa","mail-server-name","required","",3,"value","ngModel","maxlength","focus","change","ngModelChange"],["data-qa","authentication-type",1,"authentication-type",3,"label","selectedItem","list$","fieldFocus","selectedItemChange"],["class","application-id","floatLabel","always",4,"ngIf"],["class","client-secret","floatLabel","always",4,"ngIf"],[1,"right-info-panel"],["class","right-info-panel-item",4,"ngIf"],["mat-flat-button","","color","accent","data-qa","mail-server-apply-button",1,"action-button",3,"click"],["mat-flat-button","","color","primary","data-qa","cancel-button",1,"action-button",3,"click"],["mat-flat-button","","color","primary","data-qa","mail-server-close-button",1,"action-button",3,"click"],["floatLabel","always",1,"exchange-mail-server-address"],["matInput","","type","text","data-qa","mail-server-address","required","",3,"value","ngModel","maxlength","focus","change","ngModelChange"],[1,"imap-smtp-settings"],[1,"imap-settings"],[3,"matTooltip","matTooltipDisabled"],[1,"imap-toggle",3,"ngModel","disabled","click","ngModelChange"],[1,"imap-settings-header"],[1,"imap-settings-description"],["floatLabel","always",1,"imap-mail-server-address"],["matInput","","type","text","data-qa","imap-mail-server-address","required","",3,"value","ngModel","maxlength","disabled","focus","change","ngModelChange"],["data-qa","imap-port",1,"imap-port",3,"label","selectedItem","list$","disabled","fieldFocus","selectedItemChange","change"],["data-qa","imap-security",1,"imap-security",3,"label","selectedItem","list$","disabled","fieldFocus","selectedItemChange"],[1,"smtp-settings"],[1,"smtp-settings-header"],[1,"smtp-settings-description"],["matInput","","type","text","data-qa","name-input","required","",3,"value","ngModel","maxlength","disabled","focus","change","ngModelChange"],["data-qa","smtp-port",1,"smtp-port",3,"label","selectedItem","list$","disabled","fieldFocus","selectedItemChange","change"],["data-qa","smtp-security",1,"smtp-security",3,"label","selectedItem","list$","disabled","fieldFocus","selectedItemChange"],[1,"exchange-allow-wrapper"],["data-qa","exchange-mail-server-allow-download",1,"exchange-mail-server-allow-download",3,"checked","disabled","change"],["data-qa","exchange-mail-server-allow-send",1,"exchange-mail-server-allow-send",3,"checked","disabled","change"],["floatLabel","always",1,"application-id"],["matInput","","type","text","data-qa","application-id","required","",3,"value","ngModel","focus","change","ngModelChange"],["floatLabel","always",1,"client-secret"],["matInput","","type","password","autocomplete","new-password","data-qa","client-secret","required","",3,"value","ngModel","focus","change","ngModelChange"],[1,"right-info-panel-item"],[1,"right-info-panel-item-title","title-success"],["class","right-info-panel-item-description",4,"ngIf"],[1,"right-info-panel-item-description"],[1,"right-info-panel-title","title-warning"],[1,"right-info-panel-item-description",3,"innerHTML"]],template:function(t,a){t&1&&(e.YNc(0,xe,1,0,"ts-mask",0),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"ts-header",4),e.YNc(5,Te,3,3,"button",5),e.YNc(6,Me,3,3,"button",6),e.YNc(7,Ae,3,3,"button",7),e.qZA()()(),e.TgZ(8,"div",8)(9,"div",9)(10,"div",10)(11,"label",11),e._uU(12),e.ALo(13,"translate"),e.qZA(),e.TgZ(14,"ts-combobox-edit",12),e.NdJ("fieldFocus",function(){return a.setCanSave()})("selectedItemChange",function(i){return a.type=i}),e.ALo(15,"translate"),e.qZA(),e.YNc(16,ye,5,6,"mat-form-field",13),e.YNc(17,we,39,62,"div",14),e.TgZ(18,"mat-expansion-panel",15)(19,"mat-expansion-panel-header",16)(20,"mat-panel-title",17),e._uU(21),e.ALo(22,"translate"),e.qZA()(),e.YNc(23,Ie,11,18,"div",18),e.TgZ(24,"ts-combobox-edit",19),e.NdJ("fieldFocus",function(){return a.setCanSave()})("selectedItemChange",function(i){return a.loginFormat=i}),e.ALo(25,"translate"),e.qZA(),e.TgZ(26,"mat-form-field",20)(27,"mat-label"),e._uU(28),e.ALo(29,"translate"),e.qZA(),e.TgZ(30,"input",21),e.NdJ("focus",function(){return a.setCanSave()})("change",function(i){return a.onNameChange(i.target.value)})("ngModelChange",function(i){return a.model.name=i}),e.qZA()(),e.TgZ(31,"div")(32,"ts-combobox-edit",22),e.NdJ("fieldFocus",function(){return a.setCanSave()})("selectedItemChange",function(i){return a.authenticationType=i}),e.ALo(33,"translate"),e.qZA(),e.YNc(34,Ze,5,5,"mat-form-field",23),e.YNc(35,Pe,5,5,"mat-form-field",24),e.qZA()()(),e.TgZ(36,"div",25),e.YNc(37,Ne,6,5,"div",26),e.YNc(38,Oe,5,4,"div",26),e.qZA()()()()),t&2&&(e.Q6J("ngIf",a.isLoading),e.xp6(4),e.Q6J("title",a.pageTitle),e.xp6(1),e.Q6J("ngIf",a.isSaveButtonVisible),e.xp6(1),e.Q6J("ngIf",a.isSaveButtonVisible),e.xp6(1),e.Q6J("ngIf",!a.isSaveButtonVisible),e.xp6(5),e.hij(" ",e.lcZ(13,31,"MailServerTableComponent.MailServerSettings")," "),e.xp6(2),e.Q6J("label",e.lcZ(15,33,"MailServerTableComponent.MailServerType"))("selectedItem",a.type)("list$",a.typeList$)("disabled",!a.isNew),e.xp6(2),e.Q6J("ngIf",a.isExchange),e.xp6(1),e.Q6J("ngIf",!a.isExchange),e.xp6(1),e.Q6J("expanded",a.isAdditionalSettingsExpanded),e.xp6(1),e.Q6J("collapsedHeight",a.expandedPanelHeight)("expandedHeight",a.expandedPanelHeight),e.xp6(2),e.hij(" ",e.lcZ(22,35,"MailServerTableComponent.AdditionalSettings")," "),e.xp6(2),e.Q6J("ngIf",a.isExchange),e.xp6(1),e.Q6J("label",e.lcZ(25,37,"MailServerTableComponent.LoginFormat"))("selectedItem",a.loginFormat)("list$",a.loginFormatList$),e.xp6(4),e.Oqu(e.lcZ(29,39,"MailServerTableComponent.MailServerName")),e.xp6(2),e.Q6J("value",a.model.name)("ngModel",a.model.name)("maxlength",a.inputMaxLength),e.xp6(2),e.Q6J("label",e.lcZ(33,41,"MailServerTableComponent.AuthenticationType"))("selectedItem",a.authenticationType)("list$",a.authenticationTypeList$),e.xp6(2),e.Q6J("ngIf",a.isOAuth),e.xp6(1),e.Q6J("ngIf",a.isOAuth),e.xp6(2),e.Q6J("ngIf",a.isAdded||a.isSaved),e.xp6(1),e.Q6J("ngIf",!a.disableWarningsDisplay&&a.isExchange&&!a.isOAuth))},dependencies:[L.O5,be.g,Ce.A,j.G,O.eB,z.v_,z.$V,D.ib,D.yz,D.yK,V.k0,Q.FC,K.iZ,q.Kd,f.Fj,f.JJ,f.Q7,f.nD,f.On,h.X$],encapsulation:2});const Ee=[{path:"",component:P,data:{shouldReuse:!0}},{path:":mode",component:u,data:{shouldReuse:!0}},{path:":mode/:id",component:u,data:{shouldReuse:!0}}];class S{}S.\u0275fac=function(t){return new(t||S)},S.\u0275mod=e.oAB({type:S}),S.\u0275inj=e.cJS({imports:[I.Bz.forChild(Ee),I.Bz]}),function(){(typeof ngJitMode>"u"||ngJitMode)&&e.kYT(S,{imports:[I.Bz],exports:[I.Bz]})}();class y{}y.\u0275fac=function(t){return new(t||y)},y.\u0275mod=e.oAB({type:y}),y.\u0275inj=e.cJS({providers:[T,v,M,A,b.Pnv,{provide:b.thQ,useValue:"MailboxSettingsModule"}],imports:[L.ez,_.Su,_._M,_.z8,b.kLW,S,h.aw,E.Nn,O.yu,Y.uw,F.JX,m.U5,$.yj,B.Ps,D.To,V.x4,Q.Zh,K.Wd,q.AA,f.u5,w.nD]}),function(){(typeof ngJitMode>"u"||ngJitMode)&&e.kYT(y,{declarations:[P,u,Z],imports:[L.ez,_.Su,_._M,_.z8,b.kLW,S,h.aw,E.Nn,O.yu,Y.uw,F.JX,m.U5,$.yj,B.Ps,D.To,V.x4,Q.Zh,K.Wd,q.AA,f.u5,w.nD]})}()}}]);
