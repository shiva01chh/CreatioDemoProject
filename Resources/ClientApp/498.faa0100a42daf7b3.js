(self.webpackChunkapp_studio_enterprise_system_designer=self.webpackChunkapp_studio_enterprise_system_designer||[]).push([[498],{69498:(Pt,N,m)=>{"use strict";m.r(N),m.d(N,{AbstractHandler:()=>It,BroadcastChannelFactory:()=>ie,BroadcastChannelService:()=>tt,CONTAINS_EMAIL_PATTERN:()=>Ue,CONTAINS_EMAIL_REGEXP:()=>Ee,CrtHandlerChainAdapter:()=>J,CrtLibTranslateModule:()=>ve.X,CustomElementsBootstrapService:()=>Q,CustomEventApplicationIdToken:()=>Fe,CustomEventService:()=>te,CustomEventServiceToken:()=>kt,DEFAULT_INSTANCE:()=>rt,DOM_PURIFIER:()=>Te,DOM_PURIFIER_DEFAULT_FORBID_CONTENTS:()=>Ft,EMAIL_PATTERN:()=>Be,EMAIL_REGEXP:()=>fe,Factory:()=>Y,FactoryProvider:()=>ot,I18N_TRANSLATES:()=>ve.t,IdGenerator:()=>ze,Inject:()=>Bt,LoggerService:()=>$,NAVIGATOR:()=>xe,NameGenerator:()=>Ot,ObservableUtils:()=>nt,REGISTRATION_MAP:()=>at,SpeechRecognitionFactory:()=>p,StorybookLibBadges:()=>se,StorybookScopeBadges:()=>ue,VoiceToTextApi:()=>R,WINDOW_PROVIDER:()=>ct,WINDOW_TOKEN:()=>Ct,containsEmail:()=>dt,emptyFn:()=>U,flattenObject:()=>pt,getRandomArrayElement:()=>mt.s,hexToRGBA:()=>ut,isEmailAddress:()=>ft,ngxTranslateExtract:()=>P,randomInt:()=>mt.I,replaceSubstring:()=>it,runInZone:()=>Lt,splitAndReplaceSubstringToMacros:()=>De,switchWith:()=>st,tapOnce:()=>Rt,toArray:()=>He,toObject:()=>Ut,windowFactory:()=>G});var ge=m(88692),E=m(64537),O=m(14581),q=m(38023),F=m(87241),ee=m(408),ke=m(74970),lt=m(27969),xt=m(79676);const Fe=new E.OlP("CustomEventApplicationIdToken"),kt=new E.OlP("CustomEventServiceToken");class te{constructor(t,r=null){this.document=t,this.appId=r,this.customEventName="TSCustomEventChannel",this.appId=r||Math.random().toString()}subscribe(t){return this.customEventObserver$=this.customEventObserver$||(0,O.R)(document,this.customEventName),this.customEventObserver$.pipe((0,ke.h)(r=>r.detail.eventName===t&&r.detail.sender!==this.appId),(0,lt.U)(r=>r.detail.payload))}createOutboundChannel(t){const r=new q.x;return r.asObservable().subscribe(a=>{const o=new CustomEvent(this.customEventName,{detail:{eventName:t,sender:this.appId,payload:a}});this.document.dispatchEvent(o)}),r}getDataViaEvent(t,r={}){return new F.y(a=>{this.subscribe(t).pipe((0,xt.P)()).subscribe(o=>{a.next(o),a.complete()}),this.createOutboundChannel(t).next(r)})}getDataStreamViaEvent(t,r={}){return new F.y(a=>{const o=this.subscribe(t).subscribe(f=>{a.next(f)},ee.Z,()=>a.complete());return this.createOutboundChannel(t).next(r),()=>{o.unsubscribe()}})}}te.\u0275fac=function(t){return new(t||te)(E.LFG(ge.K0),E.LFG(Fe,8))},te.\u0275prov=E.Yz7({token:te,factory:te.\u0275fac,providedIn:"root"});const Ft=["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","title","video","xmp"];var M=m(23358),D=m.n(M);const Ue="[\u0430-\u044F\u0410-\u042Fa-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[\u0430-\u044F\u0410-\u042Fa-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[\u0430-\u044F\u0410-\u042Fa-zA-Z0-9](?:[\u0430-\u044F\u0410-\u042Fa-zA-Z0-9-]*[\u0430-\u044F\u0410-\u042Fa-zA-Z0-9])?\\.)+[\u0430-\u044F\u0410-\u042Fa-zA-Z0-9](?:[\u0430-\u044F\u0410-\u042Fa-zA-Z0-9-]*[\u0430-\u044F\u0410-\u042Fa-zA-Z0-9])?",Be=`^${Ue}$`,fe=()=>new RegExp(Be,"g"),Ee=()=>new RegExp(Ue,"g");function ft(e){return fe().test(e)}function dt(e){return Ee().test(e)}const ne={name:"uponSanitizeElement",func:(e,t)=>{const r=t.tagName;ft(r)&&e.insertAdjacentText("afterbegin",`<${r}>`)}},Te=new E.OlP("Represents a DOM purifier",{factory:()=>(D().addHook(ne.name,ne.func),D()),providedIn:"platform"});function He(e){return e?Array.isArray(e)?e:[e]:[]}function Ut(e){return e||{}}function U(){}function pt(e,t){const r={};for(const a in e)if(!!Object.prototype.hasOwnProperty.call(e,a))if(typeof e[a]=="object"&&e[a]!==null){const o=pt(e[a],t);for(const f in o)!Object.prototype.hasOwnProperty.call(o,f)||(r[a+t+f]=o[f])}else r[a]=e[a];return r}var mt=m(81916),I=m(77463);class ze{static generate(){return"_"+this.generateUUID()}static generateUUID(){return(0,I.Z)()}}function P(e){return e}function Bt(e){return(t,r,a)=>{for((t.$inject===void 0||t.$inject instanceof Array&&!t.hasOwnProperty("$inject"))&&(t.$inject=[]);t.$inject.length<=a;)t.$inject.push(null);t.$inject[a]=e||r}}class p{static create(t){return new t}}class R{constructor(){this.speechResult=new q.x,this.speechEnd=new q.x}static _getInternalApiClass(){return window.SpeechRecognition||window.webkitSpeechRecognition}static isSupported(){return R._getInternalApiClass()!==void 0}_subscribeEvents(){this._internalApi.addEventListener("result",this.onResult.bind(this)),this._internalApi.addEventListener("speechend",this.onSpeechEnd.bind(this))}_unsubscribeEvents(){this._internalApi.removeEventListener("result",this.onResult),this._internalApi.removeEventListener("speechend",this.onSpeechEnd)}init(t){const r=R._getInternalApiClass();this._internalApi=p.create(r),this._internalApi.continuous=!0,this._internalApi.lang=t.lang||"en-US",this._subscribeEvents()}onResult(t){const{resultIndex:r,results:a}=t,o=a[r][0];if(!o)throw new Error("No results to transcript");this.speechResult.next(o.transcript)}onSpeechEnd(){this.speechEnd.next()}destroy(){this._unsubscribeEvents(),this._internalApi=null}startRecognition(){this._internalApi.start()}stopRecognition(){this._internalApi.stop()}}R.\u0275fac=function(t){return new(t||R)},R.\u0275prov=E.Yz7({token:R,factory:R.\u0275fac});function _e(e){return!!(e&&typeof e.then=="function")}function Ge(e){return e||(e=0),new Promise(function(t){return setTimeout(t,e)})}function We(e,t){return Math.floor(Math.random()*(t-e+1)+e)}function de(){return Math.random().toString(36).substring(2)}var ht=0,pe=0;function ye(){var e=new Date().getTime();return e===ht?(pe++,e*1e3+pe):(ht=e,pe=0,e*1e3)}var re=Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]",vt=ye,je="native";function gt(e){var t={messagesCallback:null,bc:new BroadcastChannel(e),subFns:[]};return t.bc.onmessage=function(r){t.messagesCallback&&t.messagesCallback(r.data)},t}function Ae(e){e.bc.close(),e.subFns=[]}function Ht(e,t){try{return e.bc.postMessage(t,!1),Promise.resolve()}catch(r){return Promise.reject(r)}}function zt(e,t){e.messagesCallback=t}function Gt(){if(re&&typeof window>"u")return!1;if(typeof BroadcastChannel=="function"){if(BroadcastChannel._pubkey)throw new Error("BroadcastChannel: Do not overwrite window.BroadcastChannel with this module, this is not a polyfill");return!0}else return!1}function Wt(){return 150}const jt={create:gt,close:Ae,onMessage:zt,postMessage:Ht,canBeUsed:Gt,type:je,averageResponseTime:Wt,microSeconds:vt};var Et=function(){function e(t){this.ttl=t,this.set=new Set,this.timeMap=new Map}return e.prototype.has=function(t){return this.set.has(t)},e.prototype.add=function(t){var r=this;this.timeMap.set(t,Tt()),this.set.add(t),setTimeout(function(){$t(r)},0)},e.prototype.clear=function(){this.set.clear(),this.timeMap.clear()},e}();function $t(e){for(var t=Tt()-e.ttl,r=e.set[Symbol.iterator]();;){var a=r.next().value;if(!a)return;var o=e.timeMap.get(a);if(o<t)e.timeMap.delete(a),e.set.delete(a);else return}}function Tt(){return new Date().getTime()}function $e(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=JSON.parse(JSON.stringify(e));return typeof t.webWorkerSupport>"u"&&(t.webWorkerSupport=!0),t.idb||(t.idb={}),t.idb.ttl||(t.idb.ttl=1e3*45),t.idb.fallbackInterval||(t.idb.fallbackInterval=150),e.idb&&typeof e.idb.onclose=="function"&&(t.idb.onclose=e.idb.onclose),t.localstorage||(t.localstorage={}),t.localstorage.removeTimeout||(t.localstorage.removeTimeout=1e3*60),e.methods&&(t.methods=e.methods),t.node||(t.node={}),t.node.ttl||(t.node.ttl=1e3*60*2),typeof t.node.useFastPath>"u"&&(t.node.useFastPath=!0),t}var Zt=ye,Yt="pubkey.broadcast-channel-0-",x="messages",Vt="idb";function s(){if(typeof indexedDB<"u")return indexedDB;if(typeof window<"u"){if(typeof window.mozIndexedDB<"u")return window.mozIndexedDB;if(typeof window.webkitIndexedDB<"u")return window.webkitIndexedDB;if(typeof window.msIndexedDB<"u")return window.msIndexedDB}return!1}function c(e){var t=s(),r=Yt+e,a=t.open(r,1);a.onupgradeneeded=function(f){var v=f.target.result;v.createObjectStore(x,{keyPath:"id",autoIncrement:!0})};var o=new Promise(function(f,v){a.onerror=function(S){return v(S)},a.onsuccess=function(){f(a.result)}});return o}function d(e,t,r){var a=new Date().getTime(),o={uuid:t,time:a,data:r},f=e.transaction([x],"readwrite");return new Promise(function(v,S){f.oncomplete=function(){return v()},f.onerror=function(n){return S(n)};var l=f.objectStore(x);l.add(o)})}function h(e){var t=e.transaction(x).objectStore(x),r=[];return new Promise(function(a){t.openCursor().onsuccess=function(o){var f=o.target.result;f?(r.push(f.value),f.continue()):a(r)}})}function _(e,t){var r=e.transaction(x).objectStore(x),a=[];function o(){try{var f=IDBKeyRange.bound(t+1,1/0);return r.openCursor(f)}catch{return r.openCursor()}}return new Promise(function(f){o().onsuccess=function(v){var S=v.target.result;S?S.value.id<t+1?S.continue(t+1):(a.push(S.value),S.continue()):f(a)}})}function W(e,t){var r=e.transaction([x],"readwrite").objectStore(x).delete(t);return new Promise(function(a){r.onsuccess=function(){return a()}})}function Z(e,t){var r=new Date().getTime()-t,a=e.transaction(x).objectStore(x),o=[];return new Promise(function(f){a.openCursor().onsuccess=function(v){var S=v.target.result;if(S){var l=S.value;if(l.time<r)o.push(l),S.continue();else{f(o);return}}else f(o)}})}function j(e,t){return Z(e,t).then(function(r){return Promise.all(r.map(function(a){return W(e,a.id)}))})}function me(e,t){return t=$e(t),c(e).then(function(r){var a={closed:!1,lastCursorId:0,channelName:e,options:t,uuid:de(),eMIs:new Et(t.idb.ttl*2),writeBlockPromise:Promise.resolve(),messagesCallback:null,readQueuePromises:[],db:r};return r.onclose=function(){a.closed=!0,t.idb.onclose&&t.idb.onclose()},ae(a),a})}function ae(e){e.closed||_t(e).then(function(){return Ge(e.options.idb.fallbackInterval)}).then(function(){return ae(e)})}function Xt(e,t){return!(e.uuid===t.uuid||t.eMIs.has(e.id)||e.data.time<t.messagesCallbackTime)}function _t(e){return e.closed||!e.messagesCallback?Promise.resolve():_(e.db,e.lastCursorId).then(function(t){var r=t.filter(function(a){return!!a}).map(function(a){return a.id>e.lastCursorId&&(e.lastCursorId=a.id),a}).filter(function(a){return Xt(a,e)}).sort(function(a,o){return a.time-o.time});return r.forEach(function(a){e.messagesCallback&&(e.eMIs.add(a.id),e.messagesCallback(a.data))}),Promise.resolve()})}function Kt(e){e.closed=!0,e.db.close()}function be(e,t){return e.writeBlockPromise=e.writeBlockPromise.then(function(){return d(e.db,e.uuid,t)}).then(function(){We(0,10)===0&&j(e.db,e.options.idb.ttl)}),e.writeBlockPromise}function Se(e,t,r){e.messagesCallbackTime=r,e.messagesCallback=t,_t(e)}function Jt(){if(re)return!1;var e=s();return!!e}function Qt(e){return e.idb.fallbackInterval*2}const qt={create:me,close:Kt,onMessage:Se,postMessage:be,canBeUsed:Jt,type:Vt,averageResponseTime:Qt,microSeconds:Zt};var Ze=ye,Ye="pubkey.broadcastChannel-",B="localstorage";function we(){var e;if(typeof window>"u")return null;try{e=window.localStorage,e=window["ie8-eventlistener/storage"]||window.localStorage}catch{}return e}function he(e){return Ye+e}function Ve(e,t){return new Promise(function(r){Ge().then(function(){var a=he(e.channelName),o={token:de(),time:new Date().getTime(),data:t,uuid:e.uuid},f=JSON.stringify(o);we().setItem(a,f);var v=document.createEvent("Event");v.initEvent("storage",!0,!0),v.key=a,v.newValue=f,window.dispatchEvent(v),r()})})}function en(e,t){var r=he(e),a=function(f){f.key===r&&t(JSON.parse(f.newValue))};return window.addEventListener("storage",a),a}function tn(e){window.removeEventListener("storage",e)}function nn(e,t){if(t=$e(t),!H())throw new Error("BroadcastChannel: localstorage cannot be used");var r=de(),a=new Et(t.localstorage.removeTimeout),o={channelName:e,uuid:r,eMIs:a};return o.listener=en(e,function(f){!o.messagesCallback||f.uuid!==r&&(!f.token||a.has(f.token)||f.data.time&&f.data.time<o.messagesCallbackTime||(a.add(f.token),o.messagesCallback(f.data)))}),o}function rn(e){tn(e.listener)}function yt(e,t,r){e.messagesCallbackTime=r,e.messagesCallback=t}function H(){if(re)return!1;var e=we();if(!e)return!1;try{var t="__broadcastchannel_check";e.setItem(t,"works"),e.removeItem(t)}catch{return!1}return!0}function Xe(){var e=120,t=navigator.userAgent.toLowerCase();return t.includes("safari")&&!t.includes("chrome")?e*2:e}const Ke={create:nn,close:rn,onMessage:yt,postMessage:Ve,canBeUsed:H,type:B,averageResponseTime:Xe,microSeconds:Ze};var Je=ye,an="simulate",Qe=new Set;function on(e){var t={name:e,messagesCallback:null};return Qe.add(t),t}function At(e){Qe.delete(e)}function qe(e,t){return new Promise(function(r){return setTimeout(function(){var a=Array.from(Qe);a.filter(function(o){return o.name===e.name}).filter(function(o){return o!==e}).filter(function(o){return!!o.messagesCallback}).forEach(function(o){return o.messagesCallback(t)}),r()},5)})}function y(e,t){e.messagesCallback=t}function bt(){return!0}function A(){return 5}const St={create:on,close:At,onMessage:y,postMessage:qe,canBeUsed:bt,type:an,averageResponseTime:A,microSeconds:Je};var T=[jt,qt,Ke];if(re){var oe=m(68211);typeof oe.canBeUsed=="function"&&T.push(oe)}function et(e){var t=[].concat(e.methods,T).filter(Boolean);if(e.type){if(e.type==="simulate")return St;var r=t.find(function(o){return o.type===e.type});if(r)return r;throw new Error("method-type "+e.type+" not found")}!e.webWorkerSupport&&!re&&(t=t.filter(function(o){return o.type!=="idb"}));var a=t.find(function(o){return o.canBeUsed()});if(a)return a;throw new Error("No useable methode found:"+JSON.stringify(T.map(function(o){return o.type})))}var Me=function(t,r){this.name=t,Ie&&(r=Ie),this.options=$e(r),this.method=et(this.options),this._iL=!1,this._onML=null,this._addEL={message:[],internal:[]},this._uMP=new Set,this._befC=[],this._prepP=null,X(this)};Me._pubkey=!0;function wt(e){e=fillOptionsWithDefaults(e);var t=chooseMethod(e);return t.type==="node"?t.clearNodeFolder().then(function(){return!0}):Promise.resolve(!1)}var Ie;function sn(e){Ie=e}Me.prototype={postMessage:function(t){if(this.closed)throw new Error("BroadcastChannel.postMessage(): Cannot post message after channel has closed");return V(this,"message",t)},postInternal:function(t){return V(this,"internal",t)},set onmessage(e){var t=this.method.microSeconds(),r={time:t,fn:e};K(this,"message",this._onML),e&&typeof e=="function"?(this._onML=r,Le(this,"message",r)):this._onML=null},addEventListener:function(t,r){var a=this.method.microSeconds(),o={time:a,fn:r};Le(this,t,o)},removeEventListener:function(t,r){var a=this._addEL[t].find(function(o){return o.fn===r});K(this,t,a)},close:function(){var t=this;if(!this.closed){this.closed=!0;var r=this._prepP?this._prepP:Promise.resolve();return this._onML=null,this._addEL.message=[],r.then(function(){return Promise.all(Array.from(t._uMP))}).then(function(){return Promise.all(t._befC.map(function(a){return a()}))}).then(function(){return t.method.close(t._state)})}},get type(){return this.method.type},get isClosed(){return this.closed}};function V(e,t,r){var a=e.method.microSeconds(),o={time:a,type:t,data:r},f=e._prepP?e._prepP:Promise.resolve();return f.then(function(){var v=e.method.postMessage(e._state,o);return e._uMP.add(v),v.catch().then(function(){return e._uMP.delete(v)}),v})}function X(e){var t=e.method.create(e.name,e.options);_e(t)?(e._prepP=t,t.then(function(r){e._state=r})):e._state=t}function Re(e){return e._addEL.message.length>0||e._addEL.internal.length>0}function Le(e,t,r){e._addEL[t].push(r),Oe(e)}function K(e,t,r){e._addEL[t]=e._addEL[t].filter(function(a){return a!==r}),Ce(e)}function Oe(e){if(!e._iL&&Re(e)){var t=function(o){e._addEL[o.type].forEach(function(f){o.time>=f.time&&f.fn(o.data)})},r=e.method.microSeconds();e._prepP?e._prepP.then(function(){e._iL=!0,e.method.onMessage(e._state,t,r)}):(e._iL=!0,e.method.onMessage(e._state,t,r))}}function Ce(e){if(e._iL&&!Re(e)){e._iL=!1;var t=e.method.microSeconds();e.method.onMessage(e._state,null,t)}}var Mt=m(66393);class tt{get messages$(){return this._messages$}constructor(t,r){this._ngZone=r;const a=new q.x;this._messages$=a.pipe(this._runInZone(this._ngZone)),this._broadcastChannel=new Me(t),this._broadcastChannel.onmessage=o=>a.next(o)}_runInZone(t){return r=>new F.y(a=>{r.subscribe(o=>t.run(()=>a.next(o)))})}publish(t){return(0,Mt.D)(this._broadcastChannel.postMessage(t))}}class ie{constructor(t){this._ngZone=t}createInstance(t){return new tt(t,this._ngZone)}}ie.\u0275fac=function(t){return new(t||ie)(E.LFG(E.R0b))},ie.\u0275prov=E.Yz7({token:ie,factory:ie.\u0275fac,providedIn:"root"});class nt{static toColdObservable(t){return new F.y(r=>{t().subscribe(o=>{r.next(o),r.complete()})})}}class ${log(t,r,...a){console.log(t,...a)}warn(t,r,...a){console.warn(t,...a)}error(t,r,...a){console.error(t,...a)}exception(t,r,...a){(console.exception||console.error)(t,...a)}}$.\u0275fac=function(t){return new(t||$)},$.\u0275prov=E.Yz7({token:$,factory:$.\u0275fac});const se={dataAccess:"data-access",feature:"feature",ui:"ui",util:"util",components:"components",deprecated:"deprecated"},ue={studioFree:"studio-free",studioEnterprise:"studio-enterprise",sdk:"sdk"},rt=new E.OlP("Represents a default registration instance"),at=new E.OlP("Represents the factories registration map");class Y{constructor(t,r,a=null){this._injector=t,this._registrationMap=r,this._defaultInstanceType=a}_getDefaultInstance(){return this._defaultInstanceType&&this._injector.get(this._defaultInstanceType)}_getInstanceByType(t){if(this._registrationMap.has(t)){const r=this._registrationMap.get(t);return this._injector.get(r)}}_getInstanceByPredicate(t){for(const[r,a]of this._registrationMap)if(typeof r=="function"&&r(t))return this._injector.get(a)}create(t=null){var r,a;return t==null?this._getDefaultInstance():(a=(r=this._getInstanceByType(t))!==null&&r!==void 0?r:this._getInstanceByPredicate(t))!==null&&a!==void 0?a:this._getDefaultInstance()}}Y.\u0275fac=function(t){return new(t||Y)(E.LFG(E.zs3),E.LFG(at),E.LFG(rt,8))},Y.\u0275prov=E.Yz7({token:Y,factory:Y.\u0275fac,providedIn:"root"});class ot{static _createMappings(t){const r=new Map;return t=t??[],t.forEach(({predicate:a,injectable:o})=>{r.set(a,o)}),r}static create(t){const{mappings:r,default:a,token:o}=t??{};return{provide:o,useFactory:f=>{const v=this._createMappings(r);return new Y(f,v,a)},deps:[E.zs3]}}}class It{setNext(t){return this.nextHandler=t,t}handle(t){if(this.nextHandler)return this.nextHandler.handle(t)}}var ve=m(84829),Ne=m(78910);function z(e){return Array.isArray(e)?e:[e]}function ce(e,t){return t.forEach(({replaceMacros:r,replaceValue:a})=>{e=e.map(o=>o===r?a??"":o)}),e}function it(e,t){if(!e)return"";if(!t)return e;let r=[e];return t=z(t),r=De(r,t),r=ce(r,t),r.join("")}function De(e,t){if(!e)return[];let r=z(e);if(!t)return r;const a=z(t),o=a.map(({replaceMacros:f})=>f);return a.forEach(({searchValue:f,replaceMacros:v})=>{if(f&&v){const S=new RegExp(`(${v})`,"g"),l=r.map(n=>o.includes(n)?n:n.split(f).join(v).split(S));r=(0,Ne.Z)(l)}}),r}var dn=m(78320);function J(e){return function(t){Reflect.defineMetadata("requestType",e.requestType,t)}}var un=m(86811),cn=m(26903),b=m(98168),le=m(65598),ln=m(61528);function Rt(e){return t=>{const r=t.pipe((0,cn.B)()),a=r.pipe((0,b.b)(e),(0,le.q)(1));return(0,un.z)(a,r)}}function st(e){return t=>t.pipe((0,ln.w)((r,a)=>e(r,a).pipe((0,lt.U)(o=>[r,o]))))}function Lt(e){return t=>new F.y(r=>{const a=v=>e.run(()=>r.next(v)),o=v=>e.run(()=>r.error(v)),f=()=>e.run(()=>r.complete());return t.subscribe(a,o,f)})}var Pe=m(89387);class Ot{static initialize(){Pe.config({disableDefaultAlphabetLength:!0,disableDefaultIdLength:!0,idLength:7}),Pe.characters("0123456789abcdefghijklmnopqrstuvwxyz")}static generateUnique(t,r="",a="_"){const o=new RegExp(`^${r}`);return r+t.replace(o,"")+a+Pe.generate()}}Ot.initialize();const xe=new E.OlP("An abstraction over window.navigator object",{factory:()=>window.navigator,providedIn:"root"});function ut(e,t){e=e.replace(/^#/,""),e.length===3&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]);let[r,a,o]=e.match(/.{2}/g);[r,a,o]=[parseInt(r,16),parseInt(a,16),parseInt(o,16)];const f=(r.length<2?"0":"")+r,v=(a.length<2?"0":"")+a,S=(o.length<2?"0":"")+o;return`rgba(${f},${v},${S},${t})`}const Ct=new E.OlP("WindowToken",{providedIn:"root",factory:G});function G(){return window}const ct={provide:Ct,useFactory:G};var Nt=m(94168);class Q{constructor(t){this._injector=t}defineComponent(t,r,a=null){const o=(0,Nt.iD)(r,{injector:a||this._injector});customElements.get(t)||customElements.define(t,o)}}Q.\u0275fac=function(t){return new(t||Q)(E.LFG(E.zs3))},Q.\u0275prov=E.Yz7({token:Q,factory:Q.\u0275fac,providedIn:"root"})},81916:(Pt,N,m)=>{"use strict";m.d(N,{I:()=>O,s:()=>q});var ge=m(75378),E=m.n(ge);function O(F,ee=0){return Math.floor(Math.random()*(F-ee))+ee}function q(F){ge.ValidationUtilities.checkArrayEmpty("array",F);const ee=O(F.length);return F[ee]}},23358:function(Pt){/*! @license DOMPurify 2.4.5 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.4.5/LICENSE */(function(N,m){Pt.exports=m()})(this,function(){"use strict";function N(s){return N=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},N(s)}function m(s,c){return m=Object.setPrototypeOf||function(h,_){return h.__proto__=_,h},m(s,c)}function ge(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function E(s,c,d){return ge()?E=Reflect.construct:E=function(_,W,Z){var j=[null];j.push.apply(j,W);var me=Function.bind.apply(_,j),ae=new me;return Z&&m(ae,Z.prototype),ae},E.apply(null,arguments)}function O(s){return q(s)||F(s)||ee(s)||lt()}function q(s){if(Array.isArray(s))return ke(s)}function F(s){if(typeof Symbol<"u"&&s[Symbol.iterator]!=null||s["@@iterator"]!=null)return Array.from(s)}function ee(s,c){if(!!s){if(typeof s=="string")return ke(s,c);var d=Object.prototype.toString.call(s).slice(8,-1);if(d==="Object"&&s.constructor&&(d=s.constructor.name),d==="Map"||d==="Set")return Array.from(s);if(d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return ke(s,c)}}function ke(s,c){(c==null||c>s.length)&&(c=s.length);for(var d=0,h=new Array(c);d<c;d++)h[d]=s[d];return h}function lt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var xt=Object.hasOwnProperty,Fe=Object.setPrototypeOf,kt=Object.isFrozen,te=Object.getPrototypeOf,Ft=Object.getOwnPropertyDescriptor,M=Object.freeze,D=Object.seal,Ue=Object.create,Be=typeof Reflect<"u"&&Reflect,fe=Be.apply,Ee=Be.construct;fe||(fe=function(c,d,h){return c.apply(d,h)}),M||(M=function(c){return c}),D||(D=function(c){return c}),Ee||(Ee=function(c,d){return E(c,O(d))});var ft=P(Array.prototype.forEach),dt=P(Array.prototype.pop),ne=P(Array.prototype.push),Te=P(String.prototype.toLowerCase),He=P(String.prototype.toString),Ut=P(String.prototype.match),U=P(String.prototype.replace),pt=P(String.prototype.indexOf),mt=P(String.prototype.trim),I=P(RegExp.prototype.test),ze=Bt(TypeError);function P(s){return function(c){for(var d=arguments.length,h=new Array(d>1?d-1:0),_=1;_<d;_++)h[_-1]=arguments[_];return fe(s,c,h)}}function Bt(s){return function(){for(var c=arguments.length,d=new Array(c),h=0;h<c;h++)d[h]=arguments[h];return Ee(s,d)}}function p(s,c,d){d=d||Te,Fe&&Fe(s,null);for(var h=c.length;h--;){var _=c[h];if(typeof _=="string"){var W=d(_);W!==_&&(kt(c)||(c[h]=W),_=W)}s[_]=!0}return s}function R(s){var c=Ue(null),d;for(d in s)fe(xt,s,[d])===!0&&(c[d]=s[d]);return c}function _e(s,c){for(;s!==null;){var d=Ft(s,c);if(d){if(d.get)return P(d.get);if(typeof d.value=="function")return P(d.value)}s=te(s)}function h(_){return console.warn("fallback value for",_),null}return h}var Ge=M(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),We=M(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),de=M(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),ht=M(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),pe=M(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),ye=M(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),re=M(["#text"]),vt=M(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),je=M(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),gt=M(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Ae=M(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Ht=D(/\{\{[\w\W]*|[\w\W]*\}\}/gm),zt=D(/<%[\w\W]*|[\w\W]*%>/gm),Gt=D(/\${[\w\W]*}/gm),Wt=D(/^data-[\-\w.\u00B7-\uFFFF]/),jt=D(/^aria-[\-\w]+$/),Et=D(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),$t=D(/^(?:\w+script|data):/i),Tt=D(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),$e=D(/^html$/i),Zt=function(){return typeof window>"u"?null:window},Yt=function(c,d){if(N(c)!=="object"||typeof c.createPolicy!="function")return null;var h=null,_="data-tt-policy-suffix";d.currentScript&&d.currentScript.hasAttribute(_)&&(h=d.currentScript.getAttribute(_));var W="dompurify"+(h?"#"+h:"");try{return c.createPolicy(W,{createHTML:function(j){return j},createScriptURL:function(j){return j}})}catch{return console.warn("TrustedTypes policy "+W+" could not be created."),null}};function x(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Zt(),c=function(n){return x(n)};if(c.version="2.4.5",c.removed=[],!s||!s.document||s.document.nodeType!==9)return c.isSupported=!1,c;var d=s.document,h=s.document,_=s.DocumentFragment,W=s.HTMLTemplateElement,Z=s.Node,j=s.Element,me=s.NodeFilter,ae=s.NamedNodeMap,Xt=ae===void 0?s.NamedNodeMap||s.MozNamedAttrMap:ae,_t=s.HTMLFormElement,Kt=s.DOMParser,be=s.trustedTypes,Se=j.prototype,Jt=_e(Se,"cloneNode"),Qt=_e(Se,"nextSibling"),qt=_e(Se,"childNodes"),Ze=_e(Se,"parentNode");if(typeof W=="function"){var Ye=h.createElement("template");Ye.content&&Ye.content.ownerDocument&&(h=Ye.content.ownerDocument)}var B=Yt(be,d),we=B?B.createHTML(""):"",he=h,Ve=he.implementation,en=he.createNodeIterator,tn=he.createDocumentFragment,nn=he.getElementsByTagName,rn=d.importNode,yt={};try{yt=R(h).documentMode?h.documentMode:{}}catch{}var H={};c.isSupported=typeof Ze=="function"&&Ve&&typeof Ve.createHTMLDocument<"u"&&yt!==9;var Xe=Ht,Ke=zt,Je=Gt,an=Wt,Qe=jt,on=$t,At=Tt,qe=Et,y=null,bt=p({},[].concat(O(Ge),O(We),O(de),O(pe),O(re))),A=null,St=p({},[].concat(O(vt),O(je),O(gt),O(Ae))),T=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),oe=null,et=null,Me=!0,wt=!0,Ie=!1,sn=!0,V=!1,X=!1,Re=!1,Le=!1,K=!1,Oe=!1,Ce=!1,Mt=!0,tt=!1,ie="user-content-",nt=!0,$=!1,se={},ue=null,rt=p({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),at=null,Y=p({},["audio","video","img","source","image","track"]),ot=null,It=p({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),ve="http://www.w3.org/1998/Math/MathML",Ne="http://www.w3.org/2000/svg",z="http://www.w3.org/1999/xhtml",ce=z,it=!1,De=null,dn=p({},[ve,Ne,z],He),J,un=["application/xhtml+xml","text/html"],cn="text/html",b,le=null,ln=h.createElement("form"),Rt=function(n){return n instanceof RegExp||n instanceof Function},st=function(n){le&&le===n||((!n||N(n)!=="object")&&(n={}),n=R(n),J=un.indexOf(n.PARSER_MEDIA_TYPE)===-1?J=cn:J=n.PARSER_MEDIA_TYPE,b=J==="application/xhtml+xml"?He:Te,y="ALLOWED_TAGS"in n?p({},n.ALLOWED_TAGS,b):bt,A="ALLOWED_ATTR"in n?p({},n.ALLOWED_ATTR,b):St,De="ALLOWED_NAMESPACES"in n?p({},n.ALLOWED_NAMESPACES,He):dn,ot="ADD_URI_SAFE_ATTR"in n?p(R(It),n.ADD_URI_SAFE_ATTR,b):It,at="ADD_DATA_URI_TAGS"in n?p(R(Y),n.ADD_DATA_URI_TAGS,b):Y,ue="FORBID_CONTENTS"in n?p({},n.FORBID_CONTENTS,b):rt,oe="FORBID_TAGS"in n?p({},n.FORBID_TAGS,b):{},et="FORBID_ATTR"in n?p({},n.FORBID_ATTR,b):{},se="USE_PROFILES"in n?n.USE_PROFILES:!1,Me=n.ALLOW_ARIA_ATTR!==!1,wt=n.ALLOW_DATA_ATTR!==!1,Ie=n.ALLOW_UNKNOWN_PROTOCOLS||!1,sn=n.ALLOW_SELF_CLOSE_IN_ATTR!==!1,V=n.SAFE_FOR_TEMPLATES||!1,X=n.WHOLE_DOCUMENT||!1,K=n.RETURN_DOM||!1,Oe=n.RETURN_DOM_FRAGMENT||!1,Ce=n.RETURN_TRUSTED_TYPE||!1,Le=n.FORCE_BODY||!1,Mt=n.SANITIZE_DOM!==!1,tt=n.SANITIZE_NAMED_PROPS||!1,nt=n.KEEP_CONTENT!==!1,$=n.IN_PLACE||!1,qe=n.ALLOWED_URI_REGEXP||qe,ce=n.NAMESPACE||z,T=n.CUSTOM_ELEMENT_HANDLING||{},n.CUSTOM_ELEMENT_HANDLING&&Rt(n.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(T.tagNameCheck=n.CUSTOM_ELEMENT_HANDLING.tagNameCheck),n.CUSTOM_ELEMENT_HANDLING&&Rt(n.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(T.attributeNameCheck=n.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),n.CUSTOM_ELEMENT_HANDLING&&typeof n.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(T.allowCustomizedBuiltInElements=n.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),V&&(wt=!1),Oe&&(K=!0),se&&(y=p({},O(re)),A=[],se.html===!0&&(p(y,Ge),p(A,vt)),se.svg===!0&&(p(y,We),p(A,je),p(A,Ae)),se.svgFilters===!0&&(p(y,de),p(A,je),p(A,Ae)),se.mathMl===!0&&(p(y,pe),p(A,gt),p(A,Ae))),n.ADD_TAGS&&(y===bt&&(y=R(y)),p(y,n.ADD_TAGS,b)),n.ADD_ATTR&&(A===St&&(A=R(A)),p(A,n.ADD_ATTR,b)),n.ADD_URI_SAFE_ATTR&&p(ot,n.ADD_URI_SAFE_ATTR,b),n.FORBID_CONTENTS&&(ue===rt&&(ue=R(ue)),p(ue,n.FORBID_CONTENTS,b)),nt&&(y["#text"]=!0),X&&p(y,["html","head","body"]),y.table&&(p(y,["tbody"]),delete oe.tbody),M&&M(n),le=n)},Lt=p({},["mi","mo","mn","ms","mtext"]),Pe=p({},["foreignobject","desc","title","annotation-xml"]),Ot=p({},["title","style","font","a","script"]),xe=p({},We);p(xe,de),p(xe,ht);var ut=p({},pe);p(ut,ye);var Ct=function(n){var i=Ze(n);(!i||!i.tagName)&&(i={namespaceURI:ce,tagName:"template"});var u=Te(n.tagName),g=Te(i.tagName);return De[n.namespaceURI]?n.namespaceURI===Ne?i.namespaceURI===z?u==="svg":i.namespaceURI===ve?u==="svg"&&(g==="annotation-xml"||Lt[g]):Boolean(xe[u]):n.namespaceURI===ve?i.namespaceURI===z?u==="math":i.namespaceURI===Ne?u==="math"&&Pe[g]:Boolean(ut[u]):n.namespaceURI===z?i.namespaceURI===Ne&&!Pe[g]||i.namespaceURI===ve&&!Lt[g]?!1:!ut[u]&&(Ot[u]||!xe[u]):!!(J==="application/xhtml+xml"&&De[n.namespaceURI]):!1},G=function(n){ne(c.removed,{element:n});try{n.parentNode.removeChild(n)}catch{try{n.outerHTML=we}catch{n.remove()}}},ct=function(n,i){try{ne(c.removed,{attribute:i.getAttributeNode(n),from:i})}catch{ne(c.removed,{attribute:null,from:i})}if(i.removeAttribute(n),n==="is"&&!A[n])if(K||Oe)try{G(i)}catch{}else try{i.setAttribute(n,"")}catch{}},Nt=function(n){var i,u;if(Le)n="<remove></remove>"+n;else{var g=Ut(n,/^[\r\n\t ]+/);u=g&&g[0]}J==="application/xhtml+xml"&&ce===z&&(n='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+n+"</body></html>");var k=B?B.createHTML(n):n;if(ce===z)try{i=new Kt().parseFromString(k,J)}catch{}if(!i||!i.documentElement){i=Ve.createDocument(ce,"template",null);try{i.documentElement.innerHTML=it?we:k}catch{}}var C=i.body||i.documentElement;return n&&u&&C.insertBefore(h.createTextNode(u),C.childNodes[0]||null),ce===z?nn.call(i,X?"html":"body")[0]:X?i.documentElement:C},Q=function(n){return en.call(n.ownerDocument||n,n,me.SHOW_ELEMENT|me.SHOW_COMMENT|me.SHOW_TEXT,null,!1)},e=function(n){return n instanceof _t&&(typeof n.nodeName!="string"||typeof n.textContent!="string"||typeof n.removeChild!="function"||!(n.attributes instanceof Xt)||typeof n.removeAttribute!="function"||typeof n.setAttribute!="function"||typeof n.namespaceURI!="string"||typeof n.insertBefore!="function"||typeof n.hasChildNodes!="function")},t=function(n){return N(Z)==="object"?n instanceof Z:n&&N(n)==="object"&&typeof n.nodeType=="number"&&typeof n.nodeName=="string"},r=function(n,i,u){!H[n]||ft(H[n],function(g){g.call(c,i,u,le)})},a=function(n){var i;if(r("beforeSanitizeElements",n,null),e(n)||I(/[\u0080-\uFFFF]/,n.nodeName))return G(n),!0;var u=b(n.nodeName);if(r("uponSanitizeElement",n,{tagName:u,allowedTags:y}),n.hasChildNodes()&&!t(n.firstElementChild)&&(!t(n.content)||!t(n.content.firstElementChild))&&I(/<[/\w]/g,n.innerHTML)&&I(/<[/\w]/g,n.textContent)||u==="select"&&I(/<template/i,n.innerHTML))return G(n),!0;if(!y[u]||oe[u]){if(!oe[u]&&f(u)&&(T.tagNameCheck instanceof RegExp&&I(T.tagNameCheck,u)||T.tagNameCheck instanceof Function&&T.tagNameCheck(u)))return!1;if(nt&&!ue[u]){var g=Ze(n)||n.parentNode,k=qt(n)||n.childNodes;if(k&&g)for(var C=k.length,L=C-1;L>=0;--L)g.insertBefore(Jt(k[L],!0),Qt(n))}return G(n),!0}return n instanceof j&&!Ct(n)||(u==="noscript"||u==="noembed")&&I(/<\/no(script|embed)/i,n.innerHTML)?(G(n),!0):(V&&n.nodeType===3&&(i=n.textContent,i=U(i,Xe," "),i=U(i,Ke," "),i=U(i,Je," "),n.textContent!==i&&(ne(c.removed,{element:n.cloneNode()}),n.textContent=i)),r("afterSanitizeElements",n,null),!1)},o=function(n,i,u){if(Mt&&(i==="id"||i==="name")&&(u in h||u in ln))return!1;if(!(wt&&!et[i]&&I(an,i))){if(!(Me&&I(Qe,i))){if(!A[i]||et[i]){if(!(f(n)&&(T.tagNameCheck instanceof RegExp&&I(T.tagNameCheck,n)||T.tagNameCheck instanceof Function&&T.tagNameCheck(n))&&(T.attributeNameCheck instanceof RegExp&&I(T.attributeNameCheck,i)||T.attributeNameCheck instanceof Function&&T.attributeNameCheck(i))||i==="is"&&T.allowCustomizedBuiltInElements&&(T.tagNameCheck instanceof RegExp&&I(T.tagNameCheck,u)||T.tagNameCheck instanceof Function&&T.tagNameCheck(u))))return!1}else if(!ot[i]){if(!I(qe,U(u,At,""))){if(!((i==="src"||i==="xlink:href"||i==="href")&&n!=="script"&&pt(u,"data:")===0&&at[n])){if(!(Ie&&!I(on,U(u,At,"")))){if(u)return!1}}}}}}return!0},f=function(n){return n.indexOf("-")>0},v=function(n){var i,u,g,k;r("beforeSanitizeAttributes",n,null);var C=n.attributes;if(!!C){var L={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:A};for(k=C.length;k--;){i=C[k];var Dt=i,w=Dt.name,fn=Dt.namespaceURI;if(u=w==="value"?i.value:mt(i.value),g=b(w),L.attrName=g,L.attrValue=u,L.keepAttr=!0,L.forceKeepAttr=void 0,r("uponSanitizeAttribute",n,L),u=L.attrValue,!L.forceKeepAttr&&(ct(w,n),!!L.keepAttr)){if(!sn&&I(/\/>/i,u)){ct(w,n);continue}V&&(u=U(u,Xe," "),u=U(u,Ke," "),u=U(u,Je," "));var pn=b(n.nodeName);if(!!o(pn,g,u)){if(tt&&(g==="id"||g==="name")&&(ct(w,n),u=ie+u),B&&N(be)==="object"&&typeof be.getAttributeType=="function"&&!fn)switch(be.getAttributeType(pn,g)){case"TrustedHTML":u=B.createHTML(u);break;case"TrustedScriptURL":u=B.createScriptURL(u);break}try{fn?n.setAttributeNS(fn,w,u):n.setAttribute(w,u),dt(c.removed)}catch{}}}}r("afterSanitizeAttributes",n,null)}},S=function l(n){var i,u=Q(n);for(r("beforeSanitizeShadowDOM",n,null);i=u.nextNode();)r("uponSanitizeShadowNode",i,null),!a(i)&&(i.content instanceof _&&l(i.content),v(i));r("afterSanitizeShadowDOM",n,null)};return c.sanitize=function(l){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i,u,g,k,C;if(it=!l,it&&(l="<!-->"),typeof l!="string"&&!t(l)){if(typeof l.toString!="function")throw ze("toString is not a function");if(l=l.toString(),typeof l!="string")throw ze("dirty is not a string, aborting")}if(!c.isSupported){if(N(s.toStaticHTML)==="object"||typeof s.toStaticHTML=="function"){if(typeof l=="string")return s.toStaticHTML(l);if(t(l))return s.toStaticHTML(l.outerHTML)}return l}if(Re||st(n),c.removed=[],typeof l=="string"&&($=!1),$){if(l.nodeName){var L=b(l.nodeName);if(!y[L]||oe[L])throw ze("root node is forbidden and cannot be sanitized in-place")}}else if(l instanceof Z)i=Nt("<!---->"),u=i.ownerDocument.importNode(l,!0),u.nodeType===1&&u.nodeName==="BODY"||u.nodeName==="HTML"?i=u:i.appendChild(u);else{if(!K&&!V&&!X&&l.indexOf("<")===-1)return B&&Ce?B.createHTML(l):l;if(i=Nt(l),!i)return K?null:Ce?we:""}i&&Le&&G(i.firstChild);for(var Dt=Q($?l:i);g=Dt.nextNode();)g.nodeType===3&&g===k||a(g)||(g.content instanceof _&&S(g.content),v(g),k=g);if(k=null,$)return l;if(K){if(Oe)for(C=tn.call(i.ownerDocument);i.firstChild;)C.appendChild(i.firstChild);else C=i;return(A.shadowroot||A.shadowrootmod)&&(C=rn.call(d,C,!0)),C}var w=X?i.outerHTML:i.innerHTML;return X&&y["!doctype"]&&i.ownerDocument&&i.ownerDocument.doctype&&i.ownerDocument.doctype.name&&I($e,i.ownerDocument.doctype.name)&&(w="<!DOCTYPE "+i.ownerDocument.doctype.name+`>
`+w),V&&(w=U(w,Xe," "),w=U(w,Ke," "),w=U(w,Je," ")),B&&Ce?B.createHTML(w):w},c.setConfig=function(l){st(l),Re=!0},c.clearConfig=function(){le=null,Re=!1},c.isValidAttribute=function(l,n,i){le||st({});var u=b(l),g=b(n);return o(u,g,i)},c.addHook=function(l,n){typeof n=="function"&&(H[l]=H[l]||[],ne(H[l],n))},c.removeHook=function(l){if(H[l])return dt(H[l])},c.removeHooks=function(l){H[l]&&(H[l]=[])},c.removeAllHooks=function(){H={}},c}var Vt=x();return Vt})},68211:()=>{}}]);
