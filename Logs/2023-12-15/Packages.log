2023-12-15 12:11:45,601 Operation [Build] started
2023-12-15 12:12:56,270 Operation [Build] took 70 s 669 ms
2023-12-15 12:30:51,185 Operation [Build] started
2023-12-15 12:32:39,708 Operation [Build] took 108 s 522 ms
2023-12-15 12:39:46,726 Operation [Build] started
2023-12-15 12:40:55,178 Operation [Build] took 68 s 452 ms
2023-12-15 13:05:04,862 InstallError: Custom.UsrCampaign1 (444f10a6-fc6b-4c71-8f11-9da1cceb8a0c)
System.ArgumentNullException: Value cannot be null. (Parameter 'type')
   at System.Activator.CreateInstance(Type type, Boolean nonPublic, Boolean wrapExceptions)
   at Terrasoft.Core.Campaign.FlowElementCollection.CreateItemInstance(String typeName)
   at Terrasoft.Core.Process.BaseProcessSchemaFactoryMetaItemCollection`1.CreateItem(DataReader reader)
   at Terrasoft.Core.Process.BaseProcessSchemaFactoryMetaItemCollection`1.ReadMetaData(DataReader reader)
   at Terrasoft.Core.Campaign.CampaignSchema.ApplyMetaDataValue(DataReader reader)
   at Terrasoft.Core.MetaItem.ReadMetaData(DataReader reader)
   at Terrasoft.Core.MetaDataSerializer.Deserialize(Func`1 getReader, Boolean useRuntimeSchema)+MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at Terrasoft.Core.SchemaManager`1.DeserializeSchemaManagerItem(Stream metaData, UserConnection userConnection)
   at Terrasoft.Core.SchemaManager`1.DeriveSchemaManagerItem(UserConnection userConnection, EntityCollection orderedSchemas)
   at Terrasoft.Core.Process.BaseProcessSchemaManager`1.DeriveSchemaManagerItem(UserConnection userConnection, EntityCollection schemas)
   at Terrasoft.Core.SchemaManager`1.GetItemFromMetaData(Guid schemaUId, UserConnection userConnection, Boolean usePackageHierarchy, Guid sysPackageId, Nullable`1 workspaceId, Nullable`1 excludeSchemaUId, Boolean ignoreUserProperties, Boolean reinitializeLocalizableValues)
   at Terrasoft.Core.Process.BaseProcessSchemaManager`1.GetItemFromMetaData(Guid schemaUId, UserConnection userConnection, Boolean usePackageHierarchy, Guid sysPackageId, Nullable`1 workspaceId, Nullable`1 excludeSchemaUId)
   at Terrasoft.Core.SchemaManager`1.GetItemFromMetaData(Guid schemaUId, UserConnection userConnection, Nullable`1 workspaceId)
   at Terrasoft.Core.SchemaManager`1.Terrasoft.Core.ISchemaManager.GetItemFromMetaData(Guid sysSchemaUId, UserConnection userConnection)
   at Terrasoft.Core.Packages.PackageInstallUtilities.InstallSchemaAssociatedData(Guid schemaId, SchemaDescriptor schemaDescriptor, Boolean continueIfError)
2023-12-15 18:54:15,662 InstallError: Custom.UsrCampaign1 (444f10a6-fc6b-4c71-8f11-9da1cceb8a0c)
System.ArgumentNullException: Value cannot be null. (Parameter 'type')
   at System.Activator.CreateInstance(Type type, Boolean nonPublic, Boolean wrapExceptions)
   at Terrasoft.Core.Campaign.FlowElementCollection.CreateItemInstance(String typeName)
   at Terrasoft.Core.Process.BaseProcessSchemaFactoryMetaItemCollection`1.CreateItem(DataReader reader)
   at Terrasoft.Core.Process.BaseProcessSchemaFactoryMetaItemCollection`1.ReadMetaData(DataReader reader)
   at Terrasoft.Core.Campaign.CampaignSchema.ApplyMetaDataValue(DataReader reader)
   at Terrasoft.Core.MetaItem.ReadMetaData(DataReader reader)
   at Terrasoft.Core.MetaDataSerializer.Deserialize(Func`1 getReader, Boolean useRuntimeSchema)+MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at Terrasoft.Core.SchemaManager`1.DeserializeSchemaManagerItem(Stream metaData, UserConnection userConnection)
   at Terrasoft.Core.SchemaManager`1.DeriveSchemaManagerItem(UserConnection userConnection, EntityCollection orderedSchemas)
   at Terrasoft.Core.Process.BaseProcessSchemaManager`1.DeriveSchemaManagerItem(UserConnection userConnection, EntityCollection schemas)
   at Terrasoft.Core.SchemaManager`1.GetItemFromMetaData(Guid schemaUId, UserConnection userConnection, Boolean usePackageHierarchy, Guid sysPackageId, Nullable`1 workspaceId, Nullable`1 excludeSchemaUId, Boolean ignoreUserProperties, Boolean reinitializeLocalizableValues)
   at Terrasoft.Core.Process.BaseProcessSchemaManager`1.GetItemFromMetaData(Guid schemaUId, UserConnection userConnection, Boolean usePackageHierarchy, Guid sysPackageId, Nullable`1 workspaceId, Nullable`1 excludeSchemaUId)
   at Terrasoft.Core.SchemaManager`1.GetItemFromMetaData(Guid schemaUId, UserConnection userConnection, Nullable`1 workspaceId)
   at Terrasoft.Core.SchemaManager`1.Terrasoft.Core.ISchemaManager.GetItemFromMetaData(Guid sysSchemaUId, UserConnection userConnection)
   at Terrasoft.Core.Packages.PackageInstallUtilities.InstallSchemaAssociatedData(Guid schemaId, SchemaDescriptor schemaDescriptor, Boolean continueIfError)
2023-12-15 18:55:50,319 InstallError: .Account (25d7c1ab-1de0-4501-b402-02e0e5a72d6e)
Npgsql.PostgresException (0x80004005): 53300: sorry, too many clients already
   at Npgsql.NpgsqlConnector.DoReadMessage(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isPrependedMessage)
   at Npgsql.NpgsqlConnector.ReadMessage(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications)
   at Npgsql.NpgsqlConnector.ReadMessage(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications)
   at Npgsql.NpgsqlConnector.ReadExpecting[T](Boolean async)
   at Npgsql.NpgsqlConnector.Authenticate(String username, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.ConnectorPool.AllocateLong(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.Open(Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.Open()
   at Terrasoft.Core.DB.DBExecutor.<get_DBConnection>b__23_0()
   at Polly.Policy.<>c__DisplayClass109_0.<Execute>b__0(Context ctx, CancellationToken ct)
   at Polly.Policy.<>c__DisplayClass103_0.<NoOp>b__1(Context ctx, CancellationToken ct)
   at Polly.Policy.<>c.<NoOp>b__103_0(Action`2 action, Context context, CancellationToken cancellationToken)
   at Polly.Policy.Execute(Action`2 action, Context context, CancellationToken cancellationToken)
   at Polly.Policy.Execute(Action action)
   at Terrasoft.Core.DB.DBExecutor.get_DBConnection()
   at Terrasoft.Core.DB.DBExecutor.CreateCommand()
   at Terrasoft.Core.DB.DBExecutor.ExecuteCommandAsync[TResult](Func`2 commandExecutionCallback, Func`2 commandExecutionCallbackAsync, String sqlText, QueryParameterCollection queryParameters, CancellationToken cancellationToken, Boolean sync)
   at Terrasoft.Core.DB.DBExecutor.InternalExecuteReader(String sqlText, QueryParameterCollection queryParameters, CommandBehavior behavior, CancellationToken cancellationToken)
   at Terrasoft.DB.PostgreSql.PostgreSqlExecutor.<>c__DisplayClass41_0.<InternalExecuteReader>b__0() in /opt/buildagent/work/ApplicationCoreLinux/TSBpm/Src/Lib/Terrasoft.DB.PostgreSql/PostgreSqlExecutor.cs:line 399
   at Terrasoft.DB.PostgreSql.PostgreSqlExecutor.ExecuteInLockIfInTransaction[TResult](Func`1 action) in /opt/buildagent/work/ApplicationCoreLinux/TSBpm/Src/Lib/Terrasoft.DB.PostgreSql/PostgreSqlExecutor.cs:line 266
   at Terrasoft.DB.PostgreSql.PostgreSqlExecutor.InternalExecuteReader(String sqlText, QueryParameterCollection queryParameters, CommandBehavior behavior, CancellationToken cancellationToken) in /opt/buildagent/work/ApplicationCoreLinux/TSBpm/Src/Lib/Terrasoft.DB.PostgreSql/PostgreSqlExecutor.cs:line 388
   at Terrasoft.Core.DB.DBExecutor.InternalExecuteReader(String sqlText, QueryParameterCollection queryParameters)
   at Terrasoft.Core.DB.QueryExecutor.ExecuteReader(String sqlText, QueryParameterCollection parameters, Action`1 readAction)
   at Terrasoft.Core.ResourceProviders.SchemaHierarchyReader.ReadSchemaHierarchy(String sqlText, QueryParameterCollection parameters)
   at Terrasoft.Core.SchemaResourceManager.LoadRuntimeResourcesForSchema(Dictionary`2 localResourceSets)
   at Terrasoft.Core.SchemaResourceManager.InternalGetResourceSet(CultureInfo cultureInfo, Boolean createIfNotExists, Boolean tryParents)
   at Terrasoft.Core.SchemaResourceManager.GetString(String name, CultureInfo culture)
   at Terrasoft.Common.LocalizableValue`1.GetCultureValue(CultureInfo culture, Boolean throwIfNoManager, Boolean useCultureFallback) in /opt/buildagent/work/ApplicationCoreLinux/TSBpm/Src/Lib/Terrasoft.Common/LocalizableValue.cs:line 323
   at Terrasoft.Common.LocalizableValue`1.LoadCultureValues(IEnumerable`1 culturesInfo) in /opt/buildagent/work/ApplicationCoreLinux/TSBpm/Src/Lib/Terrasoft.Common/LocalizableValue.cs:line 357
   at Terrasoft.Core.Schema.LoadLocalizableValues(IEnumerable`1 culturesInfo)
   at Terrasoft.Core.Entities.EntitySchema.LoadLocalizableValues(IEnumerable`1 culturesInfo)
   at Terrasoft.Core.MetaItem.ReadMetaData(DataReader reader)
   at Terrasoft.Core.Entities.EntitySchema.ReadMetaData(DataReader reader)
   at Terrasoft.Core.MetaDataSerializer.Deserialize(Func`1 getReader, Boolean useRuntimeSchema)+MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at Terrasoft.Core.SchemaManager`1.DeserializeSchemaManagerItem(Stream metaData, UserConnection userConnection)
   at Terrasoft.Core.SchemaManager`1.DeriveSchemaManagerItem(UserConnection userConnection, EntityCollection orderedSchemas)
   at Terrasoft.Core.SchemaManager`1.GetItemFromMetaData(Guid schemaUId, UserConnection userConnection, Boolean usePackageHierarchy, Guid sysPackageId, Nullable`1 workspaceId, Nullable`1 excludeSchemaUId, Boolean ignoreUserProperties, Boolean reinitializeLocalizableValues)
   at Terrasoft.Core.SchemaManager`1.GetItemFromMetaData(Guid schemaUId, UserConnection userConnection, Boolean usePackageHierarchy, Guid sysPackageId, Nullable`1 workspaceId, Nullable`1 excludeSchemaUId)
   at Terrasoft.Core.SchemaManager`1.GetItemFromMetaData(Guid schemaUId, UserConnection userConnection, Nullable`1 workspaceId)
   at Terrasoft.Core.Entities.EntityBackReferencePropertiesGenerator.GetReferenceSchemaForColumn(EntitySchemaColumn column)
   at Terrasoft.Core.Entities.EntityBackReferencePropertiesGenerator.AddPropertiesFromLookupColumn(EntitySchemaColumn column, Collection`1 columnProperties)
   at Terrasoft.Core.Entities.EntityBackReferencePropertiesGenerator.AddProperties(SchemaCodeGeneratorResource`1 resource, Collection`1 columnProperties)
   at Terrasoft.Core.Entities.EntityBackReferencePropertiesGenerator.WriteSchemaClassBody(GeneratorContext context, SchemaCodeGeneratorResource`1 resource, GeneratorTokenVisibility sourceVisibility)
   at Terrasoft.Core.CodeGeneration.SchemaCodeGenerator`1.GenerateSourceCode(SchemaCodeGeneratorResource`1 resource, TextWriter streamWriter, Action`3 action)
   at Terrasoft.Core.Entities.EntityBackReferencePropertiesGenerator.GenerateSources(SchemaCodeGeneratorResource`1 resource)
   at Terrasoft.Core.Packages.PackageInstallUtilities.GenerateSchemaAdditionalSource(Guid schemaId, Guid schemaUId, String schemaName, Boolean continueIfError)
2023-12-15 18:55:50,319 InstallError: .BulkEmailCountLimit (635902af-649c-4b18-a2d3-d6abdf0a5b29)
Npgsql.PostgresException (0x80004005): 53300: sorry, too many clients already
   at Npgsql.NpgsqlConnector.DoReadMessage(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isPrependedMessage)
   at Npgsql.NpgsqlConnector.ReadMessage(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications)
   at Npgsql.NpgsqlConnector.ReadMessage(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications)
   at Npgsql.NpgsqlConnector.ReadExpecting[T](Boolean async)
   at Npgsql.NpgsqlConnector.Authenticate(String username, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.ConnectorPool.AllocateLong(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.Open(Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.Open()
   at Terrasoft.Core.DB.DBExecutor.<get_DBConnection>b__23_0()
   at Polly.Policy.<>c__DisplayClass109_0.<Execute>b__0(Context ctx, CancellationToken ct)
   at Polly.Policy.<>c__DisplayClass103_0.<NoOp>b__1(Context ctx, CancellationToken ct)
   at Polly.Policy.<>c.<NoOp>b__103_0(Action`2 action, Context context, CancellationToken cancellationToken)
   at Polly.Policy.Execute(Action`2 action, Context context, CancellationToken cancellationToken)
   at Polly.Policy.Execute(Action action)
   at Terrasoft.Core.DB.DBExecutor.get_DBConnection()
   at Terrasoft.Core.DB.DBExecutor.CreateCommand()
   at Terrasoft.Core.DB.DBExecutor.ExecuteCommandAsync[TResult](Func`2 commandExecutionCallback, Func`2 commandExecutionCallbackAsync, String sqlText, QueryParameterCollection queryParameters, CancellationToken cancellationToken, Boolean sync)
   at Terrasoft.Core.DB.DBExecutor.InternalExecuteReader(String sqlText, QueryParameterCollection queryParameters, CommandBehavior behavior, CancellationToken cancellationToken)
   at Terrasoft.DB.PostgreSql.PostgreSqlExecutor.<>c__DisplayClass41_0.<InternalExecuteReader>b__0() in /opt/buildagent/work/ApplicationCoreLinux/TSBpm/Src/Lib/Terrasoft.DB.PostgreSql/PostgreSqlExecutor.cs:line 399
   at Terrasoft.DB.PostgreSql.PostgreSqlExecutor.ExecuteInLockIfInTransaction[TResult](Func`1 action) in /opt/buildagent/work/ApplicationCoreLinux/TSBpm/Src/Lib/Terrasoft.DB.PostgreSql/PostgreSqlExecutor.cs:line 266
   at Terrasoft.DB.PostgreSql.PostgreSqlExecutor.InternalExecuteReader(String sqlText, QueryParameterCollection queryParameters, CommandBehavior behavior, CancellationToken cancellationToken) in /opt/buildagent/work/ApplicationCoreLinux/TSBpm/Src/Lib/Terrasoft.DB.PostgreSql/PostgreSqlExecutor.cs:line 388
   at Terrasoft.Core.DB.DBExecutor.InternalExecuteReader(String sqlText, QueryParameterCollection queryParameters)
   at Terrasoft.Core.DB.Select.ExecuteReaderAsync(DBExecutor dbExecutor, Boolean sync)
   at Terrasoft.Core.DB.Select.ExecuteReader(DBExecutor dbExecutor)
   at Terrasoft.Core.DB.Select.ExecuteReaderAsync(ExecuteReaderReadMethod readMethod, Boolean sync)
   at Terrasoft.Core.DB.Select.ExecuteReader(ExecuteReaderReadMethod readMethod)
   at Terrasoft.Core.Entities.EntityBackReferencePropertiesGenerator.GetPropertyCollection(Guid resourceSchemaId)
   at Terrasoft.Core.Entities.EntityBackReferencePropertiesGenerator.WriteSchemaClassBody(GeneratorContext context, SchemaCodeGeneratorResource`1 resource, GeneratorTokenVisibility sourceVisibility)
   at Terrasoft.Core.CodeGeneration.SchemaCodeGenerator`1.GenerateSourceCode(SchemaCodeGeneratorResource`1 resource, TextWriter streamWriter, Action`3 action)
   at Terrasoft.Core.Entities.EntityBackReferencePropertiesGenerator.GenerateSources(SchemaCodeGeneratorResource`1 resource)
   at Terrasoft.Core.Packages.PackageInstallUtilities.GenerateSchemaAdditionalSource(Guid schemaId, Guid schemaUId, String schemaName, Boolean continueIfError)
2023-12-15 18:55:50,319 InstallError: .BulkEmailQueueOp (a1dda178-78c0-4f78-80a1-a3ea8a1967b6)
Npgsql.PostgresException (0x80004005): 53300: sorry, too many clients already
   at Npgsql.NpgsqlConnector.DoReadMessage(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isPrependedMessage)
   at Npgsql.NpgsqlConnector.ReadMessage(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications)
   at Npgsql.NpgsqlConnector.ReadMessage(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications)
   at Npgsql.NpgsqlConnector.ReadExpecting[T](Boolean async)
   at Npgsql.NpgsqlConnector.Authenticate(String username, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.ConnectorPool.AllocateLong(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.Open(Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.Open()
   at Terrasoft.Core.DB.DBExecutor.<get_DBConnection>b__23_0()
   at Polly.Policy.<>c__DisplayClass109_0.<Execute>b__0(Context ctx, CancellationToken ct)
   at Polly.Policy.<>c__DisplayClass103_0.<NoOp>b__1(Context ctx, CancellationToken ct)
   at Polly.Policy.<>c.<NoOp>b__103_0(Action`2 action, Context context, CancellationToken cancellationToken)
   at Polly.Policy.Execute(Action`2 action, Context context, CancellationToken cancellationToken)
   at Polly.Policy.Execute(Action action)
   at Terrasoft.Core.DB.DBExecutor.get_DBConnection()
   at Terrasoft.Core.DB.DBExecutor.CreateCommand()
   at Terrasoft.Core.DB.DBExecutor.ExecuteCommandAsync[TResult](Func`2 commandExecutionCallback, Func`2 commandExecutionCallbackAsync, String sqlText, QueryParameterCollection queryParameters, CancellationToken cancellationToken, Boolean sync)
   at Terrasoft.Core.DB.DBExecutor.InternalExecuteReader(String sqlText, QueryParameterCollection queryParameters, CommandBehavior behavior, CancellationToken cancellationToken)
   at Terrasoft.DB.PostgreSql.PostgreSqlExecutor.<>c__DisplayClass41_0.<InternalExecuteReader>b__0() in /opt/buildagent/work/ApplicationCoreLinux/TSBpm/Src/Lib/Terrasoft.DB.PostgreSql/PostgreSqlExecutor.cs:line 399
   at Terrasoft.DB.PostgreSql.PostgreSqlExecutor.ExecuteInLockIfInTransaction[TResult](Func`1 action) in /opt/buildagent/work/ApplicationCoreLinux/TSBpm/Src/Lib/Terrasoft.DB.PostgreSql/PostgreSqlExecutor.cs:line 266
   at Terrasoft.DB.PostgreSql.PostgreSqlExecutor.InternalExecuteReader(String sqlText, QueryParameterCollection queryParameters, CommandBehavior behavior, CancellationToken cancellationToken) in /opt/buildagent/work/ApplicationCoreLinux/TSBpm/Src/Lib/Terrasoft.DB.PostgreSql/PostgreSqlExecutor.cs:line 388
   at Terrasoft.Core.DB.DBExecutor.InternalExecuteReader(String sqlText, QueryParameterCollection queryParameters)
   at Terrasoft.Core.SchemaManager`1.GetParentSchemas(Guid schemaUId, UserConnection userConnection, Boolean usePackageHierarchy, Guid sysPackageId, Nullable`1 workspaceId)
   at Terrasoft.Core.SchemaManager`1.GetItemFromMetaData(Guid schemaUId, UserConnection userConnection, Boolean usePackageHierarchy, Guid sysPackageId, Nullable`1 workspaceId, Nullable`1 excludeSchemaUId, Boolean ignoreUserProperties, Boolean reinitializeLocalizableValues)
   at Terrasoft.Core.SchemaManager`1.GetItemFromMetaData(Guid schemaUId, UserConnection userConnection, Boolean usePackageHierarchy, Guid sysPackageId, Nullable`1 workspaceId, Nullable`1 excludeSchemaUId)
   at Terrasoft.Core.SchemaManager`1.GetItemFromMetaData(Guid schemaUId, UserConnection userConnection, Nullable`1 workspaceId)
   at Terrasoft.Core.Entities.EntityBackReferencePropertiesGenerator.GetReferenceSchemaForColumn(EntitySchemaColumn column)
   at Terrasoft.Core.Entities.EntityBackReferencePropertiesGenerator.AddPropertiesFromLookupColumn(EntitySchemaColumn column, Collection`1 columnProperties)
   at Terrasoft.Core.Entities.EntityBackReferencePropertiesGenerator.AddProperties(SchemaCodeGeneratorResource`1 resource, Collection`1 columnProperties)
   at Terrasoft.Core.Entities.EntityBackReferencePropertiesGenerator.WriteSchemaClassBody(GeneratorContext context, SchemaCodeGeneratorResource`1 resource, GeneratorTokenVisibility sourceVisibility)
   at Terrasoft.Core.CodeGeneration.SchemaCodeGenerator`1.GenerateSourceCode(SchemaCodeGeneratorResource`1 resource, TextWriter streamWriter, Action`3 action)
   at Terrasoft.Core.Entities.EntityBackReferencePropertiesGenerator.GenerateSources(SchemaCodeGeneratorResource`1 resource)
   at Terrasoft.Core.Packages.PackageInstallUtilities.GenerateSchemaAdditionalSource(Guid schemaId, Guid schemaUId, String schemaName, Boolean continueIfError)
2023-12-15 18:55:52,848 InstallError: .CommandParams (e2f77269-f819-46fd-8799-9d5ecef00f8e)
Npgsql.PostgresException (0x80004005): 53300: sorry, too many clients already
   at Npgsql.NpgsqlConnector.DoReadMessage(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isPrependedMessage)
   at Npgsql.NpgsqlConnector.ReadMessage(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications)
   at Npgsql.NpgsqlConnector.ReadMessage(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications)
   at Npgsql.NpgsqlConnector.ReadExpecting[T](Boolean async)
   at Npgsql.NpgsqlConnector.Authenticate(String username, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.ConnectorPool.AllocateLong(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.Open(Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.Open()
   at Terrasoft.Core.DB.DBExecutor.<get_DBConnection>b__23_0()
   at Polly.Policy.<>c__DisplayClass109_0.<Execute>b__0(Context ctx, CancellationToken ct)
   at Polly.Policy.<>c__DisplayClass103_0.<NoOp>b__1(Context ctx, CancellationToken ct)
   at Polly.Policy.<>c.<NoOp>b__103_0(Action`2 action, Context context, CancellationToken cancellationToken)
   at Polly.Policy.Execute(Action`2 action, Context context, CancellationToken cancellationToken)
   at Polly.Policy.Execute(Action action)
   at Terrasoft.Core.DB.DBExecutor.get_DBConnection()
   at Terrasoft.Core.DB.DBExecutor.CreateCommand()
   at Terrasoft.Core.DB.DBExecutor.ExecuteCommandAsync[TResult](Func`2 commandExecutionCallback, Func`2 commandExecutionCallbackAsync, String sqlText, QueryParameterCollection queryParameters, CancellationToken cancellationToken, Boolean sync)
   at Terrasoft.Core.DB.DBExecutor.InternalExecuteReader(String sqlText, QueryParameterCollection queryParameters, CommandBehavior behavior, CancellationToken cancellationToken)
   at Terrasoft.DB.PostgreSql.PostgreSqlExecutor.<>c__DisplayClass41_0.<InternalExecuteReader>b__0() in /opt/buildagent/work/ApplicationCoreLinux/TSBpm/Src/Lib/Terrasoft.DB.PostgreSql/PostgreSqlExecutor.cs:line 399
   at Terrasoft.DB.PostgreSql.PostgreSqlExecutor.ExecuteInLockIfInTransaction[TResult](Func`1 action) in /opt/buildagent/work/ApplicationCoreLinux/TSBpm/Src/Lib/Terrasoft.DB.PostgreSql/PostgreSqlExecutor.cs:line 266
   at Terrasoft.DB.PostgreSql.PostgreSqlExecutor.InternalExecuteReader(String sqlText, QueryParameterCollection queryParameters, CommandBehavior behavior, CancellationToken cancellationToken) in /opt/buildagent/work/ApplicationCoreLinux/TSBpm/Src/Lib/Terrasoft.DB.PostgreSql/PostgreSqlExecutor.cs:line 388
   at Terrasoft.Core.DB.DBExecutor.InternalExecuteReader(String sqlText, QueryParameterCollection queryParameters)
   at Terrasoft.Core.SchemaManager`1.GetParentSchemas(Guid schemaUId, UserConnection userConnection, Boolean usePackageHierarchy, Guid sysPackageId, Nullable`1 workspaceId)
   at Terrasoft.Core.SchemaManager`1.GetItemFromMetaData(Guid schemaUId, UserConnection userConnection, Boolean usePackageHierarchy, Guid sysPackageId, Nullable`1 workspaceId, Nullable`1 excludeSchemaUId, Boolean ignoreUserProperties, Boolean reinitializeLocalizableValues)
   at Terrasoft.Core.SchemaManager`1.GetItemFromMetaData(Guid schemaUId, UserConnection userConnection, Boolean usePackageHierarchy, Guid sysPackageId, Nullable`1 workspaceId, Nullable`1 excludeSchemaUId)
   at Terrasoft.Core.SchemaManager`1.GetItemFromMetaData(Guid schemaUId, UserConnection userConnection, Nullable`1 workspaceId)
   at Terrasoft.Core.Entities.EntityBackReferencePropertiesGenerator.GetReferenceSchemaForColumn(EntitySchemaColumn column)
   at Terrasoft.Core.Entities.EntityBackReferencePropertiesGenerator.AddPropertiesFromLookupColumn(EntitySchemaColumn column, Collection`1 columnProperties)
   at Terrasoft.Core.Entities.EntityBackReferencePropertiesGenerator.AddProperties(SchemaCodeGeneratorResource`1 resource, Collection`1 columnProperties)
   at Terrasoft.Core.Entities.EntityBackReferencePropertiesGenerator.WriteSchemaClassBody(GeneratorContext context, SchemaCodeGeneratorResource`1 resource, GeneratorTokenVisibility sourceVisibility)
   at Terrasoft.Core.CodeGeneration.SchemaCodeGenerator`1.GenerateSourceCode(SchemaCodeGeneratorResource`1 resource, TextWriter streamWriter, Action`3 action)
   at Terrasoft.Core.Entities.EntityBackReferencePropertiesGenerator.GenerateSources(SchemaCodeGeneratorResource`1 resource)
   at Terrasoft.Core.Packages.PackageInstallUtilities.GenerateSchemaAdditionalSource(Guid schemaId, Guid schemaUId, String schemaName, Boolean continueIfError)
2023-12-15 18:55:53,748 InstallError: .CampaignTag (d99dd125-024c-4461-ae13-8e366820c697)
Npgsql.PostgresException (0x80004005): 53300: sorry, too many clients already
   at Npgsql.NpgsqlConnector.DoReadMessage(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isPrependedMessage)
   at Npgsql.NpgsqlConnector.ReadMessage(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications)
   at Npgsql.NpgsqlConnector.ReadMessage(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications)
   at Npgsql.NpgsqlConnector.ReadExpecting[T](Boolean async)
   at Npgsql.NpgsqlConnector.Authenticate(String username, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.ConnectorPool.AllocateLong(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.Open(Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.Open()
   at Terrasoft.Core.DB.DBExecutor.<get_DBConnection>b__23_0()
   at Polly.Policy.<>c__DisplayClass109_0.<Execute>b__0(Context ctx, CancellationToken ct)
   at Polly.Policy.<>c__DisplayClass103_0.<NoOp>b__1(Context ctx, CancellationToken ct)
   at Polly.Policy.<>c.<NoOp>b__103_0(Action`2 action, Context context, CancellationToken cancellationToken)
   at Polly.Policy.Execute(Action`2 action, Context context, CancellationToken cancellationToken)
   at Polly.Policy.Execute(Action action)
   at Terrasoft.Core.DB.DBExecutor.get_DBConnection()
   at Terrasoft.Core.DB.DBExecutor.CreateCommand()
   at Terrasoft.Core.DB.DBExecutor.ExecuteCommandAsync[TResult](Func`2 commandExecutionCallback, Func`2 commandExecutionCallbackAsync, String sqlText, QueryParameterCollection queryParameters, CancellationToken cancellationToken, Boolean sync)
   at Terrasoft.Core.DB.DBExecutor.InternalExecuteReader(String sqlText, QueryParameterCollection queryParameters, CommandBehavior behavior, CancellationToken cancellationToken)
   at Terrasoft.DB.PostgreSql.PostgreSqlExecutor.<>c__DisplayClass41_0.<InternalExecuteReader>b__0() in /opt/buildagent/work/ApplicationCoreLinux/TSBpm/Src/Lib/Terrasoft.DB.PostgreSql/PostgreSqlExecutor.cs:line 399
   at Terrasoft.DB.PostgreSql.PostgreSqlExecutor.ExecuteInLockIfInTransaction[TResult](Func`1 action) in /opt/buildagent/work/ApplicationCoreLinux/TSBpm/Src/Lib/Terrasoft.DB.PostgreSql/PostgreSqlExecutor.cs:line 266
   at Terrasoft.DB.PostgreSql.PostgreSqlExecutor.InternalExecuteReader(String sqlText, QueryParameterCollection queryParameters, CommandBehavior behavior, CancellationToken cancellationToken) in /opt/buildagent/work/ApplicationCoreLinux/TSBpm/Src/Lib/Terrasoft.DB.PostgreSql/PostgreSqlExecutor.cs:line 388
   at Terrasoft.Core.DB.DBExecutor.InternalExecuteReader(String sqlText, QueryParameterCollection queryParameters)
   at Terrasoft.Core.DB.QueryExecutor.ExecuteReader(String sqlText, QueryParameterCollection parameters, Action`1 readAction)
   at Terrasoft.Core.ResourceProviders.SchemaHierarchyReader.ReadSchemaHierarchy(String sqlText, QueryParameterCollection parameters)
   at Terrasoft.Core.SchemaResourceManager.LoadRuntimeResourcesForSchema(Dictionary`2 localResourceSets)
   at Terrasoft.Core.SchemaResourceManager.InternalGetResourceSet(CultureInfo cultureInfo, Boolean createIfNotExists, Boolean tryParents)
   at Terrasoft.Core.SchemaResourceManager.GetString(String name, CultureInfo culture)
   at Terrasoft.Common.LocalizableValue`1.GetCultureValue(CultureInfo culture, Boolean throwIfNoManager, Boolean useCultureFallback) in /opt/buildagent/work/ApplicationCoreLinux/TSBpm/Src/Lib/Terrasoft.Common/LocalizableValue.cs:line 323
   at Terrasoft.Common.LocalizableValue`1.LoadCultureValues(IEnumerable`1 culturesInfo) in /opt/buildagent/work/ApplicationCoreLinux/TSBpm/Src/Lib/Terrasoft.Common/LocalizableValue.cs:line 357
   at Terrasoft.Core.Schema.LoadLocalizableValues(IEnumerable`1 culturesInfo)
   at Terrasoft.Core.Entities.EntitySchema.LoadLocalizableValues(IEnumerable`1 culturesInfo)
   at Terrasoft.Core.MetaItem.ReadMetaData(DataReader reader)
   at Terrasoft.Core.Entities.EntitySchema.ReadMetaData(DataReader reader)
   at Terrasoft.Core.MetaDataSerializer.Deserialize(Func`1 getReader, Boolean useRuntimeSchema)+MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at Terrasoft.Core.SchemaManager`1.DeserializeSchemaManagerItem(Stream metaData, UserConnection userConnection)
   at Terrasoft.Core.SchemaManager`1.DeriveSchemaManagerItem(UserConnection userConnection, EntityCollection orderedSchemas)
   at Terrasoft.Core.SchemaManager`1.GetItemFromMetaData(Guid schemaUId, UserConnection userConnection, Boolean usePackageHierarchy, Guid sysPackageId, Nullable`1 workspaceId, Nullable`1 excludeSchemaUId, Boolean ignoreUserProperties, Boolean reinitializeLocalizableValues)
   at Terrasoft.Core.SchemaManager`1.GetItemFromMetaData(Guid schemaUId, UserConnection userConnection, Boolean usePackageHierarchy, Guid sysPackageId, Nullable`1 workspaceId, Nullable`1 excludeSchemaUId)
   at Terrasoft.Core.SchemaManager`1.GetItemFromMetaData(Guid schemaUId, UserConnection userConnection, Nullable`1 workspaceId)
   at Terrasoft.Core.Entities.EntityBackReferencePropertiesGenerator.GetReferenceSchemaForColumn(EntitySchemaColumn column)
   at Terrasoft.Core.Entities.EntityBackReferencePropertiesGenerator.AddPropertiesFromLookupColumn(EntitySchemaColumn column, Collection`1 columnProperties)
   at Terrasoft.Core.Entities.EntityBackReferencePropertiesGenerator.AddProperties(SchemaCodeGeneratorResource`1 resource, Collection`1 columnProperties)
   at Terrasoft.Core.Entities.EntityBackReferencePropertiesGenerator.WriteSchemaClassBody(GeneratorContext context, SchemaCodeGeneratorResource`1 resource, GeneratorTokenVisibility sourceVisibility)
   at Terrasoft.Core.CodeGeneration.SchemaCodeGenerator`1.GenerateSourceCode(SchemaCodeGeneratorResource`1 resource, TextWriter streamWriter, Action`3 action)
   at Terrasoft.Core.Entities.EntityBackReferencePropertiesGenerator.GenerateSources(SchemaCodeGeneratorResource`1 resource)
   at Terrasoft.Core.Packages.PackageInstallUtilities.GenerateSchemaAdditionalSource(Guid schemaId, Guid schemaUId, String schemaName, Boolean continueIfError)
2023-12-15 18:55:53,793 InstallError: .CaseRuleInStage (306d12c2-6f43-4e30-9265-448e3fe36474)
Npgsql.PostgresException (0x80004005): 53300: sorry, too many clients already
   at Npgsql.NpgsqlConnector.DoReadMessage(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isPrependedMessage)
   at Npgsql.NpgsqlConnector.ReadMessage(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications)
   at Npgsql.NpgsqlConnector.ReadMessage(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications)
   at Npgsql.NpgsqlConnector.ReadExpecting[T](Boolean async)
   at Npgsql.NpgsqlConnector.Authenticate(String username, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.ConnectorPool.AllocateLong(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.Open(Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.Open()
   at Terrasoft.Core.DB.DBExecutor.<get_DBConnection>b__23_0()
   at Polly.Policy.<>c__DisplayClass109_0.<Execute>b__0(Context ctx, CancellationToken ct)
   at Polly.Policy.<>c__DisplayClass103_0.<NoOp>b__1(Context ctx, CancellationToken ct)
   at Polly.Policy.<>c.<NoOp>b__103_0(Action`2 action, Context context, CancellationToken cancellationToken)
   at Polly.Policy.Execute(Action`2 action, Context context, CancellationToken cancellationToken)
   at Polly.Policy.Execute(Action action)
   at Terrasoft.Core.DB.DBExecutor.get_DBConnection()
   at Terrasoft.Core.DB.DBExecutor.CreateCommand()
   at Terrasoft.Core.DB.DBExecutor.ExecuteCommandAsync[TResult](Func`2 commandExecutionCallback, Func`2 commandExecutionCallbackAsync, String sqlText, QueryParameterCollection queryParameters, CancellationToken cancellationToken, Boolean sync)
   at Terrasoft.DB.PostgreSql.PostgreSqlExecutor.<>c__DisplayClass43_0`1.<InternalExecuteScalar>b__0() in /opt/buildagent/work/ApplicationCoreLinux/TSBpm/Src/Lib/Terrasoft.DB.PostgreSql/PostgreSqlExecutor.cs:line 450
   at Terrasoft.DB.PostgreSql.PostgreSqlExecutor.ExecuteInLockIfInTransaction[TResult](Func`1 action) in /opt/buildagent/work/ApplicationCoreLinux/TSBpm/Src/Lib/Terrasoft.DB.PostgreSql/PostgreSqlExecutor.cs:line 266
   at Terrasoft.Core.DB.Select.ExecuteScalarAsync[TResult](Boolean sync)
   at Terrasoft.Core.SchemaManager`1.GetPackageUIdBySchemaId(Guid schemaId, UserConnection userConnection)
   at Terrasoft.Core.SchemaManager`1.DeriveSchemaManagerItem(UserConnection userConnection, EntityCollection orderedSchemas)
   at Terrasoft.Core.SchemaManager`1.GetItemFromMetaData(Guid schemaUId, UserConnection userConnection, Boolean usePackageHierarchy, Guid sysPackageId, Nullable`1 workspaceId, Nullable`1 excludeSchemaUId, Boolean ignoreUserProperties, Boolean reinitializeLocalizableValues)
   at Terrasoft.Core.SchemaManager`1.GetItemFromMetaData(Guid schemaUId, UserConnection userConnection, Boolean usePackageHierarchy, Guid sysPackageId, Nullable`1 workspaceId, Nullable`1 excludeSchemaUId)
   at Terrasoft.Core.SchemaManager`1.GetItemFromMetaData(Guid schemaUId, UserConnection userConnection, Nullable`1 workspaceId)
   at Terrasoft.Core.Entities.EntityBackReferencePropertiesGenerator.GetReferenceSchemaForColumn(EntitySchemaColumn column)
   at Terrasoft.Core.Entities.EntityBackReferencePropertiesGenerator.AddPropertiesFromLookupColumn(EntitySchemaColumn column, Collection`1 columnProperties)
   at Terrasoft.Core.Entities.EntityBackReferencePropertiesGenerator.AddProperties(SchemaCodeGeneratorResource`1 resource, Collection`1 columnProperties)
   at Terrasoft.Core.Entities.EntityBackReferencePropertiesGenerator.WriteSchemaClassBody(GeneratorContext context, SchemaCodeGeneratorResource`1 resource, GeneratorTokenVisibility sourceVisibility)
   at Terrasoft.Core.CodeGeneration.SchemaCodeGenerator`1.GenerateSourceCode(SchemaCodeGeneratorResource`1 resource, TextWriter streamWriter, Action`3 action)
   at Terrasoft.Core.Entities.EntityBackReferencePropertiesGenerator.GenerateSources(SchemaCodeGeneratorResource`1 resource)
   at Terrasoft.Core.Packages.PackageInstallUtilities.GenerateSchemaAdditionalSource(Guid schemaId, Guid schemaUId, String schemaName, Boolean continueIfError)
2023-12-15 18:55:54,013 InstallError: .DocumentInTag (a16ecd76-4ed7-4371-8c11-97638808f248)
Npgsql.PostgresException (0x80004005): 53300: sorry, too many clients already
   at Npgsql.NpgsqlConnector.DoReadMessage(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isPrependedMessage)
   at Npgsql.NpgsqlConnector.ReadMessage(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications)
   at Npgsql.NpgsqlConnector.ReadMessage(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications)
   at Npgsql.NpgsqlConnector.ReadExpecting[T](Boolean async)
   at Npgsql.NpgsqlConnector.Authenticate(String username, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.ConnectorPool.AllocateLong(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.Open(Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.Open()
   at Terrasoft.Core.DB.DBExecutor.<get_DBConnection>b__23_0()
   at Polly.Policy.<>c__DisplayClass109_0.<Execute>b__0(Context ctx, CancellationToken ct)
   at Polly.Policy.<>c__DisplayClass103_0.<NoOp>b__1(Context ctx, CancellationToken ct)
   at Polly.Policy.<>c.<NoOp>b__103_0(Action`2 action, Context context, CancellationToken cancellationToken)
   at Polly.Policy.Execute(Action`2 action, Context context, CancellationToken cancellationToken)
   at Polly.Policy.Execute(Action action)
   at Terrasoft.Core.DB.DBExecutor.get_DBConnection()
   at Terrasoft.Core.DB.DBExecutor.CreateCommand()
   at Terrasoft.Core.DB.DBExecutor.ExecuteCommandAsync[TResult](Func`2 commandExecutionCallback, Func`2 commandExecutionCallbackAsync, String sqlText, QueryParameterCollection queryParameters, CancellationToken cancellationToken, Boolean sync)
   at Terrasoft.DB.PostgreSql.PostgreSqlExecutor.<>c__DisplayClass45_0.<InternalExecute>b__0() in /opt/buildagent/work/ApplicationCoreLinux/TSBpm/Src/Lib/Terrasoft.DB.PostgreSql/PostgreSqlExecutor.cs:line 484
   at Terrasoft.DB.PostgreSql.PostgreSqlExecutor.ExecuteInLockIfInTransaction[TResult](Func`1 action) in /opt/buildagent/work/ApplicationCoreLinux/TSBpm/Src/Lib/Terrasoft.DB.PostgreSql/PostgreSqlExecutor.cs:line 266
   at Terrasoft.Core.DB.Query.Execute()
   at Terrasoft.Core.Entities.EntitySchemaManager.DeleteSchemaAdditionalSources(Guid schemaId, UserConnection userConnection)
   at Terrasoft.Core.Packages.PackageInstallUtilities.GenerateSchemaAdditionalSource(Guid schemaId, Guid schemaUId, String schemaName, Boolean continueIfError)
2023-12-15 18:55:54,920 InstallError: .DCBlockInReplica (8b8f631f-a1f6-41f8-98f4-11b379431745)
Npgsql.PostgresException (0x80004005): 53300: sorry, too many clients already
   at Npgsql.NpgsqlConnector.DoReadMessage(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isPrependedMessage)
   at Npgsql.NpgsqlConnector.ReadMessage(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications)
   at Npgsql.NpgsqlConnector.ReadMessage(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications)
   at Npgsql.NpgsqlConnector.ReadExpecting[T](Boolean async)
   at Npgsql.NpgsqlConnector.Authenticate(String username, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.ConnectorPool.AllocateLong(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.Open(Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.Open()
   at Terrasoft.Core.DB.DBExecutor.<get_DBConnection>b__23_0()
   at Polly.Policy.<>c__DisplayClass109_0.<Execute>b__0(Context ctx, CancellationToken ct)
   at Polly.Policy.<>c__DisplayClass103_0.<NoOp>b__1(Context ctx, CancellationToken ct)
   at Polly.Policy.<>c.<NoOp>b__103_0(Action`2 action, Context context, CancellationToken cancellationToken)
   at Polly.Policy.Execute(Action`2 action, Context context, CancellationToken cancellationToken)
   at Polly.Policy.Execute(Action action)
   at Terrasoft.Core.DB.DBExecutor.get_DBConnection()
   at Terrasoft.Core.DB.DBExecutor.CreateCommand()
   at Terrasoft.Core.DB.DBExecutor.ExecuteCommandAsync[TResult](Func`2 commandExecutionCallback, Func`2 commandExecutionCallbackAsync, String sqlText, QueryParameterCollection queryParameters, CancellationToken cancellationToken, Boolean sync)
   at Terrasoft.DB.PostgreSql.PostgreSqlExecutor.<>c__DisplayClass43_0`1.<InternalExecuteScalar>b__0() in /opt/buildagent/work/ApplicationCoreLinux/TSBpm/Src/Lib/Terrasoft.DB.PostgreSql/PostgreSqlExecutor.cs:line 450
   at Terrasoft.DB.PostgreSql.PostgreSqlExecutor.ExecuteInLockIfInTransaction[TResult](Func`1 action) in /opt/buildagent/work/ApplicationCoreLinux/TSBpm/Src/Lib/Terrasoft.DB.PostgreSql/PostgreSqlExecutor.cs:line 266
   at Terrasoft.Core.DB.Select.ExecuteScalarAsync[TResult](Boolean sync)
   at Terrasoft.Core.SchemaManager`1.GetPackageUIdBySchemaId(Guid schemaId, UserConnection userConnection)
   at Terrasoft.Core.SchemaManager`1.DeriveSchemaManagerItem(UserConnection userConnection, EntityCollection orderedSchemas)
   at Terrasoft.Core.SchemaManager`1.GetItemFromMetaData(Guid schemaUId, UserConnection userConnection, Boolean usePackageHierarchy, Guid sysPackageId, Nullable`1 workspaceId, Nullable`1 excludeSchemaUId, Boolean ignoreUserProperties, Boolean reinitializeLocalizableValues)
   at Terrasoft.Core.SchemaManager`1.GetItemFromMetaData(Guid schemaUId, UserConnection userConnection, Boolean usePackageHierarchy, Guid sysPackageId, Nullable`1 workspaceId, Nullable`1 excludeSchemaUId)
   at Terrasoft.Core.SchemaManager`1.GetItemFromMetaData(Guid schemaUId, UserConnection userConnection, Nullable`1 workspaceId)
   at Terrasoft.Core.Entities.EntityBackReferencePropertiesGenerator.GetReferenceSchemaForColumn(EntitySchemaColumn column)
   at Terrasoft.Core.Entities.EntityBackReferencePropertiesGenerator.AddPropertiesFromLookupColumn(EntitySchemaColumn column, Collection`1 columnProperties)
   at Terrasoft.Core.Entities.EntityBackReferencePropertiesGenerator.AddProperties(SchemaCodeGeneratorResource`1 resource, Collection`1 columnProperties)
   at Terrasoft.Core.Entities.EntityBackReferencePropertiesGenerator.WriteSchemaClassBody(GeneratorContext context, SchemaCodeGeneratorResource`1 resource, GeneratorTokenVisibility sourceVisibility)
   at Terrasoft.Core.CodeGeneration.SchemaCodeGenerator`1.GenerateSourceCode(SchemaCodeGeneratorResource`1 resource, TextWriter streamWriter, Action`3 action)
   at Terrasoft.Core.Entities.EntityBackReferencePropertiesGenerator.GenerateSources(SchemaCodeGeneratorResource`1 resource)
   at Terrasoft.Core.Packages.PackageInstallUtilities.GenerateSchemaAdditionalSource(Guid schemaId, Guid schemaUId, String schemaName, Boolean continueIfError)
2023-12-15 18:55:55,176 InstallError: .ConfigItemModel (763b998e-00b3-4b83-90c4-bed9c7715dc7)
Terrasoft.Common.DbOperationException: 53300: sorry, too many clients already
 ---> Npgsql.PostgresException (0x80004005): 53300: sorry, too many clients already
   at Npgsql.NpgsqlConnector.DoReadMessage(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isPrependedMessage)
   at Npgsql.NpgsqlConnector.ReadMessage(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications)
   at Npgsql.NpgsqlConnector.ReadMessage(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications)
   at Npgsql.NpgsqlConnector.ReadExpecting[T](Boolean async)
   at Npgsql.NpgsqlConnector.Authenticate(String username, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.ConnectorPool.AllocateLong(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.Open(Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.Open()
   at Terrasoft.Core.DB.DBExecutor.<get_DBConnection>b__23_0()
   at Polly.Policy.<>c__DisplayClass109_0.<Execute>b__0(Context ctx, CancellationToken ct)
   at Polly.Policy.<>c__DisplayClass103_0.<NoOp>b__1(Context ctx, CancellationToken ct)
   at Polly.Policy.<>c.<NoOp>b__103_0(Action`2 action, Context context, CancellationToken cancellationToken)
   at Polly.Policy.Execute(Action`2 action, Context context, CancellationToken cancellationToken)
   at Polly.Policy.Execute(Action action)
   at Terrasoft.Core.DB.DBExecutor.get_DBConnection()
   at Terrasoft.Core.DB.DBExecutor.CreateCommand()
   at Terrasoft.Core.DB.DBExecutor.ExecuteCommandAsync[TResult](Func`2 commandExecutionCallback, Func`2 commandExecutionCallbackAsync, String sqlText, QueryParameterCollection queryParameters, CancellationToken cancellationToken, Boolean sync)
   at Terrasoft.DB.PostgreSql.PostgreSqlExecutor.<>c__DisplayClass45_0.<InternalExecute>b__0() in /opt/buildagent/work/ApplicationCoreLinux/TSBpm/Src/Lib/Terrasoft.DB.PostgreSql/PostgreSqlExecutor.cs:line 484
   at Terrasoft.DB.PostgreSql.PostgreSqlExecutor.ExecuteInLockIfInTransaction[TResult](Func`1 action) in /opt/buildagent/work/ApplicationCoreLinux/TSBpm/Src/Lib/Terrasoft.DB.PostgreSql/PostgreSqlExecutor.cs:line 266
   at Terrasoft.Core.DB.BaseInsert.ExecuteAsync(DBExecutor dbExecutor, Boolean sync)
   at Terrasoft.Core.DB.BaseInsert.Execute(DBExecutor dbExecutor)
   at Terrasoft.Core.Entities.Entity.InsertToDBAsync(Boolean sync, Boolean skipLookupColumnValues, Boolean validateRequired, Boolean trackChanges)
   --- End of inner exception stack trace ---
   at Terrasoft.Core.Entities.Entity.InsertToDBAsync(Boolean sync, Boolean skipLookupColumnValues, Boolean validateRequired, Boolean trackChanges)
   at Terrasoft.Core.Entities.Entity.InsertToDB(Boolean skipLookupColumnValues, Boolean validateRequired, Boolean trackChanges)
   at Terrasoft.Core.Entities.Entity.TryExecuteSaving(Boolean validateRequired, Boolean setColumnDefValue, Boolean sync, Boolean trackChanges)
   at Terrasoft.Core.Entities.Entity.InternalSaveAsync(Boolean validateRequired, Boolean setColumnDefValue, Boolean sync, Boolean trackChanges)
   at Terrasoft.Core.Entities.Entity.InternalSave(Boolean validateRequired, Boolean setColumnDefValue, Boolean trackChanges)
   at Terrasoft.Core.Entities.Entity.SaveAsync(Boolean sync, Boolean validateRequired, Boolean setColumnDefValue, Boolean trackChanges)
   at Terrasoft.Core.SchemaManager`1.SaveSchemaSources(EntityCollection sources)
   at Terrasoft.Core.Packages.PackageInstallUtilities.GenerateSchemaAdditionalSource(Guid schemaId, Guid schemaUId, String schemaName, Boolean continueIfError)
2023-12-15 18:55:55,183 InstallError: .ContractType (427ad733-d7ff-43c5-a65a-c22a25e4e5df)
Terrasoft.Common.DbOperationException: 53300: sorry, too many clients already
 ---> Npgsql.PostgresException (0x80004005): 53300: sorry, too many clients already
   at Npgsql.NpgsqlConnector.DoReadMessage(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isPrependedMessage)
   at Npgsql.NpgsqlConnector.ReadMessage(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications)
   at Npgsql.NpgsqlConnector.ReadMessage(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications)
   at Npgsql.NpgsqlConnector.ReadExpecting[T](Boolean async)
   at Npgsql.NpgsqlConnector.Authenticate(String username, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.ConnectorPool.AllocateLong(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.Open(Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.Open()
   at Terrasoft.Core.DB.DBExecutor.<get_DBConnection>b__23_0()
   at Polly.Policy.<>c__DisplayClass109_0.<Execute>b__0(Context ctx, CancellationToken ct)
   at Polly.Policy.<>c__DisplayClass103_0.<NoOp>b__1(Context ctx, CancellationToken ct)
   at Polly.Policy.<>c.<NoOp>b__103_0(Action`2 action, Context context, CancellationToken cancellationToken)
   at Polly.Policy.Execute(Action`2 action, Context context, CancellationToken cancellationToken)
   at Polly.Policy.Execute(Action action)
   at Terrasoft.Core.DB.DBExecutor.get_DBConnection()
   at Terrasoft.Core.DB.DBExecutor.CreateCommand()
   at Terrasoft.Core.DB.DBExecutor.ExecuteCommandAsync[TResult](Func`2 commandExecutionCallback, Func`2 commandExecutionCallbackAsync, String sqlText, QueryParameterCollection queryParameters, CancellationToken cancellationToken, Boolean sync)
   at Terrasoft.DB.PostgreSql.PostgreSqlExecutor.<>c__DisplayClass45_0.<InternalExecute>b__0() in /opt/buildagent/work/ApplicationCoreLinux/TSBpm/Src/Lib/Terrasoft.DB.PostgreSql/PostgreSqlExecutor.cs:line 484
   at Terrasoft.DB.PostgreSql.PostgreSqlExecutor.ExecuteInLockIfInTransaction[TResult](Func`1 action) in /opt/buildagent/work/ApplicationCoreLinux/TSBpm/Src/Lib/Terrasoft.DB.PostgreSql/PostgreSqlExecutor.cs:line 266
   at Terrasoft.Core.DB.BaseInsert.ExecuteAsync(DBExecutor dbExecutor, Boolean sync)
   at Terrasoft.Core.DB.BaseInsert.Execute(DBExecutor dbExecutor)
   at Terrasoft.Core.Entities.Entity.InsertToDBAsync(Boolean sync, Boolean skipLookupColumnValues, Boolean validateRequired, Boolean trackChanges)
   --- End of inner exception stack trace ---
   at Terrasoft.Core.Entities.Entity.InsertToDBAsync(Boolean sync, Boolean skipLookupColumnValues, Boolean validateRequired, Boolean trackChanges)
   at Terrasoft.Core.Entities.Entity.InsertToDB(Boolean skipLookupColumnValues, Boolean validateRequired, Boolean trackChanges)
   at Terrasoft.Core.Entities.Entity.TryExecuteSaving(Boolean validateRequired, Boolean setColumnDefValue, Boolean sync, Boolean trackChanges)
   at Terrasoft.Core.Entities.Entity.InternalSaveAsync(Boolean validateRequired, Boolean setColumnDefValue, Boolean sync, Boolean trackChanges)
   at Terrasoft.Core.Entities.Entity.InternalSave(Boolean validateRequired, Boolean setColumnDefValue, Boolean trackChanges)
   at Terrasoft.Core.Entities.Entity.SaveAsync(Boolean sync, Boolean validateRequired, Boolean setColumnDefValue, Boolean trackChanges)
   at Terrasoft.Core.SchemaManager`1.SaveSchemaSources(EntityCollection sources)
   at Terrasoft.Core.Packages.PackageInstallUtilities.GenerateSchemaAdditionalSource(Guid schemaId, Guid schemaUId, String schemaName, Boolean continueIfError)
2023-12-15 18:55:56,152 InstallError: .ConfItemFile (6ac9ea85-b7f1-4687-a7ec-b810d9caefc2)
Npgsql.PostgresException (0x80004005): 53300: sorry, too many clients already
   at Npgsql.NpgsqlConnector.DoReadMessage(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isPrependedMessage)
   at Npgsql.NpgsqlConnector.ReadMessage(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications)
   at Npgsql.NpgsqlConnector.ReadMessage(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications)
   at Npgsql.NpgsqlConnector.ReadExpecting[T](Boolean async)
   at Npgsql.NpgsqlConnector.Authenticate(String username, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.ConnectorPool.AllocateLong(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.Open(Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.Open()
   at Terrasoft.Core.DB.DBExecutor.<get_DBConnection>b__23_0()
   at Polly.Policy.<>c__DisplayClass109_0.<Execute>b__0(Context ctx, CancellationToken ct)
   at Polly.Policy.<>c__DisplayClass103_0.<NoOp>b__1(Context ctx, CancellationToken ct)
   at Polly.Policy.<>c.<NoOp>b__103_0(Action`2 action, Context context, CancellationToken cancellationToken)
   at Polly.Policy.Execute(Action`2 action, Context context, CancellationToken cancellationToken)
   at Polly.Policy.Execute(Action action)
   at Terrasoft.Core.DB.DBExecutor.get_DBConnection()
   at Terrasoft.Core.DB.DBExecutor.CreateCommand()
   at Terrasoft.Core.DB.DBExecutor.ExecuteCommandAsync[TResult](Func`2 commandExecutionCallback, Func`2 commandExecutionCallbackAsync, String sqlText, QueryParameterCollection queryParameters, CancellationToken cancellationToken, Boolean sync)
   at Terrasoft.Core.DB.DBExecutor.InternalExecuteReader(String sqlText, QueryParameterCollection queryParameters, CommandBehavior behavior, CancellationToken cancellationToken)
   at Terrasoft.DB.PostgreSql.PostgreSqlExecutor.<>c__DisplayClass41_0.<InternalExecuteReader>b__0() in /opt/buildagent/work/ApplicationCoreLinux/TSBpm/Src/Lib/Terrasoft.DB.PostgreSql/PostgreSqlExecutor.cs:line 399
   at Terrasoft.DB.PostgreSql.PostgreSqlExecutor.ExecuteInLockIfInTransaction[TResult](Func`1 action) in /opt/buildagent/work/ApplicationCoreLinux/TSBpm/Src/Lib/Terrasoft.DB.PostgreSql/PostgreSqlExecutor.cs:line 266
   at Terrasoft.DB.PostgreSql.PostgreSqlExecutor.InternalExecuteReader(String sqlText, QueryParameterCollection queryParameters, CommandBehavior behavior, CancellationToken cancellationToken) in /opt/buildagent/work/ApplicationCoreLinux/TSBpm/Src/Lib/Terrasoft.DB.PostgreSql/PostgreSqlExecutor.cs:line 388
   at Terrasoft.Core.DB.DBExecutor.InternalExecuteReader(String sqlText, QueryParameterCollection queryParameters)
   at Terrasoft.Core.DB.QueryExecutor.ExecuteReader(String sqlText, QueryParameterCollection parameters, Action`1 readAction)
   at Terrasoft.Core.ResourceProviders.SchemaHierarchyReader.ReadSchemaHierarchy(String sqlText, QueryParameterCollection parameters)
   at Terrasoft.Core.SchemaResourceManager.LoadRuntimeResourcesForSchema(Dictionary`2 localResourceSets)
   at Terrasoft.Core.SchemaResourceManager.InternalGetResourceSet(CultureInfo cultureInfo, Boolean createIfNotExists, Boolean tryParents)
   at System.Resources.ResourceManager.GetResourceSet(CultureInfo culture, Boolean createIfNotExists, Boolean tryParents)
   at Terrasoft.Common.ResourceFinder.FindLocalizedValue[T](ResourceManager resourceManager, CultureInfo currentCulture, Func`2 getValueFromResourceSet, Func`2 getIsEmptyValue) in /opt/buildagent/work/ApplicationCoreLinux/TSBpm/Src/Lib/Terrasoft.Common/ResourceFinder.cs:line 36
   at Terrasoft.Core.SchemaResourceManager.GetStringWithCultureFallback(String name, CultureInfo culture)
   at Terrasoft.Common.LocalizableValue`1.GetCultureValue(CultureInfo culture, Boolean throwIfNoManager, Boolean useCultureFallback) in /opt/buildagent/work/ApplicationCoreLinux/TSBpm/Src/Lib/Terrasoft.Common/LocalizableValue.cs:line 323
   at Terrasoft.Common.LocalizableValue`1.HasAnyValue() in /opt/buildagent/work/ApplicationCoreLinux/TSBpm/Src/Lib/Terrasoft.Common/LocalizableValue.cs:line 349
   at Terrasoft.Core.Process.ProcessSchemaLaneSet.InitializeLocalizableValues(IResourceStorage storage, String resourceManagerName, String resourceGroupName)
   at Terrasoft.Core.Process.ProcessSchema.InitializeLocalizableValues(String resourceManagerName, String resourceGroupName)
   at Terrasoft.Core.Process.ProcessBasedSchema.InitializeEventsProcessSchemaLocalizableValues()
   at Terrasoft.Core.Entities.EntitySchema.ReInitializeLocalizableValues(String resourceManagerName, String resourceGroupName)
   at Terrasoft.Core.SchemaManager`1.ReInitializeSchemaLocalizableValues(UserConnection userConnection, ISchemaManagerItem`1 schemaItem, HierarchySchemaInfo hierarchySchemaInfo)
   at Terrasoft.Core.SchemaManager`1.GetItemFromMetaData(Guid schemaUId, UserConnection userConnection, Boolean usePackageHierarchy, Guid sysPackageId, Nullable`1 workspaceId, Nullable`1 excludeSchemaUId, Boolean ignoreUserProperties, Boolean reinitializeLocalizableValues)
   at Terrasoft.Core.SchemaManager`1.GetItemFromMetaData(Guid schemaUId, UserConnection userConnection, Boolean usePackageHierarchy, Guid sysPackageId, Nullable`1 workspaceId, Nullable`1 excludeSchemaUId)
   at Terrasoft.Core.SchemaManager`1.GetItemFromMetaData(Guid schemaUId, UserConnection userConnection, Nullable`1 workspaceId)
   at Terrasoft.Core.Entities.EntityBackReferencePropertiesGenerator.GetReferenceSchemaForColumn(EntitySchemaColumn column)
   at Terrasoft.Core.Entities.EntityBackReferencePropertiesGenerator.AddPropertiesFromLookupColumn(EntitySchemaColumn column, Collection`1 columnProperties)
   at Terrasoft.Core.Entities.EntityBackReferencePropertiesGenerator.AddProperties(SchemaCodeGeneratorResource`1 resource, Collection`1 columnProperties)
   at Terrasoft.Core.Entities.EntityBackReferencePropertiesGenerator.WriteSchemaClassBody(GeneratorContext context, SchemaCodeGeneratorResource`1 resource, GeneratorTokenVisibility sourceVisibility)
   at Terrasoft.Core.CodeGeneration.SchemaCodeGenerator`1.GenerateSourceCode(SchemaCodeGeneratorResource`1 resource, TextWriter streamWriter, Action`3 action)
   at Terrasoft.Core.Entities.EntityBackReferencePropertiesGenerator.GenerateSources(SchemaCodeGeneratorResource`1 resource)
   at Terrasoft.Core.Packages.PackageInstallUtilities.GenerateSchemaAdditionalSource(Guid schemaId, Guid schemaUId, String schemaName, Boolean continueIfError)
2023-12-15 18:55:56,166 InstallError: .DuplicatesRule (f9838ef2-f0f9-448c-b968-e36103b33919)
Npgsql.PostgresException (0x80004005): 53300: sorry, too many clients already
   at Npgsql.NpgsqlConnector.DoReadMessage(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isPrependedMessage)
   at Npgsql.NpgsqlConnector.ReadMessage(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications)
   at Npgsql.NpgsqlConnector.ReadMessage(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications)
   at Npgsql.NpgsqlConnector.ReadExpecting[T](Boolean async)
   at Npgsql.NpgsqlConnector.Authenticate(String username, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.ConnectorPool.AllocateLong(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.Open(Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.Open()
   at Terrasoft.Core.DB.DBExecutor.<get_DBConnection>b__23_0()
   at Polly.Policy.<>c__DisplayClass109_0.<Execute>b__0(Context ctx, CancellationToken ct)
   at Polly.Policy.<>c__DisplayClass103_0.<NoOp>b__1(Context ctx, CancellationToken ct)
   at Polly.Policy.<>c.<NoOp>b__103_0(Action`2 action, Context context, CancellationToken cancellationToken)
   at Polly.Policy.Execute(Action`2 action, Context context, CancellationToken cancellationToken)
   at Polly.Policy.Execute(Action action)
   at Terrasoft.Core.DB.DBExecutor.get_DBConnection()
   at Terrasoft.Core.DB.DBExecutor.CreateCommand()
   at Terrasoft.Core.DB.DBExecutor.ExecuteCommandAsync[TResult](Func`2 commandExecutionCallback, Func`2 commandExecutionCallbackAsync, String sqlText, QueryParameterCollection queryParameters, CancellationToken cancellationToken, Boolean sync)
   at Terrasoft.Core.DB.DBExecutor.InternalExecuteReader(String sqlText, QueryParameterCollection queryParameters, CommandBehavior behavior, CancellationToken cancellationToken)
   at Terrasoft.DB.PostgreSql.PostgreSqlExecutor.<>c__DisplayClass41_0.<InternalExecuteReader>b__0() in /opt/buildagent/work/ApplicationCoreLinux/TSBpm/Src/Lib/Terrasoft.DB.PostgreSql/PostgreSqlExecutor.cs:line 399
   at Terrasoft.DB.PostgreSql.PostgreSqlExecutor.ExecuteInLockIfInTransaction[TResult](Func`1 action) in /opt/buildagent/work/ApplicationCoreLinux/TSBpm/Src/Lib/Terrasoft.DB.PostgreSql/PostgreSqlExecutor.cs:line 266
   at Terrasoft.DB.PostgreSql.PostgreSqlExecutor.InternalExecuteReader(String sqlText, QueryParameterCollection queryParameters, CommandBehavior behavior, CancellationToken cancellationToken) in /opt/buildagent/work/ApplicationCoreLinux/TSBpm/Src/Lib/Terrasoft.DB.PostgreSql/PostgreSqlExecutor.cs:line 388
   at Terrasoft.Core.DB.DBExecutor.InternalExecuteReader(String sqlText, QueryParameterCollection queryParameters)
   at Terrasoft.Core.SchemaManager`1.GetParentSchemas(Guid schemaUId, UserConnection userConnection, Boolean usePackageHierarchy, Guid sysPackageId, Nullable`1 workspaceId)
   at Terrasoft.Core.SchemaManager`1.GetItemFromMetaData(Guid schemaUId, UserConnection userConnection, Boolean usePackageHierarchy, Guid sysPackageId, Nullable`1 workspaceId, Nullable`1 excludeSchemaUId, Boolean ignoreUserProperties, Boolean reinitializeLocalizableValues)
   at Terrasoft.Core.SchemaManager`1.GetItemFromMetaData(Guid schemaUId, UserConnection userConnection, Boolean usePackageHierarchy, Guid sysPackageId, Nullable`1 workspaceId, Nullable`1 excludeSchemaUId)
   at Terrasoft.Core.SchemaManager`1.GetItemFromMetaData(Guid schemaUId, UserConnection userConnection, Nullable`1 workspaceId)
   at Terrasoft.Core.Entities.EntityBackReferencePropertiesGenerator.GetReferenceSchemaForColumn(EntitySchemaColumn column)
   at Terrasoft.Core.Entities.EntityBackReferencePropertiesGenerator.AddPropertiesFromLookupColumn(EntitySchemaColumn column, Collection`1 columnProperties)
   at Terrasoft.Core.Entities.EntityBackReferencePropertiesGenerator.AddProperties(SchemaCodeGeneratorResource`1 resource, Collection`1 columnProperties)
   at Terrasoft.Core.Entities.EntityBackReferencePropertiesGenerator.WriteSchemaClassBody(GeneratorContext context, SchemaCodeGeneratorResource`1 resource, GeneratorTokenVisibility sourceVisibility)
   at Terrasoft.Core.CodeGeneration.SchemaCodeGenerator`1.GenerateSourceCode(SchemaCodeGeneratorResource`1 resource, TextWriter streamWriter, Action`3 action)
   at Terrasoft.Core.Entities.EntityBackReferencePropertiesGenerator.GenerateSources(SchemaCodeGeneratorResource`1 resource)
   at Terrasoft.Core.Packages.PackageInstallUtilities.GenerateSchemaAdditionalSource(Guid schemaId, Guid schemaUId, String schemaName, Boolean continueIfError)
2023-12-15 18:55:56,174 InstallError: .AccountForecast (74900c50-b7e7-452a-83d9-f98707756d6c)
Npgsql.PostgresException (0x80004005): 53300: sorry, too many clients already
   at Npgsql.NpgsqlConnector.DoReadMessage(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isPrependedMessage)
   at Npgsql.NpgsqlConnector.ReadMessage(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications)
   at Npgsql.NpgsqlConnector.ReadMessage(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications)
   at Npgsql.NpgsqlConnector.ReadExpecting[T](Boolean async)
   at Npgsql.NpgsqlConnector.Authenticate(String username, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.ConnectorPool.AllocateLong(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.Open(Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.Open()
   at Terrasoft.Core.DB.DBExecutor.<get_DBConnection>b__23_0()
   at Polly.Policy.<>c__DisplayClass109_0.<Execute>b__0(Context ctx, CancellationToken ct)
   at Polly.Policy.<>c__DisplayClass103_0.<NoOp>b__1(Context ctx, CancellationToken ct)
   at Polly.Policy.<>c.<NoOp>b__103_0(Action`2 action, Context context, CancellationToken cancellationToken)
   at Polly.Policy.Execute(Action`2 action, Context context, CancellationToken cancellationToken)
   at Polly.Policy.Execute(Action action)
   at Terrasoft.Core.DB.DBExecutor.get_DBConnection()
   at Terrasoft.Core.DB.DBExecutor.CreateCommand()
   at Terrasoft.Core.DB.DBExecutor.ExecuteCommandAsync[TResult](Func`2 commandExecutionCallback, Func`2 commandExecutionCallbackAsync, String sqlText, QueryParameterCollection queryParameters, CancellationToken cancellationToken, Boolean sync)
   at Terrasoft.Core.DB.DBExecutor.InternalExecuteReader(String sqlText, QueryParameterCollection queryParameters, CommandBehavior behavior, CancellationToken cancellationToken)
   at Terrasoft.DB.PostgreSql.PostgreSqlExecutor.<>c__DisplayClass41_0.<InternalExecuteReader>b__0() in /opt/buildagent/work/ApplicationCoreLinux/TSBpm/Src/Lib/Terrasoft.DB.PostgreSql/PostgreSqlExecutor.cs:line 399
   at Terrasoft.DB.PostgreSql.PostgreSqlExecutor.ExecuteInLockIfInTransaction[TResult](Func`1 action) in /opt/buildagent/work/ApplicationCoreLinux/TSBpm/Src/Lib/Terrasoft.DB.PostgreSql/PostgreSqlExecutor.cs:line 266
   at Terrasoft.DB.PostgreSql.PostgreSqlExecutor.InternalExecuteReader(String sqlText, QueryParameterCollection queryParameters, CommandBehavior behavior, CancellationToken cancellationToken) in /opt/buildagent/work/ApplicationCoreLinux/TSBpm/Src/Lib/Terrasoft.DB.PostgreSql/PostgreSqlExecutor.cs:line 388
   at Terrasoft.Core.DB.DBExecutor.InternalExecuteReader(String sqlText, QueryParameterCollection queryParameters)
   at Terrasoft.Core.SchemaManager`1.GetParentSchemas(Guid schemaUId, UserConnection userConnection, Boolean usePackageHierarchy, Guid sysPackageId, Nullable`1 workspaceId)
   at Terrasoft.Core.SchemaManager`1.GetItemFromMetaData(Guid schemaUId, UserConnection userConnection, Boolean usePackageHierarchy, Guid sysPackageId, Nullable`1 workspaceId, Nullable`1 excludeSchemaUId, Boolean ignoreUserProperties, Boolean reinitializeLocalizableValues)
   at Terrasoft.Core.SchemaManager`1.GetItemFromMetaData(Guid schemaUId, UserConnection userConnection, Boolean usePackageHierarchy, Guid sysPackageId, Nullable`1 workspaceId, Nullable`1 excludeSchemaUId)
   at Terrasoft.Core.SchemaManager`1.GetItemFromMetaData(Guid schemaUId, UserConnection userConnection, Nullable`1 workspaceId)
   at Terrasoft.Core.Entities.EntityBackReferencePropertiesGenerator.GetReferenceSchemaForColumn(EntitySchemaColumn column)
   at Terrasoft.Core.Entities.EntityBackReferencePropertiesGenerator.AddPropertiesFromLookupColumn(EntitySchemaColumn column, Collection`1 columnProperties)
   at Terrasoft.Core.Entities.EntityBackReferencePropertiesGenerator.AddProperties(SchemaCodeGeneratorResource`1 resource, Collection`1 columnProperties)
   at Terrasoft.Core.Entities.EntityBackReferencePropertiesGenerator.WriteSchemaClassBody(GeneratorContext context, SchemaCodeGeneratorResource`1 resource, GeneratorTokenVisibility sourceVisibility)
   at Terrasoft.Core.CodeGeneration.SchemaCodeGenerator`1.GenerateSourceCode(SchemaCodeGeneratorResource`1 resource, TextWriter streamWriter, Action`3 action)
   at Terrasoft.Core.Entities.EntityBackReferencePropertiesGenerator.GenerateSources(SchemaCodeGeneratorResource`1 resource)
   at Terrasoft.Core.Packages.PackageInstallUtilities.GenerateSchemaAdditionalSource(Guid schemaId, Guid schemaUId, String schemaName, Boolean continueIfError)
2023-12-15 18:55:57,617 InstallError: .ContactCareer (a0a1d0c3-6267-4584-acbd-fd53660798ce)
Npgsql.PostgresException (0x80004005): 53300: sorry, too many clients already
   at Npgsql.NpgsqlConnector.DoReadMessage(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isPrependedMessage)
   at Npgsql.NpgsqlConnector.ReadMessage(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications)
   at Npgsql.NpgsqlConnector.ReadMessage(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications)
   at Npgsql.NpgsqlConnector.ReadExpecting[T](Boolean async)
   at Npgsql.NpgsqlConnector.Authenticate(String username, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.ConnectorPool.AllocateLong(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.Open(Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.Open()
   at Terrasoft.Core.DB.DBExecutor.<get_DBConnection>b__23_0()
   at Polly.Policy.<>c__DisplayClass109_0.<Execute>b__0(Context ctx, CancellationToken ct)
   at Polly.Policy.<>c__DisplayClass103_0.<NoOp>b__1(Context ctx, CancellationToken ct)
   at Polly.Policy.<>c.<NoOp>b__103_0(Action`2 action, Context context, CancellationToken cancellationToken)
   at Polly.Policy.Execute(Action`2 action, Context context, CancellationToken cancellationToken)
   at Polly.Policy.Execute(Action action)
   at Terrasoft.Core.DB.DBExecutor.get_DBConnection()
   at Terrasoft.Core.DB.DBExecutor.CreateCommand()
   at Terrasoft.Core.DB.DBExecutor.ExecuteCommandAsync[TResult](Func`2 commandExecutionCallback, Func`2 commandExecutionCallbackAsync, String sqlText, QueryParameterCollection queryParameters, CancellationToken cancellationToken, Boolean sync)
   at Terrasoft.Core.DB.DBExecutor.InternalExecuteReader(String sqlText, QueryParameterCollection queryParameters, CommandBehavior behavior, CancellationToken cancellationToken)
   at Terrasoft.DB.PostgreSql.PostgreSqlExecutor.<>c__DisplayClass41_0.<InternalExecuteReader>b__0() in /opt/buildagent/work/ApplicationCoreLinux/TSBpm/Src/Lib/Terrasoft.DB.PostgreSql/PostgreSqlExecutor.cs:line 399
   at Terrasoft.DB.PostgreSql.PostgreSqlExecutor.ExecuteInLockIfInTransaction[TResult](Func`1 action) in /opt/buildagent/work/ApplicationCoreLinux/TSBpm/Src/Lib/Terrasoft.DB.PostgreSql/PostgreSqlExecutor.cs:line 266
   at Terrasoft.DB.PostgreSql.PostgreSqlExecutor.InternalExecuteReader(String sqlText, QueryParameterCollection queryParameters, CommandBehavior behavior, CancellationToken cancellationToken) in /opt/buildagent/work/ApplicationCoreLinux/TSBpm/Src/Lib/Terrasoft.DB.PostgreSql/PostgreSqlExecutor.cs:line 388
   at Terrasoft.Core.DB.DBExecutor.InternalExecuteReader(String sqlText, QueryParameterCollection queryParameters)
   at Terrasoft.Core.DB.Select.ExecuteReaderAsync(DBExecutor dbExecutor, Boolean sync)
   at Terrasoft.Core.DB.Select.ExecuteReader(DBExecutor dbExecutor)
   at Terrasoft.Core.DB.QueryExecutor.ExecuteReader(Select select, Action`1 readAction)
   at Terrasoft.Core.SchemaResourceManager.LoadPlainResourcesForSchemaHierarchy(IEnumerable`1 schemaIds, Guid sysPackageId)
   at Terrasoft.Core.SchemaResourceManager.ReInitializeDesignResourceSets(IEnumerable`1 schemaHierarchyIds, Guid sysPackageId)
   at Terrasoft.Core.SchemaManager`1.ReInitializeSchemaResourceManager(Guid schemaUId, HierarchySchemaInfo schemaInfo)
   at Terrasoft.Core.SchemaManager`1.ReInitializeSchemaLocalizableValues(UserConnection userConnection, ISchemaManagerItem`1 schemaItem, HierarchySchemaInfo hierarchySchemaInfo)
   at Terrasoft.Core.SchemaManager`1.GetItemFromMetaData(Guid schemaUId, UserConnection userConnection, Boolean usePackageHierarchy, Guid sysPackageId, Nullable`1 workspaceId, Nullable`1 excludeSchemaUId, Boolean ignoreUserProperties, Boolean reinitializeLocalizableValues)
   at Terrasoft.Core.SchemaManager`1.GetItemFromMetaData(Guid schemaUId, UserConnection userConnection, Boolean usePackageHierarchy, Guid sysPackageId, Nullable`1 workspaceId, Nullable`1 excludeSchemaUId)
   at Terrasoft.Core.SchemaManager`1.GetItemFromMetaData(Guid schemaUId, UserConnection userConnection, Nullable`1 workspaceId)
   at Terrasoft.Core.Entities.EntityBackReferencePropertiesGenerator.GetReferenceSchemaForColumn(EntitySchemaColumn column)
   at Terrasoft.Core.Entities.EntityBackReferencePropertiesGenerator.AddPropertiesFromLookupColumn(EntitySchemaColumn column, Collection`1 columnProperties)
   at Terrasoft.Core.Entities.EntityBackReferencePropertiesGenerator.AddProperties(SchemaCodeGeneratorResource`1 resource, Collection`1 columnProperties)
   at Terrasoft.Core.Entities.EntityBackReferencePropertiesGenerator.WriteSchemaClassBody(GeneratorContext context, SchemaCodeGeneratorResource`1 resource, GeneratorTokenVisibility sourceVisibility)
   at Terrasoft.Core.CodeGeneration.SchemaCodeGenerator`1.GenerateSourceCode(SchemaCodeGeneratorResource`1 resource, TextWriter streamWriter, Action`3 action)
   at Terrasoft.Core.Entities.EntityBackReferencePropertiesGenerator.GenerateSources(SchemaCodeGeneratorResource`1 resource)
   at Terrasoft.Core.Packages.PackageInstallUtilities.GenerateSchemaAdditionalSource(Guid schemaId, Guid schemaUId, String schemaName, Boolean continueIfError)
2023-12-15 18:55:57,649 InstallError: .EmailTemplateTag (9a2a0695-1dc5-4f8b-aee2-4d439df9e146)
Npgsql.PostgresException (0x80004005): 53300: sorry, too many clients already
   at Npgsql.NpgsqlConnector.DoReadMessage(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isPrependedMessage)
   at Npgsql.NpgsqlConnector.ReadMessage(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications)
   at Npgsql.NpgsqlConnector.ReadMessage(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications)
   at Npgsql.NpgsqlConnector.ReadExpecting[T](Boolean async)
   at Npgsql.NpgsqlConnector.Authenticate(String username, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.ConnectorPool.AllocateLong(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.Open(Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.Open()
   at Terrasoft.Core.DB.DBExecutor.<get_DBConnection>b__23_0()
   at Polly.Policy.<>c__DisplayClass109_0.<Execute>b__0(Context ctx, CancellationToken ct)
   at Polly.Policy.<>c__DisplayClass103_0.<NoOp>b__1(Context ctx, CancellationToken ct)
   at Polly.Policy.<>c.<NoOp>b__103_0(Action`2 action, Context context, CancellationToken cancellationToken)
   at Polly.Policy.Execute(Action`2 action, Context context, CancellationToken cancellationToken)
   at Polly.Policy.Execute(Action action)
   at Terrasoft.Core.DB.DBExecutor.get_DBConnection()
   at Terrasoft.Core.DB.DBExecutor.CreateCommand()
   at Terrasoft.Core.DB.DBExecutor.ExecuteCommandAsync[TResult](Func`2 commandExecutionCallback, Func`2 commandExecutionCallbackAsync, String sqlText, QueryParameterCollection queryParameters, CancellationToken cancellationToken, Boolean sync)
   at Terrasoft.Core.DB.DBExecutor.InternalExecuteReader(String sqlText, QueryParameterCollection queryParameters, CommandBehavior behavior, CancellationToken cancellationToken)
   at Terrasoft.DB.PostgreSql.PostgreSqlExecutor.<>c__DisplayClass41_0.<InternalExecuteReader>b__0() in /opt/buildagent/work/ApplicationCoreLinux/TSBpm/Src/Lib/Terrasoft.DB.PostgreSql/PostgreSqlExecutor.cs:line 399
   at Terrasoft.DB.PostgreSql.PostgreSqlExecutor.ExecuteInLockIfInTransaction[TResult](Func`1 action) in /opt/buildagent/work/ApplicationCoreLinux/TSBpm/Src/Lib/Terrasoft.DB.PostgreSql/PostgreSqlExecutor.cs:line 266
   at Terrasoft.DB.PostgreSql.PostgreSqlExecutor.InternalExecuteReader(String sqlText, QueryParameterCollection queryParameters, CommandBehavior behavior, CancellationToken cancellationToken) in /opt/buildagent/work/ApplicationCoreLinux/TSBpm/Src/Lib/Terrasoft.DB.PostgreSql/PostgreSqlExecutor.cs:line 388
   at Terrasoft.Core.DB.DBExecutor.InternalExecuteReader(String sqlText, QueryParameterCollection queryParameters)
   at Terrasoft.Core.DB.QueryExecutor.ExecuteReader(String sqlText, QueryParameterCollection parameters, Action`1 readAction)
   at Terrasoft.Core.ResourceProviders.SchemaHierarchyReader.ReadSchemaHierarchy(String sqlText, QueryParameterCollection parameters)
   at Terrasoft.Core.SchemaResourceManager.LoadRuntimeResourcesForSchemaByName(Dictionary`2 localResourceSets, String schemaName)
   at Terrasoft.Core.SchemaResourceManager.InitializeResourceSets(String schemaName)
   at Terrasoft.Core.SchemaResourceManager.ReInitializeResourceSets(String schemaName)
   at Terrasoft.Core.SchemaManager`1.CreateRuntimeSchemaFromMetaData(Guid schemaUId, UserConnection userConnection, Boolean initResources)
   at Terrasoft.Core.Entities.EntitySchemaManager.CreateRuntimeSchemaFromMetaData(Guid schemaUId, UserConnection userConnection, Boolean initResources)
   at Terrasoft.Core.Packages.PackageInstallUtilities.GenerateSchemaAdditionalSource(Guid schemaId, Guid schemaUId, String schemaName, Boolean continueIfError)
2023-12-15 18:55:57,759 InstallError: .KnowledgeBaseInTagV2 (568fa191-f2ba-4c31-8632-a79e89fed891)
Npgsql.PostgresException (0x80004005): 53300: sorry, too many clients already
   at Npgsql.NpgsqlConnector.DoReadMessage(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isPrependedMessage)
   at Npgsql.NpgsqlConnector.ReadMessage(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications)
   at Npgsql.NpgsqlConnector.ReadMessage(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications)
   at Npgsql.NpgsqlConnector.ReadExpecting[T](Boolean async)
   at Npgsql.NpgsqlConnector.Authenticate(String username, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.ConnectorPool.AllocateLong(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.Open(Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.Open()
   at Terrasoft.Core.DB.DBExecutor.<get_DBConnection>b__23_0()
   at Polly.Policy.<>c__DisplayClass109_0.<Execute>b__0(Context ctx, CancellationToken ct)
   at Polly.Policy.<>c__DisplayClass103_0.<NoOp>b__1(Context ctx, CancellationToken ct)
   at Polly.Policy.<>c.<NoOp>b__103_0(Action`2 action, Context context, CancellationToken cancellationToken)
   at Polly.Policy.Execute(Action`2 action, Context context, CancellationToken cancellationToken)
   at Polly.Policy.Execute(Action action)
   at Terrasoft.Core.DB.DBExecutor.get_DBConnection()
   at Terrasoft.Core.DB.DBExecutor.CreateCommand()
   at Terrasoft.Core.DB.DBExecutor.ExecuteCommandAsync[TResult](Func`2 commandExecutionCallback, Func`2 commandExecutionCallbackAsync, String sqlText, QueryParameterCollection queryParameters, CancellationToken cancellationToken, Boolean sync)
   at Terrasoft.DB.PostgreSql.PostgreSqlExecutor.<>c__DisplayClass45_0.<InternalExecute>b__0() in /opt/buildagent/work/ApplicationCoreLinux/TSBpm/Src/Lib/Terrasoft.DB.PostgreSql/PostgreSqlExecutor.cs:line 484
   at Terrasoft.DB.PostgreSql.PostgreSqlExecutor.ExecuteInLockIfInTransaction[TResult](Func`1 action) in /opt/buildagent/work/ApplicationCoreLinux/TSBpm/Src/Lib/Terrasoft.DB.PostgreSql/PostgreSqlExecutor.cs:line 266
   at Terrasoft.Core.DB.Query.Execute()
   at Terrasoft.Core.Entities.EntitySchemaManager.DeleteSchemaAdditionalSources(Guid schemaId, UserConnection userConnection)
   at Terrasoft.Core.Packages.PackageInstallUtilities.GenerateSchemaAdditionalSource(Guid schemaId, Guid schemaUId, String schemaName, Boolean continueIfError)
2023-12-15 18:55:59,093 InstallError: .GeneratedWebForm (41ae7d8d-bec3-41df-a6f0-2ab0d08b3967)
Npgsql.PostgresException (0x80004005): 53300: sorry, too many clients already
   at Npgsql.NpgsqlConnector.DoReadMessage(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isPrependedMessage)
   at Npgsql.NpgsqlConnector.ReadMessage(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications)
   at Npgsql.NpgsqlConnector.ReadMessage(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications)
   at Npgsql.NpgsqlConnector.ReadExpecting[T](Boolean async)
   at Npgsql.NpgsqlConnector.Authenticate(String username, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.ConnectorPool.AllocateLong(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.Open(Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.Open()
   at Terrasoft.Core.DB.DBExecutor.<get_DBConnection>b__23_0()
   at Polly.Policy.<>c__DisplayClass109_0.<Execute>b__0(Context ctx, CancellationToken ct)
   at Polly.Policy.<>c__DisplayClass103_0.<NoOp>b__1(Context ctx, CancellationToken ct)
   at Polly.Policy.<>c.<NoOp>b__103_0(Action`2 action, Context context, CancellationToken cancellationToken)
   at Polly.Policy.Execute(Action`2 action, Context context, CancellationToken cancellationToken)
   at Polly.Policy.Execute(Action action)
   at Terrasoft.Core.DB.DBExecutor.get_DBConnection()
   at Terrasoft.Core.DB.DBExecutor.CreateCommand()
   at Terrasoft.Core.DB.DBExecutor.ExecuteCommandAsync[TResult](Func`2 commandExecutionCallback, Func`2 commandExecutionCallbackAsync, String sqlText, QueryParameterCollection queryParameters, CancellationToken cancellationToken, Boolean sync)
   at Terrasoft.Core.DB.DBExecutor.InternalExecuteReader(String sqlText, QueryParameterCollection queryParameters, CommandBehavior behavior, CancellationToken cancellationToken)
   at Terrasoft.DB.PostgreSql.PostgreSqlExecutor.<>c__DisplayClass41_0.<InternalExecuteReader>b__0() in /opt/buildagent/work/ApplicationCoreLinux/TSBpm/Src/Lib/Terrasoft.DB.PostgreSql/PostgreSqlExecutor.cs:line 399
   at Terrasoft.DB.PostgreSql.PostgreSqlExecutor.ExecuteInLockIfInTransaction[TResult](Func`1 action) in /opt/buildagent/work/ApplicationCoreLinux/TSBpm/Src/Lib/Terrasoft.DB.PostgreSql/PostgreSqlExecutor.cs:line 266
   at Terrasoft.DB.PostgreSql.PostgreSqlExecutor.InternalExecuteReader(String sqlText, QueryParameterCollection queryParameters, CommandBehavior behavior, CancellationToken cancellationToken) in /opt/buildagent/work/ApplicationCoreLinux/TSBpm/Src/Lib/Terrasoft.DB.PostgreSql/PostgreSqlExecutor.cs:line 388
   at Terrasoft.Core.DB.DBExecutor.InternalExecuteReader(String sqlText, QueryParameterCollection queryParameters)
   at Terrasoft.Core.DB.Select.ExecuteReaderAsync(DBExecutor dbExecutor, Boolean sync)
   at Terrasoft.Core.DB.Select.ExecuteReader(DBExecutor dbExecutor)
   at Terrasoft.Core.DB.QueryExecutor.ExecuteReader(Select select, Action`1 readAction)
   at Terrasoft.Core.SchemaResourceManager.LoadResourcesForSchemaHierarchy(IEnumerable`1 schemaIds)
   at Terrasoft.Core.SchemaResourceManager.LoadRuntimeResourcesForSchema(Dictionary`2 localResourceSets, IEnumerable`1 schemaHierarchyIds)
   at Terrasoft.Core.SchemaResourceManager.LoadRuntimeResourcesForSchema(Dictionary`2 localResourceSets)
   at Terrasoft.Core.SchemaResourceManager.InternalGetResourceSet(CultureInfo cultureInfo, Boolean createIfNotExists, Boolean tryParents)
   at Terrasoft.Core.SchemaResourceManager.GetString(String name, CultureInfo culture)
   at Terrasoft.Common.LocalizableValue`1.GetCultureValue(CultureInfo culture, Boolean throwIfNoManager, Boolean useCultureFallback) in /opt/buildagent/work/ApplicationCoreLinux/TSBpm/Src/Lib/Terrasoft.Common/LocalizableValue.cs:line 323
   at Terrasoft.Common.LocalizableValue`1.LoadCultureValues(IEnumerable`1 culturesInfo) in /opt/buildagent/work/ApplicationCoreLinux/TSBpm/Src/Lib/Terrasoft.Common/LocalizableValue.cs:line 357
   at Terrasoft.Core.Schema.LoadLocalizableValues(IEnumerable`1 culturesInfo)
   at Terrasoft.Core.Entities.EntitySchema.LoadLocalizableValues(IEnumerable`1 culturesInfo)
   at Terrasoft.Core.MetaItem.ReadMetaData(DataReader reader)
   at Terrasoft.Core.Entities.EntitySchema.ReadMetaData(DataReader reader)
   at Terrasoft.Core.MetaDataSerializer.Deserialize(Func`1 getReader, Boolean useRuntimeSchema)+MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at Terrasoft.Core.SchemaManager`1.DeserializeSchemaManagerItem(Stream metaData, UserConnection userConnection)
   at Terrasoft.Core.SchemaManager`1.DeriveSchemaManagerItem(UserConnection userConnection, EntityCollection orderedSchemas)
   at Terrasoft.Core.SchemaManager`1.GetItemFromMetaData(Guid schemaUId, UserConnection userConnection, Boolean usePackageHierarchy, Guid sysPackageId, Nullable`1 workspaceId, Nullable`1 excludeSchemaUId, Boolean ignoreUserProperties, Boolean reinitializeLocalizableValues)
   at Terrasoft.Core.SchemaManager`1.GetItemFromMetaData(Guid schemaUId, UserConnection userConnection, Boolean usePackageHierarchy, Guid sysPackageId, Nullable`1 workspaceId, Nullable`1 excludeSchemaUId)
   at Terrasoft.Core.SchemaManager`1.GetItemFromMetaData(Guid schemaUId, UserConnection userConnection, Nullable`1 workspaceId)
   at Terrasoft.Core.Entities.EntityBackReferencePropertiesGenerator.GetReferenceSchemaForColumn(EntitySchemaColumn column)
   at Terrasoft.Core.Entities.EntityBackReferencePropertiesGenerator.AddPropertiesFromLookupColumn(EntitySchemaColumn column, Collection`1 columnProperties)
   at Terrasoft.Core.Entities.EntityBackReferencePropertiesGenerator.AddProperties(SchemaCodeGeneratorResource`1 resource, Collection`1 columnProperties)
   at Terrasoft.Core.Entities.EntityBackReferencePropertiesGenerator.WriteSchemaClassBody(GeneratorContext context, SchemaCodeGeneratorResource`1 resource, GeneratorTokenVisibility sourceVisibility)
   at Terrasoft.Core.CodeGeneration.SchemaCodeGenerator`1.GenerateSourceCode(SchemaCodeGeneratorResource`1 resource, TextWriter streamWriter, Action`3 action)
   at Terrasoft.Core.Entities.EntityBackReferencePropertiesGenerator.GenerateSources(SchemaCodeGeneratorResource`1 resource)
   at Terrasoft.Core.Packages.PackageInstallUtilities.GenerateSchemaAdditionalSource(Guid schemaId, Guid schemaUId, String schemaName, Boolean continueIfError)
2023-12-15 18:55:59,125 InstallError: .IntegrationLog (d5bb4bdc-06d3-4275-8d23-96ae2a19b086)
Npgsql.PostgresException (0x80004005): 53300: sorry, too many clients already
   at Npgsql.NpgsqlConnector.DoReadMessage(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isPrependedMessage)
   at Npgsql.NpgsqlConnector.ReadMessage(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications)
   at Npgsql.NpgsqlConnector.ReadMessage(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications)
   at Npgsql.NpgsqlConnector.ReadExpecting[T](Boolean async)
   at Npgsql.NpgsqlConnector.Authenticate(String username, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.ConnectorPool.AllocateLong(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.Open(Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.Open()
   at Terrasoft.Core.DB.DBExecutor.<get_DBConnection>b__23_0()
   at Polly.Policy.<>c__DisplayClass109_0.<Execute>b__0(Context ctx, CancellationToken ct)
   at Polly.Policy.<>c__DisplayClass103_0.<NoOp>b__1(Context ctx, CancellationToken ct)
   at Polly.Policy.<>c.<NoOp>b__103_0(Action`2 action, Context context, CancellationToken cancellationToken)
   at Polly.Policy.Execute(Action`2 action, Context context, CancellationToken cancellationToken)
   at Polly.Policy.Execute(Action action)
   at Terrasoft.Core.DB.DBExecutor.get_DBConnection()
   at Terrasoft.Core.DB.DBExecutor.CreateCommand()
   at Terrasoft.Core.DB.DBExecutor.ExecuteCommandAsync[TResult](Func`2 commandExecutionCallback, Func`2 commandExecutionCallbackAsync, String sqlText, QueryParameterCollection queryParameters, CancellationToken cancellationToken, Boolean sync)
   at Terrasoft.Core.DB.DBExecutor.InternalExecuteReader(String sqlText, QueryParameterCollection queryParameters, CommandBehavior behavior, CancellationToken cancellationToken)
   at Terrasoft.DB.PostgreSql.PostgreSqlExecutor.<>c__DisplayClass41_0.<InternalExecuteReader>b__0() in /opt/buildagent/work/ApplicationCoreLinux/TSBpm/Src/Lib/Terrasoft.DB.PostgreSql/PostgreSqlExecutor.cs:line 399
   at Terrasoft.DB.PostgreSql.PostgreSqlExecutor.ExecuteInLockIfInTransaction[TResult](Func`1 action) in /opt/buildagent/work/ApplicationCoreLinux/TSBpm/Src/Lib/Terrasoft.DB.PostgreSql/PostgreSqlExecutor.cs:line 266
   at Terrasoft.DB.PostgreSql.PostgreSqlExecutor.InternalExecuteReader(String sqlText, QueryParameterCollection queryParameters, CommandBehavior behavior, CancellationToken cancellationToken) in /opt/buildagent/work/ApplicationCoreLinux/TSBpm/Src/Lib/Terrasoft.DB.PostgreSql/PostgreSqlExecutor.cs:line 388
   at Terrasoft.Core.DB.DBExecutor.InternalExecuteReader(String sqlText, QueryParameterCollection queryParameters)
   at Terrasoft.Core.DB.QueryExecutor.ExecuteReader(String sqlText, QueryParameterCollection parameters, Action`1 readAction)
   at Terrasoft.Core.ResourceProviders.SchemaHierarchyReader.ReadSchemaHierarchy(String sqlText, QueryParameterCollection parameters)
   at Terrasoft.Core.SchemaResourceManager.LoadRuntimeResourcesForSchema(Dictionary`2 localResourceSets)
   at Terrasoft.Core.SchemaResourceManager.InternalGetResourceSet(CultureInfo cultureInfo, Boolean createIfNotExists, Boolean tryParents)
   at Terrasoft.Core.SchemaResourceManager.GetString(String name, CultureInfo culture)
   at Terrasoft.Common.LocalizableValue`1.GetCultureValue(CultureInfo culture, Boolean throwIfNoManager, Boolean useCultureFallback) in /opt/buildagent/work/ApplicationCoreLinux/TSBpm/Src/Lib/Terrasoft.Common/LocalizableValue.cs:line 323
   at Terrasoft.Common.LocalizableValue`1.LoadCultureValues(IEnumerable`1 culturesInfo) in /opt/buildagent/work/ApplicationCoreLinux/TSBpm/Src/Lib/Terrasoft.Common/LocalizableValue.cs:line 357
   at Terrasoft.Core.Schema.LoadLocalizableValues(IEnumerable`1 culturesInfo)
   at Terrasoft.Core.Entities.EntitySchema.LoadLocalizableValues(IEnumerable`1 culturesInfo)
   at Terrasoft.Core.MetaItem.ReadMetaData(DataReader reader)
   at Terrasoft.Core.Entities.EntitySchema.ReadMetaData(DataReader reader)
   at Terrasoft.Core.MetaDataSerializer.Deserialize(Func`1 getReader, Boolean useRuntimeSchema)+MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at Terrasoft.Core.SchemaManager`1.DeserializeSchemaManagerItem(Stream metaData, UserConnection userConnection)
   at Terrasoft.Core.SchemaManager`1.DeriveSchemaManagerItem(UserConnection userConnection, EntityCollection orderedSchemas)
   at Terrasoft.Core.SchemaManager`1.GetItemFromMetaData(Guid schemaUId, UserConnection userConnection, Boolean usePackageHierarchy, Guid sysPackageId, Nullable`1 workspaceId, Nullable`1 excludeSchemaUId, Boolean ignoreUserProperties, Boolean reinitializeLocalizableValues)
   at Terrasoft.Core.SchemaManager`1.GetItemFromMetaData(Guid schemaUId, UserConnection userConnection, Boolean usePackageHierarchy, Guid sysPackageId, Nullable`1 workspaceId, Nullable`1 excludeSchemaUId)
   at Terrasoft.Core.SchemaManager`1.GetItemFromMetaData(Guid schemaUId, UserConnection userConnection, Nullable`1 workspaceId)
   at Terrasoft.Core.Entities.EntityBackReferencePropertiesGenerator.GetReferenceSchemaForColumn(EntitySchemaColumn column)
   at Terrasoft.Core.Entities.EntityBackReferencePropertiesGenerator.AddPropertiesFromLookupColumn(EntitySchemaColumn column, Collection`1 columnProperties)
   at Terrasoft.Core.Entities.EntityBackReferencePropertiesGenerator.AddProperties(SchemaCodeGeneratorResource`1 resource, Collection`1 columnProperties)
   at Terrasoft.Core.Entities.EntityBackReferencePropertiesGenerator.WriteSchemaClassBody(GeneratorContext context, SchemaCodeGeneratorResource`1 resource, GeneratorTokenVisibility sourceVisibility)
   at Terrasoft.Core.CodeGeneration.SchemaCodeGenerator`1.GenerateSourceCode(SchemaCodeGeneratorResource`1 resource, TextWriter streamWriter, Action`3 action)
   at Terrasoft.Core.Entities.EntityBackReferencePropertiesGenerator.GenerateSources(SchemaCodeGeneratorResource`1 resource)
   at Terrasoft.Core.Packages.PackageInstallUtilities.GenerateSchemaAdditionalSource(Guid schemaId, Guid schemaUId, String schemaName, Boolean continueIfError)
2023-12-15 18:55:59,818 InstallError: .EventSegment (d0796434-2b4d-423c-85bd-ec51928533b7)
Npgsql.PostgresException (0x80004005): 53300: sorry, too many clients already
   at Npgsql.NpgsqlConnector.DoReadMessage(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isPrependedMessage)
   at Npgsql.NpgsqlConnector.ReadMessage(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications)
   at Npgsql.NpgsqlConnector.ReadMessage(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications)
   at Npgsql.NpgsqlConnector.ReadExpecting[T](Boolean async)
   at Npgsql.NpgsqlConnector.Authenticate(String username, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.ConnectorPool.AllocateLong(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.Open(Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.Open()
   at Terrasoft.Core.DB.DBExecutor.<get_DBConnection>b__23_0()
   at Polly.Policy.<>c__DisplayClass109_0.<Execute>b__0(Context ctx, CancellationToken ct)
   at Polly.Policy.<>c__DisplayClass103_0.<NoOp>b__1(Context ctx, CancellationToken ct)
   at Polly.Policy.<>c.<NoOp>b__103_0(Action`2 action, Context context, CancellationToken cancellationToken)
   at Polly.Policy.Execute(Action`2 action, Context context, CancellationToken cancellationToken)
   at Polly.Policy.Execute(Action action)
   at Terrasoft.Core.DB.DBExecutor.get_DBConnection()
   at Terrasoft.Core.DB.DBExecutor.CreateCommand()
   at Terrasoft.Core.DB.DBExecutor.ExecuteCommandAsync[TResult](Func`2 commandExecutionCallback, Func`2 commandExecutionCallbackAsync, String sqlText, QueryParameterCollection queryParameters, CancellationToken cancellationToken, Boolean sync)
   at Terrasoft.Core.DB.DBExecutor.InternalExecuteReader(String sqlText, QueryParameterCollection queryParameters, CommandBehavior behavior, CancellationToken cancellationToken)
   at Terrasoft.DB.PostgreSql.PostgreSqlExecutor.<>c__DisplayClass41_0.<InternalExecuteReader>b__0() in /opt/buildagent/work/ApplicationCoreLinux/TSBpm/Src/Lib/Terrasoft.DB.PostgreSql/PostgreSqlExecutor.cs:line 399
   at Terrasoft.DB.PostgreSql.PostgreSqlExecutor.ExecuteInLockIfInTransaction[TResult](Func`1 action) in /opt/buildagent/work/ApplicationCoreLinux/TSBpm/Src/Lib/Terrasoft.DB.PostgreSql/PostgreSqlExecutor.cs:line 266
   at Terrasoft.DB.PostgreSql.PostgreSqlExecutor.InternalExecuteReader(String sqlText, QueryParameterCollection queryParameters, CommandBehavior behavior, CancellationToken cancellationToken) in /opt/buildagent/work/ApplicationCoreLinux/TSBpm/Src/Lib/Terrasoft.DB.PostgreSql/PostgreSqlExecutor.cs:line 388
   at Terrasoft.Core.DB.DBExecutor.InternalExecuteReader(String sqlText, QueryParameterCollection queryParameters)
   at Terrasoft.Core.DB.Select.ExecuteReaderAsync(DBExecutor dbExecutor, Boolean sync)
   at Terrasoft.Core.DB.Select.ExecuteReader(DBExecutor dbExecutor)
   at Terrasoft.Core.DB.QueryExecutor.ExecuteReader(Select select, Action`1 readAction)
   at Terrasoft.Core.SchemaResourceManager.LoadResourcesForSchemaHierarchy(IEnumerable`1 schemaIds)
   at Terrasoft.Core.SchemaResourceManager.LoadRuntimeResourcesForSchema(Dictionary`2 localResourceSets, IEnumerable`1 schemaHierarchyIds)
   at Terrasoft.Core.SchemaResourceManager.LoadRuntimeResourcesForSchema(Dictionary`2 localResourceSets)
   at Terrasoft.Core.SchemaResourceManager.InternalGetResourceSet(CultureInfo cultureInfo, Boolean createIfNotExists, Boolean tryParents)
   at Terrasoft.Core.SchemaResourceManager.GetString(String name, CultureInfo culture)
   at Terrasoft.Common.LocalizableValue`1.GetCultureValue(CultureInfo culture, Boolean throwIfNoManager, Boolean useCultureFallback) in /opt/buildagent/work/ApplicationCoreLinux/TSBpm/Src/Lib/Terrasoft.Common/LocalizableValue.cs:line 323
   at Terrasoft.Common.LocalizableValue`1.LoadCultureValues(IEnumerable`1 culturesInfo) in /opt/buildagent/work/ApplicationCoreLinux/TSBpm/Src/Lib/Terrasoft.Common/LocalizableValue.cs:line 357
   at Terrasoft.Core.Schema.LoadLocalizableValues(IEnumerable`1 culturesInfo)
   at Terrasoft.Core.Entities.EntitySchema.LoadLocalizableValues(IEnumerable`1 culturesInfo)
   at Terrasoft.Core.MetaItem.ReadMetaData(DataReader reader)
   at Terrasoft.Core.Entities.EntitySchema.ReadMetaData(DataReader reader)
   at Terrasoft.Core.MetaDataSerializer.Deserialize(Func`1 getReader, Boolean useRuntimeSchema)+MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at Terrasoft.Core.SchemaManager`1.DeserializeSchemaManagerItem(Stream metaData, UserConnection userConnection)
   at Terrasoft.Core.SchemaManager`1.DeriveSchemaManagerItem(UserConnection userConnection, EntityCollection orderedSchemas)
   at Terrasoft.Core.SchemaManager`1.GetItemFromMetaData(Guid schemaUId, UserConnection userConnection, Boolean usePackageHierarchy, Guid sysPackageId, Nullable`1 workspaceId, Nullable`1 excludeSchemaUId, Boolean ignoreUserProperties, Boolean reinitializeLocalizableValues)
   at Terrasoft.Core.SchemaManager`1.GetItemFromMetaData(Guid schemaUId, UserConnection userConnection, Boolean usePackageHierarchy, Guid sysPackageId, Nullable`1 workspaceId, Nullable`1 excludeSchemaUId)
   at Terrasoft.Core.SchemaManager`1.GetItemFromMetaData(Guid schemaUId, UserConnection userConnection, Nullable`1 workspaceId)
   at Terrasoft.Core.Entities.EntityBackReferencePropertiesGenerator.GetReferenceSchemaForColumn(EntitySchemaColumn column)
   at Terrasoft.Core.Entities.EntityBackReferencePropertiesGenerator.AddPropertiesFromLookupColumn(EntitySchemaColumn column, Collection`1 columnProperties)
   at Terrasoft.Core.Entities.EntityBackReferencePropertiesGenerator.AddProperties(SchemaCodeGeneratorResource`1 resource, Collection`1 columnProperties)
   at Terrasoft.Core.Entities.EntityBackReferencePropertiesGenerator.WriteSchemaClassBody(GeneratorContext context, SchemaCodeGeneratorResource`1 resource, GeneratorTokenVisibility sourceVisibility)
   at Terrasoft.Core.CodeGeneration.SchemaCodeGenerator`1.GenerateSourceCode(SchemaCodeGeneratorResource`1 resource, TextWriter streamWriter, Action`3 action)
   at Terrasoft.Core.Entities.EntityBackReferencePropertiesGenerator.GenerateSources(SchemaCodeGeneratorResource`1 resource)
   at Terrasoft.Core.Packages.PackageInstallUtilities.GenerateSchemaAdditionalSource(Guid schemaId, Guid schemaUId, String schemaName, Boolean continueIfError)
2023-12-15 18:56:00,045 InstallError: .Like (19798138-68cb-45df-abc7-b1e7ffbe8a90)
Npgsql.PostgresException (0x80004005): 53300: sorry, too many clients already
   at Npgsql.NpgsqlConnector.DoReadMessage(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isPrependedMessage)
   at Npgsql.NpgsqlConnector.ReadMessage(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications)
   at Npgsql.NpgsqlConnector.ReadMessage(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications)
   at Npgsql.NpgsqlConnector.ReadExpecting[T](Boolean async)
   at Npgsql.NpgsqlConnector.Authenticate(String username, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.ConnectorPool.AllocateLong(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.Open(Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.Open()
   at Terrasoft.Core.DB.DBExecutor.<get_DBConnection>b__23_0()
   at Polly.Policy.<>c__DisplayClass109_0.<Execute>b__0(Context ctx, CancellationToken ct)
   at Polly.Policy.<>c__DisplayClass103_0.<NoOp>b__1(Context ctx, CancellationToken ct)
   at Polly.Policy.<>c.<NoOp>b__103_0(Action`2 action, Context context, CancellationToken cancellationToken)
   at Polly.Policy.Execute(Action`2 action, Context context, CancellationToken cancellationToken)
   at Polly.Policy.Execute(Action action)
   at Terrasoft.Core.DB.DBExecutor.get_DBConnection()
   at Terrasoft.Core.DB.DBExecutor.CreateCommand()
   at Terrasoft.Core.DB.DBExecutor.ExecuteCommandAsync[TResult](Func`2 commandExecutionCallback, Func`2 commandExecutionCallbackAsync, String sqlText, QueryParameterCollection queryParameters, CancellationToken cancellationToken, Boolean sync)
   at Terrasoft.Core.DB.DBExecutor.InternalExecuteReader(String sqlText, QueryParameterCollection queryParameters, CommandBehavior behavior, CancellationToken cancellationToken)
   at Terrasoft.DB.PostgreSql.PostgreSqlExecutor.<>c__DisplayClass41_0.<InternalExecuteReader>b__0() in /opt/buildagent/work/ApplicationCoreLinux/TSBpm/Src/Lib/Terrasoft.DB.PostgreSql/PostgreSqlExecutor.cs:line 399
   at Terrasoft.DB.PostgreSql.PostgreSqlExecutor.ExecuteInLockIfInTransaction[TResult](Func`1 action) in /opt/buildagent/work/ApplicationCoreLinux/TSBpm/Src/Lib/Terrasoft.DB.PostgreSql/PostgreSqlExecutor.cs:line 266
   at Terrasoft.DB.PostgreSql.PostgreSqlExecutor.InternalExecuteReader(String sqlText, QueryParameterCollection queryParameters, CommandBehavior behavior, CancellationToken cancellationToken) in /opt/buildagent/work/ApplicationCoreLinux/TSBpm/Src/Lib/Terrasoft.DB.PostgreSql/PostgreSqlExecutor.cs:line 388
   at Terrasoft.Core.DB.DBExecutor.InternalExecuteReader(String sqlText, QueryParameterCollection queryParameters)
   at Terrasoft.Core.DB.Select.ExecuteReaderAsync(DBExecutor dbExecutor, Boolean sync)
   at Terrasoft.Core.DB.Select.ExecuteReader(DBExecutor dbExecutor)
   at Terrasoft.Core.DB.QueryExecutor.ExecuteReader(Select select, Action`1 readAction)
   at Terrasoft.Core.SchemaResourceManager.LoadResourcesForSchemaHierarchy(IEnumerable`1 schemaIds)
   at Terrasoft.Core.SchemaResourceManager.LoadRuntimeResourcesForSchema(Dictionary`2 localResourceSets, IEnumerable`1 schemaHierarchyIds)
   at Terrasoft.Core.SchemaResourceManager.InitializeResourceSets(String schemaName)
   at Terrasoft.Core.SchemaResourceManager.ReInitializeResourceSets(String schemaName)
   at Terrasoft.Core.SchemaManager`1.CreateRuntimeSchemaFromMetaData(Guid schemaUId, UserConnection userConnection, Boolean initResources)
   at Terrasoft.Core.Entities.EntitySchemaManager.CreateRuntimeSchemaFromMetaData(Guid schemaUId, UserConnection userConnection, Boolean initResources)
   at Terrasoft.Core.Packages.PackageInstallUtilities.GenerateSchemaAdditionalSource(Guid schemaId, Guid schemaUId, String schemaName, Boolean continueIfError)
2023-12-15 18:56:00,654 InstallError: .ConfItemInFolder (d685c9c3-c88c-44dc-b4f5-7b654175390a)
Npgsql.PostgresException (0x80004005): 53300: sorry, too many clients already
   at Npgsql.NpgsqlConnector.DoReadMessage(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isPrependedMessage)
   at Npgsql.NpgsqlConnector.ReadMessage(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications)
   at Npgsql.NpgsqlConnector.ReadMessage(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications)
   at Npgsql.NpgsqlConnector.ReadExpecting[T](Boolean async)
   at Npgsql.NpgsqlConnector.Authenticate(String username, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.ConnectorPool.AllocateLong(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.Open(Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.Open()
   at Terrasoft.Core.DB.DBExecutor.<get_DBConnection>b__23_0()
   at Polly.Policy.<>c__DisplayClass109_0.<Execute>b__0(Context ctx, CancellationToken ct)
   at Polly.Policy.<>c__DisplayClass103_0.<NoOp>b__1(Context ctx, CancellationToken ct)
   at Polly.Policy.<>c.<NoOp>b__103_0(Action`2 action, Context context, CancellationToken cancellationToken)
   at Polly.Policy.Execute(Action`2 action, Context context, CancellationToken cancellationToken)
   at Polly.Policy.Execute(Action action)
   at Terrasoft.Core.DB.DBExecutor.get_DBConnection()
   at Terrasoft.Core.DB.DBExecutor.CreateCommand()
   at Terrasoft.Core.DB.DBExecutor.ExecuteCommandAsync[TResult](Func`2 commandExecutionCallback, Func`2 commandExecutionCallbackAsync, String sqlText, QueryParameterCollection queryParameters, CancellationToken cancellationToken, Boolean sync)
   at Terrasoft.Core.DB.DBExecutor.InternalExecuteReader(String sqlText, QueryParameterCollection queryParameters, CommandBehavior behavior, CancellationToken cancellationToken)
   at Terrasoft.DB.PostgreSql.PostgreSqlExecutor.<>c__DisplayClass41_0.<InternalExecuteReader>b__0() in /opt/buildagent/work/ApplicationCoreLinux/TSBpm/Src/Lib/Terrasoft.DB.PostgreSql/PostgreSqlExecutor.cs:line 399
   at Terrasoft.DB.PostgreSql.PostgreSqlExecutor.ExecuteInLockIfInTransaction[TResult](Func`1 action) in /opt/buildagent/work/ApplicationCoreLinux/TSBpm/Src/Lib/Terrasoft.DB.PostgreSql/PostgreSqlExecutor.cs:line 266
   at Terrasoft.DB.PostgreSql.PostgreSqlExecutor.InternalExecuteReader(String sqlText, QueryParameterCollection queryParameters, CommandBehavior behavior, CancellationToken cancellationToken) in /opt/buildagent/work/ApplicationCoreLinux/TSBpm/Src/Lib/Terrasoft.DB.PostgreSql/PostgreSqlExecutor.cs:line 388
   at Terrasoft.Core.DB.DBExecutor.InternalExecuteReader(String sqlText, QueryParameterCollection queryParameters)
   at Terrasoft.Core.DB.Select.ExecuteReaderAsync(DBExecutor dbExecutor, Boolean sync)
   at Terrasoft.Core.DB.Select.ExecuteReader(DBExecutor dbExecutor)
   at Terrasoft.Core.DB.QueryExecutor.ExecuteReader(Select select, Action`1 readAction)
   at Terrasoft.Core.SchemaResourceManager.LoadPlainResourcesForSchemaHierarchy(IEnumerable`1 schemaIds, Guid sysPackageId)
   at Terrasoft.Core.SchemaResourceManager.ReInitializeDesignResourceSets(IEnumerable`1 schemaHierarchyIds, Guid sysPackageId)
   at Terrasoft.Core.SchemaManager`1.ReInitializeSchemaResourceManager(Guid schemaUId, HierarchySchemaInfo schemaInfo)
   at Terrasoft.Core.SchemaManager`1.ReInitializeSchemaLocalizableValues(UserConnection userConnection, ISchemaManagerItem`1 schemaItem, HierarchySchemaInfo hierarchySchemaInfo)
   at Terrasoft.Core.SchemaManager`1.GetItemFromMetaData(Guid schemaUId, UserConnection userConnection, Boolean usePackageHierarchy, Guid sysPackageId, Nullable`1 workspaceId, Nullable`1 excludeSchemaUId, Boolean ignoreUserProperties, Boolean reinitializeLocalizableValues)
   at Terrasoft.Core.SchemaManager`1.GetItemFromMetaData(Guid schemaUId, UserConnection userConnection, Boolean usePackageHierarchy, Guid sysPackageId, Nullable`1 workspaceId, Nullable`1 excludeSchemaUId)
   at Terrasoft.Core.SchemaManager`1.GetItemFromMetaData(Guid schemaUId, UserConnection userConnection, Nullable`1 workspaceId)
   at Terrasoft.Core.Entities.EntityBackReferencePropertiesGenerator.GetReferenceSchemaForColumn(EntitySchemaColumn column)
   at Terrasoft.Core.Entities.EntityBackReferencePropertiesGenerator.AddPropertiesFromLookupColumn(EntitySchemaColumn column, Collection`1 columnProperties)
   at Terrasoft.Core.Entities.EntityBackReferencePropertiesGenerator.AddProperties(SchemaCodeGeneratorResource`1 resource, Collection`1 columnProperties)
   at Terrasoft.Core.Entities.EntityBackReferencePropertiesGenerator.WriteSchemaClassBody(GeneratorContext context, SchemaCodeGeneratorResource`1 resource, GeneratorTokenVisibility sourceVisibility)
   at Terrasoft.Core.CodeGeneration.SchemaCodeGenerator`1.GenerateSourceCode(SchemaCodeGeneratorResource`1 resource, TextWriter streamWriter, Action`3 action)
   at Terrasoft.Core.Entities.EntityBackReferencePropertiesGenerator.GenerateSources(SchemaCodeGeneratorResource`1 resource)
   at Terrasoft.Core.Packages.PackageInstallUtilities.GenerateSchemaAdditionalSource(Guid schemaId, Guid schemaUId, String schemaName, Boolean continueIfError)
2023-12-15 19:53:38,996 InstallError: Custom.UsrCampaign1 (444f10a6-fc6b-4c71-8f11-9da1cceb8a0c)
System.ArgumentNullException: Value cannot be null. (Parameter 'type')
   at System.Activator.CreateInstance(Type type, Boolean nonPublic, Boolean wrapExceptions)
   at Terrasoft.Core.Campaign.FlowElementCollection.CreateItemInstance(String typeName)
   at Terrasoft.Core.Process.BaseProcessSchemaFactoryMetaItemCollection`1.CreateItem(DataReader reader)
   at Terrasoft.Core.Process.BaseProcessSchemaFactoryMetaItemCollection`1.ReadMetaData(DataReader reader)
   at Terrasoft.Core.Campaign.CampaignSchema.ApplyMetaDataValue(DataReader reader)
   at Terrasoft.Core.MetaItem.ReadMetaData(DataReader reader)
   at Terrasoft.Core.MetaDataSerializer.Deserialize(Func`1 getReader, Boolean useRuntimeSchema)+MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at Terrasoft.Core.SchemaManager`1.DeserializeSchemaManagerItem(Stream metaData, UserConnection userConnection)
   at Terrasoft.Core.SchemaManager`1.DeriveSchemaManagerItem(UserConnection userConnection, EntityCollection orderedSchemas)
   at Terrasoft.Core.Process.BaseProcessSchemaManager`1.DeriveSchemaManagerItem(UserConnection userConnection, EntityCollection schemas)
   at Terrasoft.Core.SchemaManager`1.GetItemFromMetaData(Guid schemaUId, UserConnection userConnection, Boolean usePackageHierarchy, Guid sysPackageId, Nullable`1 workspaceId, Nullable`1 excludeSchemaUId, Boolean ignoreUserProperties, Boolean reinitializeLocalizableValues)
   at Terrasoft.Core.Process.BaseProcessSchemaManager`1.GetItemFromMetaData(Guid schemaUId, UserConnection userConnection, Boolean usePackageHierarchy, Guid sysPackageId, Nullable`1 workspaceId, Nullable`1 excludeSchemaUId)
   at Terrasoft.Core.SchemaManager`1.GetItemFromMetaData(Guid schemaUId, UserConnection userConnection, Nullable`1 workspaceId)
   at Terrasoft.Core.SchemaManager`1.Terrasoft.Core.ISchemaManager.GetItemFromMetaData(Guid sysSchemaUId, UserConnection userConnection)
   at Terrasoft.Core.Packages.PackageInstallUtilities.InstallSchemaAssociatedData(Guid schemaId, SchemaDescriptor schemaDescriptor, Boolean continueIfError)
2023-12-15 20:15:18,013 Operation [Build] started
2023-12-15 20:22:48,346 Operation [Build] started
2023-12-15 20:25:24,176 Operation [Build] took 155 s 829 ms
2023-12-15 20:43:08,469 Creating storage directory [/tmp//root/app/PackageInstallation/Temp]
2023-12-15 20:43:08,469 Downloading file [CSL_MaintenanceTools.gz]
2023-12-15 20:43:08,469 Unzipping [/tmp//root/app/PackageInstallation/Temp/CSL_MaintenanceTools.gz]
2023-12-15 20:43:08,484 Unzipped [/tmp//root/app/PackageInstallation/Temp/CSL_MaintenanceTools.gz] to [/tmp//root/app/PackageInstallation/Temp/CSL_MaintenanceTools]
2023-12-15 20:43:28,902 Generating schema sources count [0]: []
2023-12-15 20:43:28,906 Generated schema sources count [0]
2023-12-15 21:06:25,143 Operation [Build] started
2023-12-15 21:11:26,245 Operation [Build] started
2023-12-15 21:14:02,951 Operation [Build] took 156 s 706 ms
